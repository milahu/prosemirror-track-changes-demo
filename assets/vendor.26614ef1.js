var e=Object.defineProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable,r=(t,n,i)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i,o=(e,o)=>{for(var a in o||(o={}))n.call(o,a)&&r(e,a,o[a]);if(t)for(var a of t(o))i.call(o,a)&&r(e,a,o[a]);return e};function a(e){this.content=e}a.prototype={constructor:a,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var i=n&&n!=e?this.remove(n):this,r=i.find(e),o=i.content.slice();return-1==r?o.push(n||e,t):(o[r+1]=t,n&&(o[r]=n)),new a(o)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new a(n)},addToStart:function(e,t){return new a([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new a(n)},addBefore:function(e,t,n){var i=this.remove(t),r=i.content.slice(),o=i.find(e);return r.splice(-1==o?r.length:o,0,t,n),new a(r)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=a.from(e)).size?new a(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=a.from(e)).size?new a(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=a.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},get size(){return this.content.length>>1}},a.from=function(e){if(e instanceof a)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new a(t)};var s=a;function c(e,t,n){for(var i=0;;i++){if(i==e.childCount||i==t.childCount)return e.childCount==t.childCount?null:n;var r=e.child(i),o=t.child(i);if(r!=o){if(!r.sameMarkup(o))return n;if(r.isText&&r.text!=o.text){for(var a=0;r.text[a]==o.text[a];a++)n++;return n}if(r.content.size||o.content.size){var s=c(r.content,o.content,n+1);if(null!=s)return s}n+=r.nodeSize}else n+=r.nodeSize}}function u(e,t,n,i){for(var r=e.childCount,o=t.childCount;;){if(0==r||0==o)return r==o?null:{a:n,b:i};var a=e.child(--r),s=t.child(--o),c=a.nodeSize;if(a!=s){if(!a.sameMarkup(s))return{a:n,b:i};if(a.isText&&a.text!=s.text){for(var l=0,d=Math.min(a.text.length,s.text.length);l<d&&a.text[a.text.length-l-1]==s.text[s.text.length-l-1];)l++,n--,i--;return{a:n,b:i}}if(a.content.size||s.content.size){var h=u(a.content,s.content,n-1,i-1);if(h)return h}n-=c,i-=c}else n-=c,i-=c}}var l=function(e,t){if(this.content=e,this.size=t||0,null==t)for(var n=0;n<e.length;n++)this.size+=e[n].nodeSize},d={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};l.prototype.nodesBetween=function(e,t,n,i,r){void 0===i&&(i=0);for(var o=0,a=0;a<t;o++){var s=this.content[o],c=a+s.nodeSize;if(c>e&&!1!==n(s,i+a,r,o)&&s.content.size){var u=a+1;s.nodesBetween(Math.max(0,e-u),Math.min(s.content.size,t-u),n,i+u)}a=c}},l.prototype.descendants=function(e){this.nodesBetween(0,this.size,e)},l.prototype.textBetween=function(e,t,n,i){var r="",o=!0;return this.nodesBetween(e,t,(function(a,s){a.isText?(r+=a.text.slice(Math.max(e,s)-s,t-s),o=!n):a.isLeaf&&i?(r+=i,o=!n):!o&&a.isBlock&&(r+=n,o=!0)}),0),r},l.prototype.append=function(e){if(!e.size)return this;if(!this.size)return e;var t=this.lastChild,n=e.firstChild,i=this.content.slice(),r=0;for(t.isText&&t.sameMarkup(n)&&(i[i.length-1]=t.withText(t.text+n.text),r=1);r<e.content.length;r++)i.push(e.content[r]);return new l(i,this.size+e.size)},l.prototype.cut=function(e,t){if(null==t&&(t=this.size),0==e&&t==this.size)return this;var n=[],i=0;if(t>e)for(var r=0,o=0;o<t;r++){var a=this.content[r],s=o+a.nodeSize;s>e&&((o<e||s>t)&&(a=a.isText?a.cut(Math.max(0,e-o),Math.min(a.text.length,t-o)):a.cut(Math.max(0,e-o-1),Math.min(a.content.size,t-o-1))),n.push(a),i+=a.nodeSize),o=s}return new l(n,i)},l.prototype.cutByIndex=function(e,t){return e==t?l.empty:0==e&&t==this.content.length?this:new l(this.content.slice(e,t))},l.prototype.replaceChild=function(e,t){var n=this.content[e];if(n==t)return this;var i=this.content.slice(),r=this.size+t.nodeSize-n.nodeSize;return i[e]=t,new l(i,r)},l.prototype.addToStart=function(e){return new l([e].concat(this.content),this.size+e.nodeSize)},l.prototype.addToEnd=function(e){return new l(this.content.concat(e),this.size+e.nodeSize)},l.prototype.eq=function(e){if(this.content.length!=e.content.length)return!1;for(var t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0},d.firstChild.get=function(){return this.content.length?this.content[0]:null},d.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},d.childCount.get=function(){return this.content.length},l.prototype.child=function(e){var t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t},l.prototype.maybeChild=function(e){return this.content[e]},l.prototype.forEach=function(e){for(var t=0,n=0;t<this.content.length;t++){var i=this.content[t];e(i,n,t),n+=i.nodeSize}},l.prototype.findDiffStart=function(e,t){return void 0===t&&(t=0),c(this,e,t)},l.prototype.findDiffEnd=function(e,t,n){return void 0===t&&(t=this.size),void 0===n&&(n=e.size),u(this,e,t,n)},l.prototype.findIndex=function(e,t){if(void 0===t&&(t=-1),0==e)return p(0,e);if(e==this.size)return p(this.content.length,e);if(e>this.size||e<0)throw new RangeError("Position "+e+" outside of fragment ("+this+")");for(var n=0,i=0;;n++){var r=i+this.child(n).nodeSize;if(r>=e)return r==e||t>0?p(n+1,r):p(n,i);i=r}},l.prototype.toString=function(){return"<"+this.toStringInner()+">"},l.prototype.toStringInner=function(){return this.content.join(", ")},l.prototype.toJSON=function(){return this.content.length?this.content.map((function(e){return e.toJSON()})):null},l.fromJSON=function(e,t){if(!t)return l.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new l(t.map(e.nodeFromJSON))},l.fromArray=function(e){if(!e.length)return l.empty;for(var t,n=0,i=0;i<e.length;i++){var r=e[i];n+=r.nodeSize,i&&r.isText&&e[i-1].sameMarkup(r)?(t||(t=e.slice(0,i)),t[t.length-1]=r.withText(t[t.length-1].text+r.text)):t&&t.push(r)}return new l(t||e,n)},l.from=function(e){if(!e)return l.empty;if(e instanceof l)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new l([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(l.prototype,d);var h={index:0,offset:0};function p(e,t){return h.index=e,h.offset=t,h}function f(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;var n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(var i=0;i<e.length;i++)if(!f(e[i],t[i]))return!1}else{for(var r in e)if(!(r in t)||!f(e[r],t[r]))return!1;for(var o in t)if(!(o in e))return!1}return!0}l.empty=new l([],0);var m=function(e,t){this.type=e,this.attrs=t};function g(e){var t=Error.call(this,e);return t.__proto__=g.prototype,t}m.prototype.addToSet=function(e){for(var t,n=!1,i=0;i<e.length;i++){var r=e[i];if(this.eq(r))return e;if(this.type.excludes(r.type))t||(t=e.slice(0,i));else{if(r.type.excludes(this.type))return e;!n&&r.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),n=!0),t&&t.push(r)}}return t||(t=e.slice()),n||t.push(this),t},m.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e},m.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1},m.prototype.eq=function(e){return this==e||this.type==e.type&&f(this.attrs,e.attrs)},m.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return e},m.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");var n=e.marks[t.type];if(!n)throw new RangeError("There is no mark type "+t.type+" in this schema");return n.create(t.attrs)},m.sameSet=function(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0},m.setFrom=function(e){if(!e||0==e.length)return m.none;if(e instanceof m)return[e];var t=e.slice();return t.sort((function(e,t){return e.type.rank-t.type.rank})),t},m.none=[],g.prototype=Object.create(Error.prototype),g.prototype.constructor=g,g.prototype.name="ReplaceError";var x=function(e,t,n){this.content=e,this.openStart=t,this.openEnd=n},v={size:{configurable:!0}};function b(e,t,n){var i=e.findIndex(t),r=i.index,o=i.offset,a=e.maybeChild(r),s=e.findIndex(n),c=s.index,u=s.offset;if(o==t||a.isText){if(u!=n&&!e.child(c).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=c)throw new RangeError("Removing non-flat range");return e.replaceChild(r,a.copy(b(a.content,t-o-1,n-o-1)))}function y(e,t,n,i){var r=e.findIndex(t),o=r.index,a=r.offset,s=e.maybeChild(o);if(a==t||s.isText)return i&&!i.canReplace(o,o,n)?null:e.cut(0,t).append(n).append(e.cut(t));var c=y(s.content,t-a-1,n);return c&&e.replaceChild(o,s.copy(c))}function w(e,t,n){if(n.openStart>e.depth)throw new g("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new g("Inconsistent open depths");return k(e,t,n,0)}function k(e,t,n,i){var r=e.index(i),o=e.node(i);if(r==t.index(i)&&i<e.depth-n.openStart){var a=k(e,t,n,i+1);return o.copy(o.content.replaceChild(r,a))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=i||t.depth!=i){var s=function(e,t){for(var n=t.depth-e.openStart,i=t.node(n).copy(e.content),r=n-1;r>=0;r--)i=t.node(r).copy(l.from(i));return{start:i.resolveNoCache(e.openStart+n),end:i.resolveNoCache(i.content.size-e.openEnd-n)}}(n,e);return O(o,M(e,s.start,s.end,t,i))}var c=e.parent,u=c.content;return O(c,u.cut(0,e.parentOffset).append(n.content).append(u.cut(t.parentOffset)))}return O(o,D(e,t,i))}function _(e,t){if(!t.type.compatibleContent(e.type))throw new g("Cannot join "+t.type.name+" onto "+e.type.name)}function C(e,t,n){var i=e.node(n);return _(i,t.node(n)),i}function S(e,t){var n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function E(e,t,n,i){var r=(t||e).node(n),o=0,a=t?t.index(n):r.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(S(e.nodeAfter,i),o++));for(var s=o;s<a;s++)S(r.child(s),i);t&&t.depth==n&&t.textOffset&&S(t.nodeBefore,i)}function O(e,t){if(!e.type.validContent(t))throw new g("Invalid content for node "+e.type.name);return e.copy(t)}function M(e,t,n,i,r){var o=e.depth>r&&C(e,t,r+1),a=i.depth>r&&C(n,i,r+1),s=[];return E(null,e,r,s),o&&a&&t.index(r)==n.index(r)?(_(o,a),S(O(o,M(e,t,n,i,r+1)),s)):(o&&S(O(o,D(e,t,r+1)),s),E(t,n,r,s),a&&S(O(a,D(n,i,r+1)),s)),E(i,null,r,s),new l(s)}function D(e,t,n){var i=[];(E(null,e,n,i),e.depth>n)&&S(O(C(e,t,n+1),D(e,t,n+1)),i);return E(t,null,n,i),new l(i)}v.size.get=function(){return this.content.size-this.openStart-this.openEnd},x.prototype.insertAt=function(e,t){var n=y(this.content,e+this.openStart,t,null);return n&&new x(n,this.openStart,this.openEnd)},x.prototype.removeBetween=function(e,t){return new x(b(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)},x.prototype.eq=function(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd},x.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},x.prototype.toJSON=function(){if(!this.content.size)return null;var e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e},x.fromJSON=function(e,t){if(!t)return x.empty;var n=t.openStart||0,i=t.openEnd||0;if("number"!=typeof n||"number"!=typeof i)throw new RangeError("Invalid input for Slice.fromJSON");return new x(l.fromJSON(e,t.content),n,i)},x.maxOpen=function(e,t){void 0===t&&(t=!0);for(var n=0,i=0,r=e.firstChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.firstChild)n++;for(var o=e.lastChild;o&&!o.isLeaf&&(t||!o.type.spec.isolating);o=o.lastChild)i++;return new x(e,n,i)},Object.defineProperties(x.prototype,v),x.empty=new x(l.empty,0,0);var T=function(e,t,n){this.pos=e,this.path=t,this.depth=t.length/3-1,this.parentOffset=n},A={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};T.prototype.resolveDepth=function(e){return null==e?this.depth:e<0?this.depth+e:e},A.parent.get=function(){return this.node(this.depth)},A.doc.get=function(){return this.node(0)},T.prototype.node=function(e){return this.path[3*this.resolveDepth(e)]},T.prototype.index=function(e){return this.path[3*this.resolveDepth(e)+1]},T.prototype.indexAfter=function(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)},T.prototype.start=function(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1},T.prototype.end=function(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size},T.prototype.before=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]},T.prototype.after=function(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize},A.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},A.nodeAfter.get=function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var n=this.pos-this.path[this.path.length-1],i=e.child(t);return n?e.child(t).cut(n):i},A.nodeBefore.get=function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)},T.prototype.posAtIndex=function(e,t){t=this.resolveDepth(t);for(var n=this.path[3*t],i=0==t?0:this.path[3*t-1]+1,r=0;r<e;r++)i+=n.child(r).nodeSize;return i},T.prototype.marks=function(){var e=this.parent,t=this.index();if(0==e.content.size)return m.none;if(this.textOffset)return e.child(t).marks;var n=e.maybeChild(t-1),i=e.maybeChild(t);if(!n){var r=n;n=i,i=r}for(var o=n.marks,a=0;a<o.length;a++)!1!==o[a].type.spec.inclusive||i&&o[a].isInSet(i.marks)||(o=o[a--].removeFromSet(o));return o},T.prototype.marksAcross=function(e){var t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;for(var n=t.marks,i=e.parent.maybeChild(e.index()),r=0;r<n.length;r++)!1!==n[r].type.spec.inclusive||i&&n[r].isInSet(i.marks)||(n=n[r--].removeFromSet(n));return n},T.prototype.sharedDepth=function(e){for(var t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0},T.prototype.blockRange=function(e,t){if(void 0===e&&(e=this),e.pos<this.pos)return e.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new I(this,e,n)},T.prototype.sameParent=function(e){return this.pos-this.parentOffset==e.pos-e.parentOffset},T.prototype.max=function(e){return e.pos>this.pos?e:this},T.prototype.min=function(e){return e.pos<this.pos?e:this},T.prototype.toString=function(){for(var e="",t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset},T.resolve=function(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");for(var n=[],i=0,r=t,o=e;;){var a=o.content.findIndex(r),s=a.index,c=a.offset,u=r-c;if(n.push(o,s,i+c),!u)break;if((o=o.child(s)).isText)break;r=u-1,i+=c+1}return new T(t,n,r)},T.resolveCached=function(e,t){for(var n=0;n<N.length;n++){var i=N[n];if(i.pos==t&&i.doc==e)return i}var r=N[z]=T.resolve(e,t);return z=(z+1)%R,r},Object.defineProperties(T.prototype,A);var N=[],z=0,R=12,I=function(e,t,n){this.$from=e,this.$to=t,this.depth=n},B={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};B.start.get=function(){return this.$from.before(this.depth+1)},B.end.get=function(){return this.$to.after(this.depth+1)},B.parent.get=function(){return this.$from.node(this.depth)},B.startIndex.get=function(){return this.$from.index(this.depth)},B.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(I.prototype,B);var L=Object.create(null),P=function(e,t,n,i){this.type=e,this.attrs=t,this.content=n||l.empty,this.marks=i||m.none},q={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};q.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},q.childCount.get=function(){return this.content.childCount},P.prototype.child=function(e){return this.content.child(e)},P.prototype.maybeChild=function(e){return this.content.maybeChild(e)},P.prototype.forEach=function(e){this.content.forEach(e)},P.prototype.nodesBetween=function(e,t,n,i){void 0===i&&(i=0),this.content.nodesBetween(e,t,n,i,this)},P.prototype.descendants=function(e){this.nodesBetween(0,this.content.size,e)},q.textContent.get=function(){return this.textBetween(0,this.content.size,"")},P.prototype.textBetween=function(e,t,n,i){return this.content.textBetween(e,t,n,i)},q.firstChild.get=function(){return this.content.firstChild},q.lastChild.get=function(){return this.content.lastChild},P.prototype.eq=function(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)},P.prototype.sameMarkup=function(e){return this.hasMarkup(e.type,e.attrs,e.marks)},P.prototype.hasMarkup=function(e,t,n){return this.type==e&&f(this.attrs,t||e.defaultAttrs||L)&&m.sameSet(this.marks,n||m.none)},P.prototype.copy=function(e){return void 0===e&&(e=null),e==this.content?this:new this.constructor(this.type,this.attrs,e,this.marks)},P.prototype.mark=function(e){return e==this.marks?this:new this.constructor(this.type,this.attrs,this.content,e)},P.prototype.cut=function(e,t){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))},P.prototype.slice=function(e,t,n){if(void 0===t&&(t=this.content.size),void 0===n&&(n=!1),e==t)return x.empty;var i=this.resolve(e),r=this.resolve(t),o=n?0:i.sharedDepth(t),a=i.start(o),s=i.node(o).content.cut(i.pos-a,r.pos-a);return new x(s,i.depth-o,r.depth-o)},P.prototype.replace=function(e,t,n){return w(this.resolve(e),this.resolve(t),n)},P.prototype.nodeAt=function(e){for(var t=this;;){var n=t.content.findIndex(e),i=n.index,r=n.offset;if(!(t=t.maybeChild(i)))return null;if(r==e||t.isText)return t;e-=r+1}},P.prototype.childAfter=function(e){var t=this.content.findIndex(e),n=t.index,i=t.offset;return{node:this.content.maybeChild(n),index:n,offset:i}},P.prototype.childBefore=function(e){if(0==e)return{node:null,index:0,offset:0};var t=this.content.findIndex(e),n=t.index,i=t.offset;if(i<e)return{node:this.content.child(n),index:n,offset:i};var r=this.content.child(n-1);return{node:r,index:n-1,offset:i-r.nodeSize}},P.prototype.resolve=function(e){return T.resolveCached(this,e)},P.prototype.resolveNoCache=function(e){return T.resolve(this,e)},P.prototype.rangeHasMark=function(e,t,n){var i=!1;return t>e&&this.nodesBetween(e,t,(function(e){return n.isInSet(e.marks)&&(i=!0),!i})),i},q.isBlock.get=function(){return this.type.isBlock},q.isTextblock.get=function(){return this.type.isTextblock},q.inlineContent.get=function(){return this.type.inlineContent},q.isInline.get=function(){return this.type.isInline},q.isText.get=function(){return this.type.isText},q.isLeaf.get=function(){return this.type.isLeaf},q.isAtom.get=function(){return this.type.isAtom},P.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),j(this.marks,e)},P.prototype.contentMatchAt=function(e){var t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t},P.prototype.canReplace=function(e,t,n,i,r){void 0===n&&(n=l.empty),void 0===i&&(i=0),void 0===r&&(r=n.childCount);var o=this.contentMatchAt(e).matchFragment(n,i,r),a=o&&o.matchFragment(this.content,t);if(!a||!a.validEnd)return!1;for(var s=i;s<r;s++)if(!this.type.allowsMarks(n.child(s).marks))return!1;return!0},P.prototype.canReplaceWith=function(e,t,n,i){if(i&&!this.type.allowsMarks(i))return!1;var r=this.contentMatchAt(e).matchType(n),o=r&&r.matchFragment(this.content,t);return!!o&&o.validEnd},P.prototype.canAppend=function(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)},P.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var e=m.none,t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!m.sameSet(e,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(e){return e.type.name})));this.content.forEach((function(e){return e.check()}))},P.prototype.toJSON=function(){var e={type:this.type.name};for(var t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map((function(e){return e.toJSON()}))),e},P.fromJSON=function(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}var i=l.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,i,n)},Object.defineProperties(P.prototype,q);var F=function(e){function t(t,n,i,r){if(e.call(this,t,n,null,r),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return t.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):j(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},t.prototype.textBetween=function(e,t){return this.text.slice(e,t)},n.nodeSize.get=function(){return this.text.length},t.prototype.mark=function(e){return e==this.marks?this:new t(this.type,this.attrs,this.text,e)},t.prototype.withText=function(e){return e==this.text?this:new t(this.type,this.attrs,e,this.marks)},t.prototype.cut=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.text.length),0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))},t.prototype.eq=function(e){return this.sameMarkup(e)&&this.text==e.text},t.prototype.toJSON=function(){var t=e.prototype.toJSON.call(this);return t.text=this.text,t},Object.defineProperties(t.prototype,n),t}(P);function j(e,t){for(var n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}var $=function(e){this.validEnd=e,this.next=[],this.wrapCache=[]},W={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};$.parse=function(e,t){var n=new U(e,t);if(null==n.next)return $.empty;var i=H(n);n.next&&n.err("Unexpected trailing text");var r=function(e){var t=Object.create(null);return n(Z(e,0));function n(i){var r=[];i.forEach((function(t){e[t].forEach((function(t){var n=t.term,i=t.to;if(n){var o=r.indexOf(n),a=o>-1&&r[o+1];Z(e,i).forEach((function(e){a||r.push(n,a=[]),-1==a.indexOf(e)&&a.push(e)}))}}))}));for(var o=t[i.join(",")]=new $(i.indexOf(e.length-1)>-1),a=0;a<r.length;a+=2){var s=r[a+1].sort(J);o.next.push(r[a],t[s.join(",")]||n(s))}return o}}(function(e){var t=[[]];return r(o(e,0),n()),t;function n(){return t.push([])-1}function i(e,n,i){var r={term:i,to:n};return t[e].push(r),r}function r(e,t){e.forEach((function(e){return e.to=t}))}function o(e,t){if("choice"==e.type)return e.exprs.reduce((function(e,n){return e.concat(o(n,t))}),[]);if("seq"==e.type)for(var a=0;;a++){var s=o(e.exprs[a],t);if(a==e.exprs.length-1)return s;r(s,t=n())}else{if("star"==e.type){var c=n();return i(t,c),r(o(e.expr,c),c),[i(c)]}if("plus"==e.type){var u=n();return r(o(e.expr,t),u),r(o(e.expr,u),u),[i(u)]}if("opt"==e.type)return[i(t)].concat(o(e.expr,t));if("range"==e.type){for(var l=t,d=0;d<e.min;d++){var h=n();r(o(e.expr,l),h),l=h}if(-1==e.max)r(o(e.expr,l),l);else for(var p=e.min;p<e.max;p++){var f=n();i(l,f),r(o(e.expr,l),f),l=f}return[i(l)]}if("name"==e.type)return[i(t,null,e.value)]}}}(i));return function(e,t){for(var n=0,i=[e];n<i.length;n++){for(var r=i[n],o=!r.validEnd,a=[],s=0;s<r.next.length;s+=2){var c=r.next[s],u=r.next[s+1];a.push(c.name),!o||c.isText||c.hasRequiredAttrs()||(o=!1),-1==i.indexOf(u)&&i.push(u)}o&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(r,n),r},$.prototype.matchType=function(e){for(var t=0;t<this.next.length;t+=2)if(this.next[t]==e)return this.next[t+1];return null},$.prototype.matchFragment=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=e.childCount);for(var i=this,r=t;i&&r<n;r++)i=i.matchType(e.child(r).type);return i},W.inlineContent.get=function(){var e=this.next[0];return!!e&&e.isInline},W.defaultType.get=function(){for(var e=0;e<this.next.length;e+=2){var t=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}},$.prototype.compatible=function(e){for(var t=0;t<this.next.length;t+=2)for(var n=0;n<e.next.length;n+=2)if(this.next[t]==e.next[n])return!0;return!1},$.prototype.fillBefore=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=0);var i=[this];return function r(o,a){var s=o.matchFragment(e,n);if(s&&(!t||s.validEnd))return l.from(a.map((function(e){return e.createAndFill()})));for(var c=0;c<o.next.length;c+=2){var u=o.next[c],d=o.next[c+1];if(!u.isText&&!u.hasRequiredAttrs()&&-1==i.indexOf(d)){i.push(d);var h=r(d,a.concat(u));if(h)return h}}}(this,[])},$.prototype.findWrapping=function(e){for(var t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];var n=this.computeWrapping(e);return this.wrapCache.push(e,n),n},$.prototype.computeWrapping=function(e){for(var t=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var i=n.shift(),r=i.match;if(r.matchType(e)){for(var o=[],a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(var s=0;s<r.next.length;s+=2){var c=r.next[s];c.isLeaf||c.hasRequiredAttrs()||c.name in t||i.type&&!r.next[s+1].validEnd||(n.push({match:c.contentMatch,type:c,via:i}),t[c.name]=!0)}}},W.edgeCount.get=function(){return this.next.length>>1},$.prototype.edge=function(e){var t=e<<1;if(t>=this.next.length)throw new RangeError("There's no "+e+"th edge in this content match");return{type:this.next[t],next:this.next[t+1]}},$.prototype.toString=function(){var e=[];return function t(n){e.push(n);for(var i=1;i<n.next.length;i+=2)-1==e.indexOf(n.next[i])&&t(n.next[i])}(this),e.map((function(t,n){for(var i=n+(t.validEnd?"*":" ")+" ",r=0;r<t.next.length;r+=2)i+=(r?", ":"")+t.next[r].name+"->"+e.indexOf(t.next[r+1]);return i})).join("\n")},Object.defineProperties($.prototype,W),$.empty=new $(!0);var U=function(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},V={next:{configurable:!0}};function H(e){var t=[];do{t.push(Y(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function Y(e){var t=[];do{t.push(G(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function G(e){for(var t=function(e){if(e.eat("(")){var t=H(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){var n=function(e,t){var n=e.nodeTypes,i=n[t];if(i)return[i];var r=[];for(var o in n){var a=n[o];a.groups.indexOf(t)>-1&&r.push(a)}0==r.length&&e.err("No node type or group '"+t+"' found");return r}(e,e.next).map((function(t){return null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}}));return e.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}e.err("Unexpected token '"+e.next+"'")}(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=X(e,t)}return t}function K(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function X(e,t){var n=K(e),i=n;return e.eat(",")&&(i="}"!=e.next?K(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:t}}function J(e,t){return t-e}function Z(e,t){var n=[];return function t(i){var r=e[i];if(1==r.length&&!r[0].term)return t(r[0].to);n.push(i);for(var o=0;o<r.length;o++){var a=r[o],s=a.term,c=a.to;s||-1!=n.indexOf(c)||t(c)}}(t),n.sort(J)}function Q(e){var t=Object.create(null);for(var n in e){var i=e[n];if(!i.hasDefault)return null;t[n]=i.default}return t}function ee(e,t){var n=Object.create(null);for(var i in e){var r=t&&t[i];if(void 0===r){var o=e[i];if(!o.hasDefault)throw new RangeError("No value supplied for attribute "+i);r=o.default}n[i]=r}return n}function te(e){var t=Object.create(null);if(e)for(var n in e)t[n]=new re(e[n]);return t}V.next.get=function(){return this.tokens[this.pos]},U.prototype.eat=function(e){return this.next==e&&(this.pos++||!0)},U.prototype.err=function(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")},Object.defineProperties(U.prototype,V);var ne=function(e,t,n){this.name=e,this.schema=t,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=te(n.attrs),this.defaultAttrs=Q(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e},ie={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};ie.isInline.get=function(){return!this.isBlock},ie.isTextblock.get=function(){return this.isBlock&&this.inlineContent},ie.isLeaf.get=function(){return this.contentMatch==$.empty},ie.isAtom.get=function(){return this.isLeaf||this.spec.atom},ne.prototype.hasRequiredAttrs=function(){for(var e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1},ne.prototype.compatibleContent=function(e){return this==e||this.contentMatch.compatible(e.contentMatch)},ne.prototype.computeAttrs=function(e){return!e&&this.defaultAttrs?this.defaultAttrs:ee(this.attrs,e)},ne.prototype.create=function(e,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new P(this,this.computeAttrs(e),l.from(t),m.setFrom(n))},ne.prototype.createChecked=function(e,t,n){if(t=l.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new P(this,this.computeAttrs(e),t,m.setFrom(n))},ne.prototype.createAndFill=function(e,t,n){if(e=this.computeAttrs(e),(t=l.from(t)).size){var i=this.contentMatch.fillBefore(t);if(!i)return null;t=i.append(t)}var r=this.contentMatch.matchFragment(t).fillBefore(l.empty,!0);return r?new P(this,e,t.append(r),m.setFrom(n)):null},ne.prototype.validContent=function(e){var t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(var n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0},ne.prototype.allowsMarkType=function(e){return null==this.markSet||this.markSet.indexOf(e)>-1},ne.prototype.allowsMarks=function(e){if(null==this.markSet)return!0;for(var t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0},ne.prototype.allowedMarks=function(e){if(null==this.markSet)return e;for(var t,n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:m.empty:e},ne.compile=function(e,t){var n=Object.create(null);e.forEach((function(e,i){return n[e]=new ne(e,t,i)}));var i=t.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var r in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(ne.prototype,ie);var re=function(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default},oe={isRequired:{configurable:!0}};oe.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(re.prototype,oe);var ae=function(e,t,n,i){this.name=e,this.schema=n,this.spec=i,this.attrs=te(i.attrs),this.rank=t,this.excluded=null;var r=Q(this.attrs);this.instance=r&&new m(this,r)};ae.prototype.create=function(e){return!e&&this.instance?this.instance:new m(this,ee(this.attrs,e))},ae.compile=function(e,t){var n=Object.create(null),i=0;return e.forEach((function(e,r){return n[e]=new ae(e,i++,t,r)})),n},ae.prototype.removeFromSet=function(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e},ae.prototype.isInSet=function(e){for(var t=0;t<e.length;t++)if(e[t].type==this)return e[t]},ae.prototype.excludes=function(e){return this.excluded.indexOf(e)>-1};var se=function(e){for(var t in this.spec={},e)this.spec[t]=e[t];this.spec.nodes=s.from(e.nodes),this.spec.marks=s.from(e.marks),this.nodes=ne.compile(this.spec.nodes,this),this.marks=ae.compile(this.spec.marks,this);var n=Object.create(null);for(var i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");var r=this.nodes[i],o=r.spec.content||"",a=r.spec.marks;r.contentMatch=n[o]||(n[o]=$.parse(o,this.nodes)),r.inlineContent=r.contentMatch.inlineContent,r.markSet="_"==a?null:a?ce(this,a.split(" ")):""!=a&&r.inlineContent?null:[]}for(var c in this.marks){var u=this.marks[c],l=u.spec.excludes;u.excluded=null==l?[u]:""==l?[]:ce(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function ce(e,t){for(var n=[],i=0;i<t.length;i++){var r=t[i],o=e.marks[r],a=o;if(o)n.push(o);else for(var s in e.marks){var c=e.marks[s];("_"==r||c.spec.group&&c.spec.group.split(" ").indexOf(r)>-1)&&n.push(a=c)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[i]+"'")}return n}se.prototype.node=function(e,t,n,i){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof ne))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,i)},se.prototype.text=function(e,t){var n=this.nodes.text;return new F(n,n.defaultAttrs,e,m.setFrom(t))},se.prototype.mark=function(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)},se.prototype.nodeFromJSON=function(e){return P.fromJSON(this,e)},se.prototype.markFromJSON=function(e){return m.fromJSON(this,e)},se.prototype.nodeType=function(e){var t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t};var ue=function(e,t){var n=this;this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach((function(e){e.tag?n.tags.push(e):e.style&&n.styles.push(e)})),this.normalizeLists=!this.tags.some((function(t){if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;var n=e.nodes[t.node];return n.contentMatch.matchType(n)}))};ue.prototype.parse=function(e,t){void 0===t&&(t={});var n=new me(this,t,!1);return n.addAll(e,null,t.from,t.to),n.finish()},ue.prototype.parseSlice=function(e,t){void 0===t&&(t={});var n=new me(this,t,!0);return n.addAll(e,null,t.from,t.to),x.maxOpen(n.finish())},ue.prototype.matchTag=function(e,t,n){for(var i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){var r=this.tags[i];if(xe(e,r.tag)&&(void 0===r.namespace||e.namespaceURI==r.namespace)&&(!r.context||t.matchesContext(r.context))){if(r.getAttrs){var o=r.getAttrs(e);if(!1===o)continue;r.attrs=o}return r}}},ue.prototype.matchStyle=function(e,t,n,i){for(var r=i?this.styles.indexOf(i)+1:0;r<this.styles.length;r++){var o=this.styles[r];if(!(0!=o.style.indexOf(e)||o.context&&!n.matchesContext(o.context)||o.style.length>e.length&&(61!=o.style.charCodeAt(e.length)||o.style.slice(e.length+1)!=t))){if(o.getAttrs){var a=o.getAttrs(t);if(!1===a)continue;o.attrs=a}return o}}},ue.schemaRules=function(e){var t=[];function n(e){for(var n=null==e.priority?50:e.priority,i=0;i<t.length;i++){var r=t[i];if((null==r.priority?50:r.priority)<n)break}t.splice(i,0,e)}var i=function(t){var i=e.marks[t].spec.parseDOM;i&&i.forEach((function(e){n(e=ve(e)),e.mark=t}))};for(var r in e.marks)i(r);var o;for(var a in e.nodes)o=void 0,(o=e.nodes[a].spec.parseDOM)&&o.forEach((function(e){n(e=ve(e)),e.node=a}));return t},ue.fromSchema=function(e){return e.cached.domParser||(e.cached.domParser=new ue(e,ue.schemaRules(e)))};var le={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},de={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},he={ol:!0,ul:!0};function pe(e){return(e?1:0)|("full"===e?2:0)}var fe=function(e,t,n,i,r,o,a){this.type=e,this.attrs=t,this.solid=r,this.match=o||(4&a?null:e.contentMatch),this.options=a,this.content=[],this.marks=n,this.activeMarks=m.none,this.pendingMarks=i,this.stashMarks=[]};fe.prototype.findWrapping=function(e){if(!this.match){if(!this.type)return[];var t=this.type.contentMatch.fillBefore(l.from(e));if(!t){var n,i=this.type.contentMatch;return(n=i.findWrapping(e.type))?(this.match=i,n):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)},fe.prototype.finish=function(e){if(!(1&this.options)){var t,n=this.content[this.content.length-1];n&&n.isText&&(t=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==t[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-t[0].length)))}var i=l.from(this.content);return!e&&this.match&&(i=i.append(this.match.fillBefore(l.empty,!0))),this.type?this.type.create(this.attrs,i,this.marks):i},fe.prototype.popFromStashMark=function(e){for(var t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]},fe.prototype.applyPending=function(e){for(var t=0,n=this.pendingMarks;t<n.length;t++){var i=n[t];(this.type?this.type.allowsMarkType(i.type):be(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}};var me=function(e,t,n){this.parser=e,this.options=t,this.isOpen=n;var i,r=t.topNode,o=pe(t.preserveWhitespace)|(n?4:0);i=r?new fe(r.type,r.attrs,m.none,m.none,!0,t.topMatch||r.type.contentMatch,o):new fe(n?null:e.schema.topNodeType,null,m.none,m.none,!0,null,o),this.nodes=[i],this.open=0,this.find=t.findPositions,this.needsBlock=!1},ge={top:{configurable:!0},currentPos:{configurable:!0}};function xe(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function ve(e){var t={};for(var n in e)t[n]=e[n];return t}function be(e,t){var n=t.schema.nodes,i=function(i){var r=n[i];if(r.allowsMarkType(e)){var o=[],a=function(e){o.push(e);for(var n=0;n<e.edgeCount;n++){var i=e.edge(n),r=i.type,s=i.next;if(r==t)return!0;if(o.indexOf(s)<0&&a(s))return!0}};return a(r.contentMatch)?{v:!0}:void 0}};for(var r in n){var o=i(r);if(o)return o.v}}ge.top.get=function(){return this.nodes[this.open]},me.prototype.addDOM=function(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){var t=e.getAttribute("style"),n=t?this.readStyles(function(e){var t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,i=[];for(;t=n.exec(e);)i.push(t[1],t[2].trim());return i}(t)):null,i=this.top;if(null!=n)for(var r=0;r<n.length;r++)this.addPendingMark(n[r]);if(this.addElement(e),null!=n)for(var o=0;o<n.length;o++)this.removePendingMark(n[o],i)}},me.prototype.addTextNode=function(e){var t=e.nodeValue,n=this.top;if(2&n.options||(n.type?n.type.inlineContent:n.content.length&&n.content[0].isInline)||/[^ \t\r\n\u000c]/.test(t)){if(1&n.options)t=2&n.options?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){var i=n.content[n.content.length-1],r=e.previousSibling;(!i||r&&"BR"==r.nodeName||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)},me.prototype.addElement=function(e,t){var n,i=e.nodeName.toLowerCase();he.hasOwnProperty(i)&&this.parser.normalizeLists&&function(e){for(var t=e.firstChild,n=null;t;t=t.nextSibling){var i=1==t.nodeType?t.nodeName.toLowerCase():null;i&&he.hasOwnProperty(i)&&n?(n.appendChild(t),t=n):"li"==i?n=t:i&&(n=null)}}(e);var r=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(r?r.ignore:de.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e);else if(!r||r.skip||r.closeParent){r&&r.closeParent?this.open=Math.max(0,this.open-1):r&&r.skip.nodeType&&(e=r.skip);var o,a=this.top,s=this.needsBlock;if(le.hasOwnProperty(i))o=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),o&&this.sync(a),this.needsBlock=s}else this.addElementByRule(e,r,!1===r.consuming?n:null)},me.prototype.leafFallback=function(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))},me.prototype.ignoreFallback=function(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},me.prototype.readStyles=function(e){var t=m.none;e:for(var n=0;n<e.length;n+=2)for(var i=null;;){var r=this.parser.matchStyle(e[n],e[n+1],this,i);if(!r)continue e;if(r.ignore)return null;if(t=this.parser.schema.marks[r.mark].create(r.attrs).addToSet(t),!1!==r.consuming)break;i=r}return t},me.prototype.addElementByRule=function(e,t,n){var i,r,o,a=this;t.node?(r=this.parser.schema.nodes[t.node]).isLeaf?this.insertNode(r.create(t.attrs))||this.leafFallback(e):i=this.enter(r,t.attrs,t.preserveWhitespace):(o=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(o));var s=this.top;if(r&&r.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach((function(e){return a.insertNode(e)}));else{var c=t.contentElement;"string"==typeof c?c=e.querySelector(c):"function"==typeof c&&(c=c(e)),c||(c=e),this.findAround(e,c,!0),this.addAll(c,i)}i&&(this.sync(s),this.open--),o&&this.removePendingMark(o,s)},me.prototype.addAll=function(e,t,n,i){for(var r=n||0,o=n?e.childNodes[n]:e.firstChild,a=null==i?null:e.childNodes[i];o!=a;o=o.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(o),t&&le.hasOwnProperty(o.nodeName.toLowerCase())&&this.sync(t);this.findAtPoint(e,r)},me.prototype.findPlace=function(e){for(var t,n,i=this.open;i>=0;i--){var r=this.nodes[i],o=r.findWrapping(e);if(o&&(!t||t.length>o.length)&&(t=o,n=r,!o.length))break;if(r.solid)break}if(!t)return!1;this.sync(n);for(var a=0;a<t.length;a++)this.enterInner(t[a],null,!1);return!0},me.prototype.insertNode=function(e){if(e.isInline&&this.needsBlock&&!this.top.type){var t=this.textblockFromContext();t&&this.enterInner(t)}if(this.findPlace(e)){this.closeExtra();var n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));for(var i=n.activeMarks,r=0;r<e.marks.length;r++)n.type&&!n.type.allowsMarkType(e.marks[r].type)||(i=e.marks[r].addToSet(i));return n.content.push(e.mark(i)),!0}return!1},me.prototype.enter=function(e,t,n){var i=this.findPlace(e.create(t));return i&&this.enterInner(e,t,!0,n),i},me.prototype.enterInner=function(e,t,n,i){this.closeExtra();var r=this.top;r.applyPending(e),r.match=r.match&&r.match.matchType(e,t);var o=null==i?-5&r.options:pe(i);4&r.options&&0==r.content.length&&(o|=4),this.nodes.push(new fe(e,t,r.activeMarks,r.pendingMarks,n,null,o)),this.open++},me.prototype.closeExtra=function(e){var t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}},me.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},me.prototype.sync=function(e){for(var t=this.open;t>=0;t--)if(this.nodes[t]==e)return void(this.open=t)},ge.currentPos.get=function(){this.closeExtra();for(var e=0,t=this.open;t>=0;t--){for(var n=this.nodes[t].content,i=n.length-1;i>=0;i--)e+=n[i].nodeSize;t&&e++}return e},me.prototype.findAtPoint=function(e,t){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)},me.prototype.findInside=function(e){if(this.find)for(var t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)},me.prototype.findAround=function(e,t,n){if(e!=t&&this.find)for(var i=0;i<this.find.length;i++){if(null==this.find[i].pos&&1==e.nodeType&&e.contains(this.find[i].node))t.compareDocumentPosition(this.find[i].node)&(n?2:4)&&(this.find[i].pos=this.currentPos)}},me.prototype.findInText=function(e){if(this.find)for(var t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))},me.prototype.matchesContext=function(e){var t=this;if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);var n=e.split("/"),i=this.options.context,r=!(this.isOpen||i&&i.parent.type!=this.nodes[0].type),o=-(i?i.depth+1:0)+(r?0:1),a=function(e,s){for(;e>=0;e--){var c=n[e];if(""==c){if(e==n.length-1||0==e)continue;for(;s>=o;s--)if(a(e-1,s))return!0;return!1}var u=s>0||0==s&&r?t.nodes[s].type:i&&s>=o?i.node(s-o).type:null;if(!u||u.name!=c&&-1==u.groups.indexOf(c))return!1;s--}return!0};return a(n.length-1,this.open)},me.prototype.textblockFromContext=function(){var e=this.options.context;if(e)for(var t=e.depth;t>=0;t--){var n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var i in this.parser.schema.nodes){var r=this.parser.schema.nodes[i];if(r.isTextblock&&r.defaultAttrs)return r}},me.prototype.addPendingMark=function(e){var t=function(e,t){for(var n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)},me.prototype.removePendingMark=function(e,t){for(var n=this.open;n>=0;n--){var i=this.nodes[n];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);var r=i.popFromStashMark(e);r&&i.type&&i.type.allowsMarkType(r.type)&&(i.activeMarks=r.addToSet(i.activeMarks))}if(i==t)break}},Object.defineProperties(me.prototype,ge);var ye=function(e,t){this.nodes=e||{},this.marks=t||{}};function we(e){var t={};for(var n in e){var i=e[n].spec.toDOM;i&&(t[n]=i)}return t}function ke(e){return e.document||window.document}ye.prototype.serializeFragment=function(e,t,n){var i=this;void 0===t&&(t={}),n||(n=ke(t).createDocumentFragment());var r=n,o=null;return e.forEach((function(e){if(o||e.marks.length){o||(o=[]);for(var n=0,a=0;n<o.length&&a<e.marks.length;){var s=e.marks[a];if(i.marks[s.type.name]){if(!s.eq(o[n])||!1===s.type.spec.spanning)break;n+=2,a++}else a++}for(;n<o.length;)r=o.pop(),o.pop();for(;a<e.marks.length;){var c=e.marks[a++],u=i.serializeMark(c,e.isInline,t);u&&(o.push(c,r),r.appendChild(u.dom),r=u.contentDOM||u.dom)}}r.appendChild(i.serializeNode(e,t))})),n},ye.prototype.serializeNode=function(e,t){void 0===t&&(t={});var n=ye.renderSpec(ke(t),this.nodes[e.type.name](e)),i=n.dom,r=n.contentDOM;if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");t.onContent?t.onContent(e,r,t):this.serializeFragment(e.content,t,r)}return i},ye.prototype.serializeNodeAndMarks=function(e,t){void 0===t&&(t={});for(var n=this.serializeNode(e,t),i=e.marks.length-1;i>=0;i--){var r=this.serializeMark(e.marks[i],e.isInline,t);r&&((r.contentDOM||r.dom).appendChild(n),n=r.dom)}return n},ye.prototype.serializeMark=function(e,t,n){void 0===n&&(n={});var i=this.marks[e.type.name];return i&&ye.renderSpec(ke(n),i(e,t))},ye.renderSpec=function(e,t,n){if(void 0===n&&(n=null),"string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;var i=t[0],r=i.indexOf(" ");r>0&&(n=i.slice(0,r),i=i.slice(r+1));var o=null,a=n?e.createElementNS(n,i):e.createElement(i),s=t[1],c=1;if(s&&"object"==typeof s&&null==s.nodeType&&!Array.isArray(s))for(var u in c=2,s)if(null!=s[u]){var l=u.indexOf(" ");l>0?a.setAttributeNS(u.slice(0,l),u.slice(l+1),s[u]):a.setAttribute(u,s[u])}for(var d=c;d<t.length;d++){var h=t[d];if(0===h){if(d<t.length-1||d>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}var p=ye.renderSpec(e,h,n),f=p.dom,m=p.contentDOM;if(a.appendChild(f),m){if(o)throw new RangeError("Multiple content holes");o=m}}return{dom:a,contentDOM:o}},ye.fromSchema=function(e){return e.cached.domSerializer||(e.cached.domSerializer=new ye(this.nodesFromSchema(e),this.marksFromSchema(e)))},ye.nodesFromSchema=function(e){var t=we(e.nodes);return t.text||(t.text=function(e){return e.text}),t},ye.marksFromSchema=function(e){return we(e.marks)};var _e=Math.pow(2,16);function Ce(e){return 65535&e}var Se=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),this.pos=e,this.deleted=t,this.recover=n},Ee=function(e,t){void 0===t&&(t=!1),this.ranges=e,this.inverted=t};Ee.prototype.recover=function(e){var t=0,n=Ce(e);if(!this.inverted)for(var i=0;i<n;i++)t+=this.ranges[3*i+2]-this.ranges[3*i+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/_e}(e)},Ee.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},Ee.prototype.map=function(e,t){return void 0===t&&(t=1),this._map(e,t,!0)},Ee.prototype._map=function(e,t,n){for(var i=0,r=this.inverted?2:1,o=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var s=this.ranges[a]-(this.inverted?i:0);if(s>e)break;var c=this.ranges[a+r],u=this.ranges[a+o],l=s+c;if(e<=l){var d=s+i+((c?e==s?-1:e==l?1:t:t)<0?0:u);if(n)return d;var h=e==(t<0?s:l)?null:a/3+(e-s)*_e;return new Se(d,t<0?e!=s:e!=l,h)}i+=u-c}return n?e+i:new Se(e+i)},Ee.prototype.touches=function(e,t){for(var n=0,i=Ce(t),r=this.inverted?2:1,o=this.inverted?1:2,a=0;a<this.ranges.length;a+=3){var s=this.ranges[a]-(this.inverted?n:0);if(s>e)break;var c=this.ranges[a+r];if(e<=s+c&&a==3*i)return!0;n+=this.ranges[a+o]-c}return!1},Ee.prototype.forEach=function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,i=0,r=0;i<this.ranges.length;i+=3){var o=this.ranges[i],a=o-(this.inverted?r:0),s=o+(this.inverted?0:r),c=this.ranges[i+t],u=this.ranges[i+n];e(a,a+c,s,s+u),r+=u-c}},Ee.prototype.invert=function(){return new Ee(this.ranges,!this.inverted)},Ee.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},Ee.offset=function(e){return 0==e?Ee.empty:new Ee(e<0?[0,-e,0]:[0,0,e])},Ee.empty=new Ee([]);var Oe=function(e,t,n,i){this.maps=e||[],this.from=n||0,this.to=null==i?this.maps.length:i,this.mirror=t};function Me(e){var t=Error.call(this,e);return t.__proto__=Me.prototype,t}Oe.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.maps.length),new Oe(this.maps,this.mirror,e,t)},Oe.prototype.copy=function(){return new Oe(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},Oe.prototype.appendMap=function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)},Oe.prototype.appendMapping=function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var i=e.getMirror(t);this.appendMap(e.maps[t],null!=i&&i<t?n+i:null)}},Oe.prototype.getMirror=function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]},Oe.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)},Oe.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var i=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=i&&i>t?n-i-1:null)}},Oe.prototype.invert=function(){var e=new Oe;return e.appendMappingInverted(this),e},Oe.prototype.map=function(e,t){if(void 0===t&&(t=1),this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e},Oe.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},Oe.prototype._map=function(e,t,n){for(var i=!1,r=this.from;r<this.to;r++){var o=this.maps[r].mapResult(e,t);if(null!=o.recover){var a=this.getMirror(r);if(null!=a&&a>r&&a<this.to){r=a,e=this.maps[a].recover(o.recover);continue}}o.deleted&&(i=!0),e=o.pos}return n?e:new Se(e,i)},Me.prototype=Object.create(Error.prototype),Me.prototype.constructor=Me,Me.prototype.name="TransformError";var De=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Oe},Te={before:{configurable:!0},docChanged:{configurable:!0}};function Ae(){throw new Error("Override me")}Te.before.get=function(){return this.docs.length?this.docs[0]:this.doc},De.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new Me(t.failed);return this},De.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t},Te.docChanged.get=function(){return this.steps.length>0},De.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t},Object.defineProperties(De.prototype,Te);var Ne=Object.create(null),ze=function(){};ze.prototype.apply=function(e){return Ae()},ze.prototype.getMap=function(){return Ee.empty},ze.prototype.invert=function(e){return Ae()},ze.prototype.map=function(e){return Ae()},ze.prototype.merge=function(e){return null},ze.prototype.toJSON=function(){return Ae()},ze.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=Ne[t.stepType];if(!n)throw new RangeError("No step type "+t.stepType+" defined");return n.fromJSON(e,t)},ze.jsonID=function(e,t){if(e in Ne)throw new RangeError("Duplicate use of step JSON ID "+e);return Ne[e]=t,t.prototype.jsonID=e,t};var Re=function(e,t){this.doc=e,this.failed=t};Re.ok=function(e){return new Re(e,null)},Re.fail=function(e){return new Re(null,e)},Re.fromReplace=function(e,t,n,i){try{return Re.ok(e.replace(t,n,i))}catch(r){if(r instanceof g)return Re.fail(r.message);throw r}};var Ie=function(e){function t(t,n,i,r){e.call(this),this.from=t,this.to=n,this.slice=i,this.structure=!!r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){return this.structure&&Le(e,this.from,this.to)?Re.fail("Structure replace would overwrite content"):Re.fromReplace(e,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new Ee([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))},t.prototype.map=function(e){var n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted?null:new t(n.pos,Math.max(n.pos,i.pos),this.slice)},t.prototype.merge=function(e){if(!(e instanceof t)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;var n=this.slice.size+e.slice.size==0?x.empty:new x(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,n,this.structure)}var i=this.slice.size+e.slice.size==0?x.empty:new x(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),i,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(n.from,n.to,x.fromJSON(e,n.slice),!!n.structure)},t}(ze);ze.jsonID("replace",Ie);var Be=function(e){function t(t,n,i,r,o,a,s){e.call(this),this.from=t,this.to=n,this.gapFrom=i,this.gapTo=r,this.slice=o,this.insert=a,this.structure=!!s}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){if(this.structure&&(Le(e,this.from,this.gapFrom)||Le(e,this.gapTo,this.to)))return Re.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return Re.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?Re.fromReplace(e,this.from,this.to,n):Re.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new Ee([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(e){var n=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1),r=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deleted&&i.deleted||r<n.pos||o>i.pos?null:new t(n.pos,i.pos,r,o,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(n.from,n.to,n.gapFrom,n.gapTo,x.fromJSON(e,n.slice),n.insert,!!n.structure)},t}(ze);function Le(e,t,n){for(var i=e.resolve(t),r=n-t,o=i.depth;r>0&&o>0&&i.indexAfter(o)==i.node(o).childCount;)o--,r--;if(r>0)for(var a=i.node(o).maybeChild(i.indexAfter(o));r>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,r--}return!1}function Pe(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function qe(e){for(var t=e.parent.content.cutByIndex(e.startIndex,e.endIndex),n=e.depth;;--n){var i=e.$from.node(n),r=e.$from.index(n),o=e.$to.indexAfter(n);if(n<e.depth&&i.canReplace(r,o,t))return n;if(0==n||i.type.spec.isolating||!Pe(i,r,o))break}}function Fe(e,t,n,i){void 0===i&&(i=e);var r=function(e,t){var n=e.parent,i=e.startIndex,r=e.endIndex,o=n.contentMatchAt(i).findWrapping(t);if(!o)return null;var a=o.length?o[0]:t;return n.canReplaceWith(i,r,a)?o:null}(e,t),o=r&&function(e,t){var n=e.parent,i=e.startIndex,r=e.endIndex,o=n.child(i),a=t.contentMatch.findWrapping(o.type);if(!a)return null;for(var s=(a.length?a[a.length-1]:t).contentMatch,c=i;s&&c<r;c++)s=s.matchType(n.child(c).type);if(!s||!s.validEnd)return null;return a}(i,t);return o?r.map(je).concat({type:t,attrs:n}).concat(o.map(je)):null}function je(e){return{type:e,attrs:null}}function $e(e,t,n,i){void 0===n&&(n=1);var r=e.resolve(t),o=r.depth-n,a=i&&i[i.length-1]||r.parent;if(o<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!a.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(var s=r.depth-1,c=n-2;s>o;s--,c--){var u=r.node(s),l=r.index(s);if(u.type.spec.isolating)return!1;var d=u.content.cutByIndex(l,u.childCount),h=i&&i[c]||u;if(h!=u&&(d=d.replaceChild(0,h.type.create(h.attrs))),!u.canReplace(l+1,u.childCount)||!h.type.validContent(d))return!1}var p=r.indexAfter(o),f=i&&i[0];return r.node(o).canReplaceWith(p,p,f?f.type:r.node(o+1).type)}function We(e,t){var n=e.resolve(t),i=n.index();return Ue(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function Ue(e,t){return e&&t&&!e.isLeaf&&e.canAppend(t)}function Ve(e,t,n){void 0===n&&(n=-1);for(var i=e.resolve(t),r=i.depth;;r--){var o=void 0,a=void 0,s=i.index(r);if(r==i.depth?(o=i.nodeBefore,a=i.nodeAfter):n>0?(o=i.node(r+1),s++,a=i.node(r).maybeChild(s)):(o=i.node(r).maybeChild(s-1),a=i.node(r+1)),o&&!o.isTextblock&&Ue(o,a)&&i.node(r).canReplace(s,s+1))return t;if(0==r)break;t=n<0?i.before(r):i.after(r)}}function He(e,t,n){var i=e.resolve(t);if(!n.content.size)return t;for(var r=n.content,o=0;o<n.openStart;o++)r=r.firstChild.content;for(var a=1;a<=(0==n.openStart&&n.size?2:1);a++)for(var s=i.depth;s>=0;s--){var c=s==i.depth?0:i.pos<=(i.start(s+1)+i.end(s+1))/2?-1:1,u=i.index(s)+(c>0?1:0),l=i.node(s),d=!1;if(1==a)d=l.canReplace(u,u,r);else{var h=l.contentMatchAt(u).findWrapping(r.firstChild.type);d=h&&l.canReplaceWith(u,u,h[0])}if(d)return 0==c?i.pos:c<0?i.before(s+1):i.after(s+1)}return null}function Ye(e,t,n){for(var i=[],r=0;r<e.childCount;r++){var o=e.child(r);o.content.size&&(o=o.copy(Ye(o.content,t,o))),o.isInline&&(o=t(o,n,r)),i.push(o)}return l.fromArray(i)}ze.jsonID("replaceAround",Be),De.prototype.lift=function(e,t){for(var n=e.$from,i=e.$to,r=e.depth,o=n.before(r+1),a=i.after(r+1),s=o,c=a,u=l.empty,d=0,h=r,p=!1;h>t;h--)p||n.index(h)>0?(p=!0,u=l.from(n.node(h).copy(u)),d++):s--;for(var f=l.empty,m=0,g=r,v=!1;g>t;g--)v||i.after(g+1)<i.end(g)?(v=!0,f=l.from(i.node(g).copy(f)),m++):c++;return this.step(new Be(s,c,o,a,new x(u.append(f),d,m),u.size-d,!0))},De.prototype.wrap=function(e,t){for(var n=l.empty,i=t.length-1;i>=0;i--)n=l.from(t[i].type.create(t[i].attrs,n));var r=e.start,o=e.end;return this.step(new Be(r,o,r,o,new x(n,0,0),t.length,!0))},De.prototype.setBlockType=function(e,t,n,i){var r=this;if(void 0===t&&(t=e),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var o=this.steps.length;return this.doc.nodesBetween(e,t,(function(e,t){if(e.isTextblock&&!e.hasMarkup(n,i)&&function(e,t,n){var i=e.resolve(t),r=i.index();return i.parent.canReplaceWith(r,r+1,n)}(r.doc,r.mapping.slice(o).map(t),n)){r.clearIncompatible(r.mapping.slice(o).map(t,1),n);var a=r.mapping.slice(o),s=a.map(t,1),c=a.map(t+e.nodeSize,1);return r.step(new Be(s,c,s+1,c-1,new x(l.from(n.create(i,null,e.marks)),0,0),1,!0)),!1}})),this},De.prototype.setNodeMarkup=function(e,t,n,i){var r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at given position");t||(t=r.type);var o=t.create(n,null,i||r.marks);if(r.isLeaf)return this.replaceWith(e,e+r.nodeSize,o);if(!t.validContent(r.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new Be(e,e+r.nodeSize,e+1,e+r.nodeSize-1,new x(l.from(o),0,0),1,!0))},De.prototype.split=function(e,t,n){void 0===t&&(t=1);for(var i=this.doc.resolve(e),r=l.empty,o=l.empty,a=i.depth,s=i.depth-t,c=t-1;a>s;a--,c--){r=l.from(i.node(a).copy(r));var u=n&&n[c];o=l.from(u?u.type.create(u.attrs,o):i.node(a).copy(o))}return this.step(new Ie(e,e,new x(r.append(o),t,t),!0))},De.prototype.join=function(e,t){void 0===t&&(t=1);var n=new Ie(e-t,e+t,x.empty,!0);return this.step(n)};var Ge=function(e){function t(t,n,i){e.call(this),this.from=t,this.to=n,this.mark=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),i=e.resolve(this.from),r=i.node(i.sharedDepth(this.to)),o=new x(Ye(n.content,(function(e,n){return e.isAtom&&n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),r),n.openStart,n.openEnd);return Re.fromReplace(e,this.from,this.to,o)},t.prototype.invert=function(){return new Ke(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new t(n.pos,i.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(ze);ze.jsonID("addMark",Ge);var Ke=function(e){function t(t,n,i){e.call(this),this.from=t,this.to=n,this.mark=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),i=new x(Ye(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))})),n.openStart,n.openEnd);return Re.fromReplace(e,this.from,this.to,i)},t.prototype.invert=function(){return new Ge(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),i=e.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new t(n.pos,i.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(ze);function Xe(e,t,n,i){if(void 0===n&&(n=t),void 0===i&&(i=x.empty),t==n&&!i.size)return null;var r=e.resolve(t),o=e.resolve(n);return Je(r,o,i)?new Ie(t,n,i):new Ze(r,o,i).fit()}function Je(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}ze.jsonID("removeMark",Ke),De.prototype.addMark=function(e,t,n){var i=this,r=[],o=[],a=null,s=null;return this.doc.nodesBetween(e,t,(function(i,c,u){if(i.isInline){var l=i.marks;if(!n.isInSet(l)&&u.type.allowsMarkType(n.type)){for(var d=Math.max(c,e),h=Math.min(c+i.nodeSize,t),p=n.addToSet(l),f=0;f<l.length;f++)l[f].isInSet(p)||(a&&a.to==d&&a.mark.eq(l[f])?a.to=h:r.push(a=new Ke(d,h,l[f])));s&&s.to==d?s.to=h:o.push(s=new Ge(d,h,n))}}})),r.forEach((function(e){return i.step(e)})),o.forEach((function(e){return i.step(e)})),this},De.prototype.removeMark=function(e,t,n){var i=this;void 0===n&&(n=null);var r=[],o=0;return this.doc.nodesBetween(e,t,(function(i,a){if(i.isInline){o++;var s=null;if(n instanceof ae)for(var c,u=i.marks;c=n.isInSet(u);)(s||(s=[])).push(c),u=c.removeFromSet(u);else n?n.isInSet(i.marks)&&(s=[n]):s=i.marks;if(s&&s.length)for(var l=Math.min(a+i.nodeSize,t),d=0;d<s.length;d++){for(var h=s[d],p=void 0,f=0;f<r.length;f++){var m=r[f];m.step==o-1&&h.eq(r[f].style)&&(p=m)}p?(p.to=l,p.step=o):r.push({style:h,from:Math.max(a,e),to:l,step:o})}}})),r.forEach((function(e){return i.step(new Ke(e.from,e.to,e.style))})),this},De.prototype.clearIncompatible=function(e,t,n){void 0===n&&(n=t.contentMatch);for(var i=this.doc.nodeAt(e),r=[],o=e+1,a=0;a<i.childCount;a++){var s=i.child(a),c=o+s.nodeSize,u=n.matchType(s.type,s.attrs);if(u){n=u;for(var d=0;d<s.marks.length;d++)t.allowsMarkType(s.marks[d].type)||this.step(new Ke(o,c,s.marks[d]))}else r.push(new Ie(o,c,x.empty));o=c}if(!n.validEnd){var h=n.fillBefore(l.empty,!0);this.replace(o,o,new x(h,0,0))}for(var p=r.length-1;p>=0;p--)this.step(r[p]);return this},De.prototype.replace=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=x.empty);var i=Xe(this.doc,e,t,n);return i&&this.step(i),this},De.prototype.replaceWith=function(e,t,n){return this.replace(e,t,new x(l.from(n),0,0))},De.prototype.delete=function(e,t){return this.replace(e,t,x.empty)},De.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};var Ze=function(e,t,n){this.$to=t,this.$from=e,this.unplaced=n,this.frontier=[];for(var i=0;i<=e.depth;i++){var r=e.node(i);this.frontier.push({type:r.type,match:r.contentMatchAt(e.indexAfter(i))})}this.placed=l.empty;for(var o=e.depth;o>0;o--)this.placed=l.from(e.node(o).copy(this.placed))},Qe={depth:{configurable:!0}};function et(e,t,n){return 0==t?e.cutByIndex(n):e.replaceChild(0,e.firstChild.copy(et(e.firstChild.content,t-1,n)))}function tt(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(tt(e.lastChild.content,t-1,n)))}function nt(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function it(e,t,n){if(t<=0)return e;var i=e.content;return t>1&&(i=i.replaceChild(0,it(i.firstChild,t-1,1==i.childCount?n-1:0))),t>0&&(i=e.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(e.type.contentMatch.matchFragment(i).fillBefore(l.empty,!0)))),e.copy(i)}function rt(e,t,n,i,r){var o=e.node(t),a=r?e.indexAfter(t):e.index(t);if(a==o.childCount&&!n.compatibleContent(o.type))return null;var s=i.fillBefore(o.content,!0,a);return s&&!function(e,t,n){for(var i=n;i<t.childCount;i++)if(!e.allowsMarks(t.child(i).marks))return!0;return!1}(n,o.content,a)?s:null}function ot(e,t,n,i,r){if(t<n){var o=e.firstChild;e=e.replaceChild(0,o.copy(ot(o.content,t+1,n,i,o)))}if(t>i){var a=r.contentMatchAt(0),s=a.fillBefore(e).append(e);e=s.append(a.matchFragment(s).fillBefore(l.empty,!0))}return e}function at(e,t){for(var n=[],i=Math.min(e.depth,t.depth);i>=0;i--){var r=e.start(i);if(r<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;r==t.start(i)&&n.push(i)}return n}Qe.depth.get=function(){return this.frontier.length-1},Ze.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,r=this.close(t<0?this.$to:i.doc.resolve(t));if(!r)return null;for(var o=this.placed,a=i.depth,s=r.depth;a&&s&&1==o.childCount;)o=o.firstChild.content,a--,s--;var c=new x(o,a,s);return t>-1?new Be(i.pos,t,this.$to.pos,this.$to.end(),c,n):c.size||i.pos!=this.$to.pos?new Ie(i.pos,r.pos,c):void 0},Ze.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var t=this.unplaced.openStart;t>=0;t--)for(var n=void 0,i=(t?(n=nt(this.unplaced.content,t-1).firstChild).content:this.unplaced.content).firstChild,r=this.depth;r>=0;r--){var o=this.frontier[r],a=o.type,s=o.match,c=void 0,u=void 0;if(1==e&&(i?s.matchType(i.type)||(u=s.fillBefore(l.from(i),!1)):a.compatibleContent(n.type)))return{sliceDepth:t,frontierDepth:r,parent:n,inject:u};if(2==e&&i&&(c=s.findWrapping(i.type)))return{sliceDepth:t,frontierDepth:r,parent:n,wrap:c};if(n&&s.matchType(n.type))break}},Ze.prototype.openMore=function(){var e=this.unplaced,t=e.content,n=e.openStart,i=e.openEnd,r=nt(t,n);return!(!r.childCount||r.firstChild.isLeaf)&&(this.unplaced=new x(t,n+1,Math.max(i,r.size+n>=t.size-i?n+1:0)),!0)},Ze.prototype.dropNode=function(){var e=this.unplaced,t=e.content,n=e.openStart,i=e.openEnd,r=nt(t,n);if(r.childCount<=1&&n>0){var o=t.size-n<=n+r.size;this.unplaced=new x(et(t,n-1,1),n-1,o?n-1:i)}else this.unplaced=new x(et(t,n,1),n,i)},Ze.prototype.placeNodes=function(e){for(var t=e.sliceDepth,n=e.frontierDepth,i=e.parent,r=e.inject,o=e.wrap;this.depth>n;)this.closeFrontierNode();if(o)for(var a=0;a<o.length;a++)this.openFrontierNode(o[a]);var s=this.unplaced,c=i?i.content:s.content,u=s.openStart-t,d=0,h=[],p=this.frontier[n],f=p.match,m=p.type;if(r){for(var g=0;g<r.childCount;g++)h.push(r.child(g));f=f.matchFragment(r)}for(var v=c.size+t-(s.content.size-s.openEnd);d<c.childCount;){var b=c.child(d),y=f.matchType(b.type);if(!y)break;(++d>1||0==u||b.content.size)&&(f=y,h.push(it(b.mark(m.allowedMarks(b.marks)),1==d?u:0,d==c.childCount?v:-1)))}var w=d==c.childCount;w||(v=-1),this.placed=tt(this.placed,n,l.from(h)),this.frontier[n].match=f,w&&v<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var k=0,_=c;k<v;k++){var C=_.lastChild;this.frontier.push({type:C.type,match:C.contentMatchAt(C.childCount)}),_=C.content}this.unplaced=w?0==t?x.empty:new x(et(s.content,t-1,1),t-1,v<0?s.openEnd:t-1):new x(et(s.content,t,d),s.openStart,s.openEnd)},Ze.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e,t=this.frontier[this.depth];if(!t.type.isTextblock||!rt(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;for(var n=this.$to.depth,i=this.$to.after(n);n>1&&i==this.$to.end(--n);)++i;return i},Ze.prototype.findCloseLevel=function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var n=this.frontier[t],i=n.match,r=n.type,o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=rt(e,t,r,i,o);if(a){for(var s=t-1;s>=0;s--){var c=this.frontier[s],u=c.match,l=rt(e,s,c.type,u,!0);if(!l||l.childCount)continue e}return{depth:t,fit:a,move:o?e.doc.resolve(e.after(t+1)):e}}}},Ze.prototype.close=function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=tt(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var i=e.node(n),r=i.type.contentMatch.fillBefore(i.content,!0,e.index(n));this.openFrontierNode(i.type,i.attrs,r)}return e},Ze.prototype.openFrontierNode=function(e,t,n){var i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=tt(this.placed,this.depth,l.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})},Ze.prototype.closeFrontierNode=function(){var e=this.frontier.pop().match.fillBefore(l.empty,!0);e.childCount&&(this.placed=tt(this.placed,this.frontier.length,e))},Object.defineProperties(Ze.prototype,Qe),De.prototype.replaceRange=function(e,t,n){if(!n.size)return this.deleteRange(e,t);var i=this.doc.resolve(e),r=this.doc.resolve(t);if(Je(i,r,n))return this.step(new Ie(e,t,n));var o=at(i,this.doc.resolve(t));0==o[o.length-1]&&o.pop();var a=-(i.depth+1);o.unshift(a);for(var s=i.depth,c=i.pos-1;s>0;s--,c--){var u=i.node(s).type.spec;if(u.defining||u.isolating)break;o.indexOf(s)>-1?a=s:i.before(s)==c&&o.splice(1,0,-s)}for(var l=o.indexOf(a),d=[],h=n.openStart,p=n.content,f=0;;f++){var m=p.firstChild;if(d.push(m),f==n.openStart)break;p=m.content}h>0&&d[h-1].type.spec.defining&&i.node(l).type!=d[h-1].type?h-=1:h>=2&&d[h-1].isTextblock&&d[h-2].type.spec.defining&&i.node(l).type!=d[h-2].type&&(h-=2);for(var g=n.openStart;g>=0;g--){var v=(g+h+1)%(n.openStart+1),b=d[v];if(b)for(var y=0;y<o.length;y++){var w=o[(y+l)%o.length],k=!0;w<0&&(k=!1,w=-w);var _=i.node(w-1),C=i.index(w-1);if(_.canReplaceWith(C,C,b.type,b.marks))return this.replace(i.before(w),k?r.after(w):t,new x(ot(n.content,0,n.openStart,v),v,n.openEnd))}}for(var S=this.steps.length,E=o.length-1;E>=0&&(this.replace(e,t,n),!(this.steps.length>S));E--){var O=o[E];O<0||(e=i.before(O),t=r.after(O))}return this},De.prototype.replaceRangeWith=function(e,t,n){if(!n.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var i=function(e,t,n){var i=e.resolve(t);if(i.parent.canReplaceWith(i.index(),i.index(),n))return t;if(0==i.parentOffset)for(var r=i.depth-1;r>=0;r--){var o=i.index(r);if(i.node(r).canReplaceWith(o,o,n))return i.before(r+1);if(o>0)return null}if(i.parentOffset==i.parent.content.size)for(var a=i.depth-1;a>=0;a--){var s=i.indexAfter(a);if(i.node(a).canReplaceWith(s,s,n))return i.after(a+1);if(s<i.node(a).childCount)return null}}(this.doc,e,n.type);null!=i&&(e=t=i)}return this.replaceRange(e,t,new x(l.from(n),0,0))},De.prototype.deleteRange=function(e,t){for(var n=this.doc.resolve(e),i=this.doc.resolve(t),r=at(n,i),o=0;o<r.length;o++){var a=r[o],s=o==r.length-1;if(s&&0==a||n.node(a).type.contentMatch.validEnd)return this.delete(n.start(a),i.end(a));if(a>0&&(s||n.node(a-1).canReplace(n.index(a-1),i.indexAfter(a-1))))return this.delete(n.before(a),i.after(a))}for(var c=1;c<=n.depth&&c<=i.depth;c++)if(e-n.start(c)==n.depth-c&&t>n.end(c)&&i.end(c)-t!=i.depth-c)return this.delete(n.before(c),t);return this.delete(e,t)};var st=Object.create(null),ct=function(e,t,n){this.ranges=n||[new lt(e.min(t),e.max(t))],this.$anchor=e,this.$head=t},ut={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};ut.anchor.get=function(){return this.$anchor.pos},ut.head.get=function(){return this.$head.pos},ut.from.get=function(){return this.$from.pos},ut.to.get=function(){return this.$to.pos},ut.$from.get=function(){return this.ranges[0].$from},ut.$to.get=function(){return this.ranges[0].$to},ut.empty.get=function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0},ct.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},ct.prototype.replace=function(e,t){void 0===t&&(t=x.empty);for(var n=t.content.lastChild,i=null,r=0;r<t.openEnd;r++)i=n,n=n.lastChild;for(var o=e.steps.length,a=this.ranges,s=0;s<a.length;s++){var c=a[s],u=c.$from,l=c.$to,d=e.mapping.slice(o);e.replaceRange(d.map(u.pos),d.map(l.pos),s?x.empty:t),0==s&&vt(e,o,(n?n.isInline:i&&i.isTextblock)?-1:1)}},ct.prototype.replaceWith=function(e,t){for(var n=e.steps.length,i=this.ranges,r=0;r<i.length;r++){var o=i[r],a=o.$from,s=o.$to,c=e.mapping.slice(n),u=c.map(a.pos),l=c.map(s.pos);r?e.deleteRange(u,l):(e.replaceRangeWith(u,l,t),vt(e,n,t.isInline?-1:1))}},ct.findFrom=function(e,t,n){var i=e.parent.inlineContent?new dt(e):xt(e.node(0),e.parent,e.pos,e.index(),t,n);if(i)return i;for(var r=e.depth-1;r>=0;r--){var o=t<0?xt(e.node(0),e.node(r),e.before(r+1),e.index(r),t,n):xt(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,t,n);if(o)return o}},ct.near=function(e,t){return void 0===t&&(t=1),this.findFrom(e,t)||this.findFrom(e,-t)||new mt(e.node(0))},ct.atStart=function(e){return xt(e,e,0,0,1)||new mt(e)},ct.atEnd=function(e){return xt(e,e,e.content.size,e.childCount,-1)||new mt(e)},ct.fromJSON=function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=st[t.type];if(!n)throw new RangeError("No selection type "+t.type+" defined");return n.fromJSON(e,t)},ct.jsonID=function(e,t){if(e in st)throw new RangeError("Duplicate use of selection JSON ID "+e);return st[e]=t,t.prototype.jsonID=e,t},ct.prototype.getBookmark=function(){return dt.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(ct.prototype,ut),ct.prototype.visible=!0;var lt=function(e,t){this.$from=e,this.$to=t},dt=function(e){function t(t,n){void 0===n&&(n=t),e.call(this,t,n)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},t.prototype.map=function(n,i){var r=n.resolve(i.map(this.head));if(!r.parent.inlineContent)return e.near(r);var o=n.resolve(i.map(this.anchor));return new t(o.parent.inlineContent?o:r,r)},t.prototype.replace=function(t,n){if(void 0===n&&(n=x.empty),e.prototype.replace.call(this,t,n),n==x.empty){var i=this.$from.marksAcross(this.$to);i&&t.ensureMarks(i)}},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor&&e.head==this.head},t.prototype.getBookmark=function(){return new ht(this.anchor,this.head)},t.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,t,n){void 0===n&&(n=t);var i=e.resolve(t);return new this(i,n==t?i:e.resolve(n))},t.between=function(n,i,r){var o=n.pos-i.pos;if(r&&!o||(r=o>=0?1:-1),!i.parent.inlineContent){var a=e.findFrom(i,r,!0)||e.findFrom(i,-r,!0);if(!a)return e.near(i,r);i=a.$head}return n.parent.inlineContent||(0==o||(n=(e.findFrom(n,-r,!0)||e.findFrom(n,r,!0)).$anchor).pos<i.pos!=o<0)&&(n=i),new t(n,i)},Object.defineProperties(t.prototype,n),t}(ct);ct.jsonID("text",dt);var ht=function(e,t){this.anchor=e,this.head=t};ht.prototype.map=function(e){return new ht(e.map(this.anchor),e.map(this.head))},ht.prototype.resolve=function(e){return dt.between(e.resolve(this.anchor),e.resolve(this.head))};var pt=function(e){function t(t){var n=t.nodeAfter,i=t.node(0).resolve(t.pos+n.nodeSize);e.call(this,t,i),this.node=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,i){var r=i.mapResult(this.anchor),o=r.deleted,a=r.pos,s=n.resolve(a);return o?e.near(s):new t(s)},t.prototype.content=function(){return new x(l.from(this.node),0,0)},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor},t.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},t.prototype.getBookmark=function(){return new ft(this.anchor)},t.fromJSON=function(e,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(e.resolve(n.anchor))},t.create=function(e,t){return new this(e.resolve(t))},t.isSelectable=function(e){return!e.isText&&!1!==e.type.spec.selectable},t}(ct);pt.prototype.visible=!1,ct.jsonID("node",pt);var ft=function(e){this.anchor=e};ft.prototype.map=function(e){var t=e.mapResult(this.anchor),n=t.deleted,i=t.pos;return n?new ht(i,i):new ft(i)},ft.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=t.nodeAfter;return n&&pt.isSelectable(n)?new pt(t):ct.near(t)};var mt=function(e){function t(t){e.call(this,t.resolve(0),t.resolve(t.content.size))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.replace=function(t,n){if(void 0===n&&(n=x.empty),n==x.empty){t.delete(0,t.doc.content.size);var i=e.atStart(t.doc);i.eq(t.selection)||t.setSelection(i)}else e.prototype.replace.call(this,t,n)},t.prototype.toJSON=function(){return{type:"all"}},t.fromJSON=function(e){return new t(e)},t.prototype.map=function(e){return new t(e)},t.prototype.eq=function(e){return e instanceof t},t.prototype.getBookmark=function(){return gt},t}(ct);ct.jsonID("all",mt);var gt={map:function(){return this},resolve:function(e){return new mt(e)}};function xt(e,t,n,i,r,o){if(t.inlineContent)return dt.create(e,n);for(var a=i-(r>0?0:1);r>0?a<t.childCount:a>=0;a+=r){var s=t.child(a);if(s.isAtom){if(!o&&pt.isSelectable(s))return pt.create(e,n-(r<0?s.nodeSize:0))}else{var c=xt(e,s,n+r,r<0?s.childCount:0,r,o);if(c)return c}n+=s.nodeSize*r}}function vt(e,t,n){var i=e.steps.length-1;if(!(i<t)){var r,o=e.steps[i];if(o instanceof Ie||o instanceof Be)e.mapping.maps[i].forEach((function(e,t,n,i){null==r&&(r=i)})),e.setSelection(ct.near(e.doc.resolve(r),n))}}var bt=function(e){function t(t){e.call(this,t.doc),this.time=Date.now(),this.curSelection=t.selection,this.curSelectionFor=0,this.storedMarks=t.storedMarks,this.updated=0,this.meta=Object.create(null)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},t.prototype.setSelection=function(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},t.prototype.setStoredMarks=function(e){return this.storedMarks=e,this.updated|=2,this},t.prototype.ensureMarks=function(e){return m.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this},t.prototype.addStoredMark=function(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))},t.prototype.removeStoredMark=function(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},t.prototype.addStep=function(t,n){e.prototype.addStep.call(this,t,n),this.updated=-3&this.updated,this.storedMarks=null},t.prototype.setTime=function(e){return this.time=e,this},t.prototype.replaceSelection=function(e){return this.selection.replace(this,e),this},t.prototype.replaceSelectionWith=function(e,t){var n=this.selection;return!1!==t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||m.none))),n.replaceWith(this,e),this},t.prototype.deleteSelection=function(){return this.selection.replace(this),this},t.prototype.insertText=function(e,t,n){void 0===n&&(n=t);var i=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();if(!e)return this.deleteRange(t,n);var r=this.storedMarks;if(!r){var o=this.doc.resolve(t);r=n==t?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,i.text(e,r)),this.selection.empty||this.setSelection(ct.near(this.selection.$to)),this},t.prototype.setMeta=function(e,t){return this.meta["string"==typeof e?e:e.key]=t,this},t.prototype.getMeta=function(e){return this.meta["string"==typeof e?e:e.key]},n.isGeneric.get=function(){for(var e in this.meta)return!1;return!0},t.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(t.prototype,n),t}(De);function yt(e,t){return t&&e?e.bind(t):e}var wt=function(e,t,n){this.name=e,this.init=yt(t.init,n),this.apply=yt(t.apply,n)},kt=[new wt("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new wt("selection",{init:function(e,t){return e.selection||ct.atStart(t.doc)},apply:function(e){return e.selection}}),new wt("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,n,i){return i.selection.$cursor?e.storedMarks:null}}),new wt("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],_t=function(e,t){var n=this;this.schema=e,this.fields=kt.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),t&&t.forEach((function(e){if(n.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");n.plugins.push(e),n.pluginsByKey[e.key]=e,e.spec.state&&n.fields.push(new wt(e.key,e.spec.state,e))}))},Ct=function(e){this.config=e},St={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};St.schema.get=function(){return this.config.schema},St.plugins.get=function(){return this.config.plugins},Ct.prototype.apply=function(e){return this.applyTransaction(e).state},Ct.prototype.filterTransaction=function(e,t){void 0===t&&(t=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=t){var i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0},Ct.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],n=this.applyInner(e),i=null;;){for(var r=!1,o=0;o<this.config.plugins.length;o++){var a=this.config.plugins[o];if(a.spec.appendTransaction){var s=i?i[o].n:0,c=i?i[o].state:this,u=s<t.length&&a.spec.appendTransaction.call(a,s?t.slice(s):t,c,n);if(u&&n.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(var l=0;l<this.config.plugins.length;l++)i.push(l<o?{state:n,n:t.length}:{state:this,n:0})}t.push(u),n=n.applyInner(u),r=!0}i&&(i[o]={state:n,n:t.length})}}if(!r)return{state:n,transactions:t}}},Ct.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var t=new Ct(this.config),n=this.config.fields,i=0;i<n.length;i++){var r=n[i];t[r.name]=r.apply(e,this[r.name],this,t)}for(var o=0;o<Et.length;o++)Et[o](this,e,t);return t},St.tr.get=function(){return new bt(this)},Ct.create=function(e){for(var t=new _t(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new Ct(t),i=0;i<t.fields.length;i++)n[t.fields[i].name]=t.fields[i].init(e,n);return n},Ct.prototype.reconfigure=function(e){for(var t=new _t(this.schema,e.plugins),n=t.fields,i=new Ct(t),r=0;r<n.length;r++){var o=n[r].name;i[o]=this.hasOwnProperty(o)?this[o]:n[r].init(e,i)}return i},Ct.prototype.toJSON=function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((function(e){return e.toJSON()}))),e&&"object"==typeof e)for(var n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var i=e[n],r=i.spec.state;r&&r.toJSON&&(t[n]=r.toJSON.call(i,this[i.key]))}return t},Ct.fromJSON=function(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var i=new _t(e.schema,e.plugins),r=new Ct(i);return i.fields.forEach((function(i){if("doc"==i.name)r.doc=P.fromJSON(e.schema,t.doc);else if("selection"==i.name)r.selection=ct.fromJSON(r.doc,t.selection);else if("storedMarks"==i.name)t.storedMarks&&(r.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(var o in n){var a=n[o],s=a.spec.state;if(a.key==i.name&&s&&s.fromJSON&&Object.prototype.hasOwnProperty.call(t,o))return void(r[i.name]=s.fromJSON.call(a,e,t[o],r))}r[i.name]=i.init(e,r)}})),r},Ct.addApplyListener=function(e){Et.push(e)},Ct.removeApplyListener=function(e){var t=Et.indexOf(e);t>-1&&Et.splice(t,1)},Object.defineProperties(Ct.prototype,St);var Et=[];function Ot(e,t,n){for(var i in e){var r=e[i];r instanceof Function?r=r.bind(t):"handleDOMEvents"==i&&(r=Ot(r,t,{})),n[i]=r}return n}var Mt=function(e){this.props={},e.props&&Ot(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:Tt("plugin")};Mt.prototype.getState=function(e){return e[this.key]};var Dt=Object.create(null);function Tt(e){return e in Dt?e+"$"+ ++Dt[e]:(Dt[e]=0,e+"$")}var At=function(e){void 0===e&&(e="key"),this.key=Tt(e)};At.prototype.get=function(e){return e.config.pluginsByKey[this.key]},At.prototype.getState=function(e){return e[this.key]};var Nt={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var zt=/Edge\/(\d+)/.exec(navigator.userAgent),Rt=/MSIE \d/.test(navigator.userAgent),It=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);Nt.mac=/Mac/.test(navigator.platform);var Bt=Nt.ie=!!(Rt||It||zt);Nt.ie_version=Rt?document.documentMode||6:It?+It[1]:zt?+zt[1]:null,Nt.gecko=!Bt&&/gecko\/(\d+)/i.test(navigator.userAgent),Nt.gecko_version=Nt.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var Lt=!Bt&&/Chrome\/(\d+)/.exec(navigator.userAgent);Nt.chrome=!!Lt,Nt.chrome_version=Lt&&+Lt[1],Nt.safari=!Bt&&/Apple Computer/.test(navigator.vendor),Nt.ios=Nt.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),Nt.android=/Android \d/.test(navigator.userAgent),Nt.webkit="webkitFontSmoothing"in document.documentElement.style,Nt.webkit_version=Nt.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var Pt=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},qt=function(e){var t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t},Ft=null,jt=function(e,t,n){var i=Ft||(Ft=document.createRange());return i.setEnd(e,null==n?e.nodeValue.length:n),i.setStart(e,t||0),i},$t=function(e,t,n,i){return n&&(Ut(e,t,n,i,-1)||Ut(e,t,n,i,1))},Wt=/^(img|br|input|textarea|hr)$/i;function Ut(e,t,n,i,r){for(;;){if(e==n&&t==i)return!0;if(t==(r<0?0:Vt(e))){var o=e.parentNode;if(1!=o.nodeType||Ht(e)||Wt.test(e.nodeName)||"false"==e.contentEditable)return!1;t=Pt(e)+(r<0?0:1),e=o}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(r<0?-1:0)]).contentEditable)return!1;t=r<0?Vt(e):0}}}function Vt(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function Ht(e){for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var Yt=function(e){var t=e.isCollapsed;return t&&Nt.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function Gt(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function Kt(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Xt(e,t){return"number"==typeof e?e:e[t]}function Jt(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,i=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*i}}function Zt(e,t,n){for(var i=e.someProp("scrollThreshold")||0,r=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument,a=n||e.dom;a;a=qt(a))if(1==a.nodeType){var s=a==o.body||1!=a.nodeType,c=s?Kt(o):Jt(a),u=0,l=0;if(t.top<c.top+Xt(i,"top")?l=-(c.top-t.top+Xt(r,"top")):t.bottom>c.bottom-Xt(i,"bottom")&&(l=t.bottom-c.bottom+Xt(r,"bottom")),t.left<c.left+Xt(i,"left")?u=-(c.left-t.left+Xt(r,"left")):t.right>c.right-Xt(i,"right")&&(u=t.right-c.right+Xt(r,"right")),u||l)if(s)o.defaultView.scrollBy(u,l);else{var d=a.scrollLeft,h=a.scrollTop;l&&(a.scrollTop+=l),u&&(a.scrollLeft+=u);var p=a.scrollLeft-d,f=a.scrollTop-h;t={left:t.left-p,top:t.top-f,right:t.right-p,bottom:t.bottom-f}}if(s)break}}function Qt(e){for(var t=[],n=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e!=n);e=qt(e));return t}function en(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=i.dom,o=i.top,a=i.left;r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=a&&(r.scrollLeft=a)}}var tn=null;function nn(e,t){for(var n,i,r=2e8,o=0,a=t.top,s=t.top,c=e.firstChild,u=0;c;c=c.nextSibling,u++){var l=void 0;if(1==c.nodeType)l=c.getClientRects();else{if(3!=c.nodeType)continue;l=jt(c).getClientRects()}for(var d=0;d<l.length;d++){var h=l[d];if(h.top<=a&&h.bottom>=s){a=Math.max(h.bottom,a),s=Math.min(h.top,s);var p=h.left>t.left?h.left-t.left:h.right<t.left?t.left-h.right:0;if(p<r){n=c,r=p,i=p&&3==n.nodeType?{left:h.right<t.left?h.right:h.left,top:t.top}:t,1==c.nodeType&&p&&(o=u+(t.left>=(h.left+h.right)/2?1:0));continue}}!n&&(t.left>=h.right&&t.top>=h.top||t.left>=h.left&&t.top>=h.bottom)&&(o=u+1)}}return n&&3==n.nodeType?function(e,t){for(var n=e.nodeValue.length,i=document.createRange(),r=0;r<n;r++){i.setEnd(e,r+1),i.setStart(e,r);var o=sn(i,1);if(o.top!=o.bottom&&rn(t,o))return{node:e,offset:r+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}(n,i):!n||r&&1==n.nodeType?{node:e,offset:o}:nn(n,i)}function rn(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function on(e,t,n){var i=e.childNodes.length;if(i&&n.top<n.bottom)for(var r=Math.max(0,Math.min(i-1,Math.floor(i*(t.top-n.top)/(n.bottom-n.top))-2)),o=r;;){var a=e.childNodes[o];if(1==a.nodeType)for(var s=a.getClientRects(),c=0;c<s.length;c++){var u=s[c];if(rn(t,u))return on(a,t,u)}if((o=(o+1)%i)==r)break}return e}function an(e,t){var n,i,r,o,a=e.root;if(a.caretPositionFromPoint)try{var s=a.caretPositionFromPoint(t.left,t.top);s&&(r=(n=s).offsetNode,o=n.offset)}catch(m){}if(!r&&a.caretRangeFromPoint){var c=a.caretRangeFromPoint(t.left,t.top);c&&(r=(i=c).startContainer,o=i.startOffset)}var u,l=a.elementFromPoint(t.left,t.top+1);if(!l||!e.dom.contains(1!=l.nodeType?l.parentNode:l)){var d=e.dom.getBoundingClientRect();if(!rn(t,d))return null;if(!(l=on(e.dom,t,d)))return null}if(Nt.safari&&l.draggable&&(r=o=null),l=function(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(l,t),r){if(Nt.gecko&&1==r.nodeType&&(o=Math.min(o,r.childNodes.length))<r.childNodes.length){var h,p=r.childNodes[o];"IMG"==p.nodeName&&(h=p.getBoundingClientRect()).right<=t.left&&h.bottom>t.top&&o++}r==e.dom&&o==r.childNodes.length-1&&1==r.lastChild.nodeType&&t.top>r.lastChild.getBoundingClientRect().bottom?u=e.state.doc.content.size:0!=o&&1==r.nodeType&&"BR"==r.childNodes[o-1].nodeName||(u=function(e,t,n,i){for(var r=-1,o=t;o!=e.dom;){var a=e.docView.nearestDesc(o,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var s=a.dom.getBoundingClientRect();if(s.left>i.left||s.top>i.top)r=a.posBefore;else{if(!(s.right<i.left||s.bottom<i.top))break;r=a.posAfter}}o=a.dom.parentNode}return r>-1?r:e.docView.posFromDOM(t,n)}(e,r,o,t))}null==u&&(u=function(e,t,n){var i=nn(t,n),r=i.node,o=i.offset,a=-1;if(1==r.nodeType&&!r.firstChild){var s=r.getBoundingClientRect();a=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(r,o,a)}(e,l,t));var f=e.docView.nearestDesc(l,!0);return{pos:u,inside:f?f.posAtStart-f.border:-1}}function sn(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}var cn=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function un(e,t,n){var i=e.docView.domFromPos(t,n<0?-1:1),r=i.node,o=i.offset,a=Nt.webkit||Nt.gecko;if(3==r.nodeType){if(!a||!cn.test(r.nodeValue)&&(n<0?o:o!=r.nodeValue.length)){var s=o,c=o,u=n<0?1:-1;return n<0&&!o?(c++,u=-1):n>=0&&o==r.nodeValue.length?(s--,u=1):n<0?s--:c++,ln(sn(jt(r,s,c),u),u<0)}var l=sn(jt(r,o,o),n);if(Nt.gecko&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){var d=sn(jt(r,o-1,o-1),-1);if(d.top==l.top){var h=sn(jt(r,o,o+1),-1);if(h.top!=l.top)return ln(h,h.left<d.left)}}return l}if(!e.state.doc.resolve(t).parent.inlineContent){if(o&&(n<0||o==Vt(r))){var p=r.childNodes[o-1];if(1==p.nodeType)return dn(p.getBoundingClientRect(),!1)}if(o<Vt(r)){var f=r.childNodes[o];if(1==f.nodeType)return dn(f.getBoundingClientRect(),!0)}return dn(r.getBoundingClientRect(),n>=0)}if(o&&(n<0||o==Vt(r))){var m=r.childNodes[o-1],g=3==m.nodeType?jt(m,Vt(m)-(a?0:1)):1!=m.nodeType||"BR"==m.nodeName&&m.nextSibling?null:m;if(g)return ln(sn(g,1),!1)}if(o<Vt(r)){var x=r.childNodes[o],v=3==x.nodeType?jt(x,0,a?0:1):1==x.nodeType?x:null;if(v)return ln(sn(v,-1),!0)}return ln(sn(3==r.nodeType?jt(r):r,-n),n>=0)}function ln(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function dn(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function hn(e,t,n){var i=e.state,r=e.root.activeElement;i!=t&&e.updateState(t),r!=e.dom&&e.focus();try{return n()}finally{i!=t&&e.updateState(i),r!=e.dom&&r&&r.focus()}}var pn=/[\u0590-\u08ac]/;var fn=null,mn=null,gn=!1;function xn(e,t,n){return fn==t&&mn==n?gn:(fn=t,mn=n,gn="up"==n||"down"==n?function(e,t,n){var i=t.selection,r="up"==n?i.$from:i.$to;return hn(e,t,(function(){for(var t=e.docView.domFromPos(r.pos,"up"==n?-1:1).node;;){var i=e.docView.nearestDesc(t,!0);if(!i)break;if(i.node.isBlock){t=i.dom;break}t=i.dom.parentNode}for(var o=un(e,r.pos,1),a=t.firstChild;a;a=a.nextSibling){var s=void 0;if(1==a.nodeType)s=a.getClientRects();else{if(3!=a.nodeType)continue;s=jt(a,0,a.nodeValue.length).getClientRects()}for(var c=0;c<s.length;c++){var u=s[c];if(u.bottom>u.top&&("up"==n?u.bottom<o.top+1:u.top>o.bottom-1))return!1}}return!0}))}(e,t,n):function(e,t,n){var i=t.selection.$head;if(!i.parent.isTextblock)return!1;var r=i.parentOffset,o=!r,a=r==i.parent.content.size,s=getSelection();return pn.test(i.parent.textContent)&&s.modify?hn(e,t,(function(){var t=s.getRangeAt(0),r=s.focusNode,o=s.focusOffset,a=s.caretBidiLevel;s.modify("move",n,"character");var c=!(i.depth?e.docView.domAfterPos(i.before()):e.dom).contains(1==s.focusNode.nodeType?s.focusNode:s.focusNode.parentNode)||r==s.focusNode&&o==s.focusOffset;return s.removeAllRanges(),s.addRange(t),null!=a&&(s.caretBidiLevel=a),c})):"left"==n||"backward"==n?o:a}(e,t,n))}var vn=function(e,t,n,i){this.parent=e,this.children=t,this.dom=n,n.pmViewDesc=this,this.contentDOM=i,this.dirty=0},bn={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0}};vn.prototype.matchesWidget=function(){return!1},vn.prototype.matchesMark=function(){return!1},vn.prototype.matchesNode=function(){return!1},vn.prototype.matchesHack=function(){return!1},bn.beforePosition.get=function(){return!1},vn.prototype.parseRule=function(){return null},vn.prototype.stopEvent=function(){return!1},bn.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},bn.border.get=function(){return 0},vn.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()},vn.prototype.posBeforeChild=function(e){for(var t=0,n=this.posAtStart;t<this.children.length;t++){var i=this.children[t];if(i==e)return n;n+=i.size}},bn.posBefore.get=function(){return this.parent.posBeforeChild(this)},bn.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},bn.posAfter.get=function(){return this.posBefore+this.size},bn.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},vn.prototype.localPosFromDOM=function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var i,r;if(e==this.contentDOM)i=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&(!(r=i.pmViewDesc)||r.parent!=this);)i=i.previousSibling;return i?this.posBeforeChild(r)+r.size:this.posAtStart}var o,a;if(e==this.contentDOM)o=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&(!(a=o.pmViewDesc)||a.parent!=this);)o=o.nextSibling;return o?this.posBeforeChild(a):this.posAtEnd}var s;if(e==this.dom&&this.contentDOM)s=t>Pt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var c=e;;c=c.parentNode){if(c==this.dom){s=!1;break}if(c.parentNode.firstChild!=c)break}if(null==s&&t==e.childNodes.length)for(var u=e;;u=u.parentNode){if(u==this.dom){s=!0;break}if(u.parentNode.lastChild!=u)break}}return(null==s?n>0:s)?this.posAtEnd:this.posAtStart},vn.prototype.nearestDesc=function(e,t){for(var n=!0,i=e;i;i=i.parentNode){var r=this.getDesc(i);if(r&&(!t||r.node)){if(!n||!r.nodeDOM||(1==r.nodeDOM.nodeType?r.nodeDOM.contains(1==e.nodeType?e:e.parentNode):r.nodeDOM==e))return r;n=!1}}},vn.prototype.getDesc=function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t},vn.prototype.posFromDOM=function(e,t,n){for(var i=e;i;i=i.parentNode){var r=this.getDesc(i);if(r)return r.localPosFromDOM(e,t,n)}return-1},vn.prototype.descAt=function(e){for(var t=0,n=0;t<this.children.length;t++){var i=this.children[t],r=n+i.size;if(n==e&&r!=n){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<r)return i.descAt(e-n-i.border);n=r}},vn.prototype.domFromPos=function(e,t){if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,i=0,r=!0;;i++,r=!1){for(;i<this.children.length&&(this.children[i].beforePosition||this.children[i].dom.parentNode!=this.contentDOM);)n+=this.children[i++].size;var o=i==this.children.length?null:this.children[i];if(n==e&&(0==t||!o||!o.size||o.border||t<0&&r)||o&&o.domAtom&&e<n+o.size)return{node:this.contentDOM,offset:o?Pt(o.dom):this.contentDOM.childNodes.length};if(!o)throw new Error("Invalid position "+e);var a=n+o.size;if(!o.domAtom&&(t<0&&!o.border?a>=e:a>e)&&(a>e||i+1>=this.children.length||!this.children[i+1].beforePosition))return o.domFromPos(e-n-o.border,t);n=a}},vn.prototype.parseRange=function(e,t,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var i=-1,r=-1,o=n,a=0;;a++){var s=this.children[a],c=o+s.size;if(-1==i&&e<=c){var u=o+s.border;if(e>=u&&t<=c-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(e,t,u);e=o;for(var l=a;l>0;l--){var d=this.children[l-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=Pt(d.dom)+1;break}e-=d.size}-1==i&&(i=0)}if(i>-1&&(c>t||a==this.children.length-1)){t=c;for(var h=a+1;h<this.children.length;h++){var p=this.children[h];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(-1)){r=Pt(p.dom);break}t+=p.size}-1==r&&(r=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:r}},vn.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},vn.prototype.domAfterPos=function(e){var t=this.domFromPos(e,0),n=t.node,i=t.offset;if(1!=n.nodeType||i==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[i]},vn.prototype.setSelection=function(e,t,n,i){for(var r=Math.min(e,t),o=Math.max(e,t),a=0,s=0;a<this.children.length;a++){var c=this.children[a],u=s+c.size;if(r>s&&o<u)return c.setSelection(e-s-c.border,t-s-c.border,n,i);s=u}var l=this.domFromPos(e,e?-1:1),d=t==e?l:this.domFromPos(t,t?-1:1),h=n.getSelection(),p=!1;if((Nt.gecko||Nt.safari)&&e==t){var f=l.node,m=l.offset;if(3==f.nodeType)(p=m&&"\n"==f.nodeValue[m-1])&&m==f.nodeValue.length&&f.nextSibling&&"BR"==f.nextSibling.nodeName&&(l=d={node:f.parentNode,offset:Pt(f)+1});else{var g=f.childNodes[m-1];p=g&&("BR"==g.nodeName||"false"==g.contentEditable)}}if(i||p&&Nt.safari||!$t(l.node,l.offset,h.anchorNode,h.anchorOffset)||!$t(d.node,d.offset,h.focusNode,h.focusOffset)){var x=!1;if((h.extend||e==t)&&!p){h.collapse(l.node,l.offset);try{e!=t&&h.extend(d.node,d.offset),x=!0}catch(y){if(!(y instanceof DOMException))throw y}}if(!x){if(e>t){var v=l;l=d,d=v}var b=document.createRange();b.setEnd(d.node,d.offset),b.setStart(l.node,l.offset),h.removeAllRanges(),h.addRange(b)}}},vn.prototype.ignoreMutation=function(e){return!this.contentDOM&&"selection"!=e.type},bn.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},vn.prototype.markDirty=function(e,t){for(var n=0,i=0;i<this.children.length;i++){var r=this.children[i],o=n+r.size;if(n==o?e<=o&&t>=n:e<o&&t>n){var a=n+r.border,s=o-r.border;if(e>=a&&t<=s)return this.dirty=e==n||t==o?2:1,void(e!=a||t!=s||!r.contentLost&&r.dom.parentNode==this.contentDOM?r.markDirty(e-a,t-a):r.dirty=3);r.dirty=3}n=o}this.dirty=2},vn.prototype.markParentsDirty=function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=1==e?2:1;t.dirty<n&&(t.dirty=n)}},bn.domAtom.get=function(){return!1},Object.defineProperties(vn.prototype,bn);var yn=[],wn=function(e){function t(t,n,i,r){var o,a=n.type.toDOM;if("function"==typeof a&&(a=a(i,(function(){return o?o.parent?o.parent.posBeforeChild(o):void 0:r}))),!n.type.spec.raw){if(1!=a.nodeType){var s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable=!1,a.classList.add("ProseMirror-widget")}e.call(this,t,yn,a,null),this.widget=n,o=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={beforePosition:{configurable:!0},domAtom:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},t.prototype.matchesWidget=function(e){return 0==this.dirty&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)},t.prototype.ignoreMutation=function(e){return"selection"!=e.type||this.widget.spec.ignoreSelection},n.domAtom.get=function(){return!0},Object.defineProperties(t.prototype,n),t}(vn),kn=function(e){function t(t,n,i,r){e.call(this,t,yn,n,null),this.textDOM=i,this.text=r}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t},t.prototype.domFromPos=function(e){return{node:this.textDOM,offset:e}},t.prototype.ignoreMutation=function(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue},Object.defineProperties(t.prototype,n),t}(vn),_n=function(e){function t(t,n,i,r){e.call(this,t,[],i,r),this.mark=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e,n,i,r){var o=r.nodeViews[n.type.name],a=o&&o(n,r,i);return a&&a.dom||(a=ye.renderSpec(document,n.type.spec.toDOM(n,i))),new t(e,n,a.dom,a.contentDOM||a.dom)},t.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return 3!=this.dirty&&this.mark.eq(e)},t.prototype.markDirty=function(t,n){if(e.prototype.markDirty.call(this,t,n),0!=this.dirty){for(var i=this.parent;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=0}},t.prototype.slice=function(e,n,i){var r=t.create(this.parent,this.mark,!0,i),o=this.children,a=this.size;n<a&&(o=Fn(o,n,a,i)),e>0&&(o=Fn(o,0,e,i));for(var s=0;s<o.length;s++)o[s].parent=r;return r.children=o,r},t}(vn),Cn=function(e){function t(t,n,i,r,o,a,s,c,u){e.call(this,t,n.isLeaf?yn:[],o,a),this.nodeDOM=s,this.node=n,this.outerDeco=i,this.innerDeco=r,a&&this.updateChildren(c,u)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return t.create=function(e,n,i,r,o,a){var s,c,u=o.nodeViews[n.type.name],l=u&&u(n,o,(function(){return c?c.parent?c.parent.posBeforeChild(c):void 0:a}),i,r),d=l&&l.dom,h=l&&l.contentDOM;if(n.isText)if(d){if(3!=d.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else d=document.createTextNode(n.text);else d||(d=(s=ye.renderSpec(document,n.type.spec.toDOM(n))).dom,h=s.contentDOM);h||n.isText||"BR"==d.nodeName||(d.hasAttribute("contenteditable")||(d.contentEditable=!1),n.type.spec.draggable&&(d.draggable=!0));var p=d;return d=In(d,i,n),l?c=new Mn(e,n,i,r,d,h,p,l,o,a+1):n.isText?new En(e,n,i,r,d,p,o):new t(e,n,i,r,d,h,p,o,a+1)},t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(t.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?l.empty:e.node.content},t},t.prototype.matchesNode=function(e,t,n){return 0==this.dirty&&e.eq(this.node)&&Bn(t,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(e,t){var n=this,i=this.node.inlineContent,r=t,o=i&&e.composing&&this.localCompositionNode(e,t),a=new Pn(this,o&&o.node);!function(e,t,n,i){var r=t.locals(e),o=0;if(0==r.length){for(var a=0;a<e.childCount;a++){var s=e.child(a);i(s,r,t.forChild(o,s),a),o+=s.nodeSize}return}for(var c=0,u=[],l=null,d=0;;){if(c<r.length&&r[c].to==o){for(var h=r[c++],p=void 0;c<r.length&&r[c].to==o;)(p||(p=[h])).push(r[c++]);if(p){p.sort(qn);for(var f=0;f<p.length;f++)n(p[f],d,!!l)}else n(h,d,!!l)}var m=void 0,g=void 0;if(l)g=-1,m=l,l=null;else{if(!(d<e.childCount))break;g=d,m=e.child(d++)}for(var x=0;x<u.length;x++)u[x].to<=o&&u.splice(x--,1);for(;c<r.length&&r[c].from<=o&&r[c].to>o;)u.push(r[c++]);var v=o+m.nodeSize;if(m.isText){var b=v;c<r.length&&r[c].from<b&&(b=r[c].from);for(var y=0;y<u.length;y++)u[y].to<b&&(b=u[y].to);b<v&&(l=m.cut(b-o),m=m.cut(0,b-o),v=b,g=-1)}i(m,u.length?m.isInline&&!m.isLeaf?u.filter((function(e){return!e.inline})):u.slice():yn,t.forChild(o,m),g),o=v}}(this.node,this.innerDeco,(function(t,o,s){t.spec.marks?a.syncToMarks(t.spec.marks,i,e):t.type.side>=0&&!s&&a.syncToMarks(o==n.node.childCount?m.none:n.node.child(o).marks,i,e),a.placeWidget(t,e,r)}),(function(t,n,o,s){a.syncToMarks(t.marks,i,e),a.findNodeMatch(t,n,o,s)||a.updateNextNode(t,n,o,e,s)||a.addNode(t,n,o,e,r),r+=t.nodeSize})),a.syncToMarks(yn,i,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||2==this.dirty)&&(o&&this.protectLocalComposition(e,o),Dn(this.contentDOM,this.children,e),Nt.ios&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))},t.prototype.localCompositionNode=function(e,t){var n=e.state.selection,i=n.from,r=n.to;if(!(!(e.state.selection instanceof dt)||i<t||r>t+this.node.content.size)){var o=e.root.getSelection(),a=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=Vt(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(o.focusNode,o.focusOffset);if(a&&this.dom.contains(a.parentNode)){var s=a.nodeValue,c=function(e,t,n,i){for(var r=0,o=0;r<e.childCount&&o<=i;){var a=e.child(r++),s=o;if(o+=a.nodeSize,a.isText){for(var c=a.text;r<e.childCount;){var u=e.child(r++);if(o+=u.nodeSize,!u.isText)break;c+=u.text}if(o>=n){var l=c.lastIndexOf(t,i-s);if(l>=0&&l+t.length+s>=n)return s+l}}}return-1}(this.node.content,s,i-t,r-t);return c<0?null:{node:a,pos:c,text:s}}}},t.prototype.protectLocalComposition=function(e,t){var n=t.node,i=t.pos,r=t.text;if(!this.getDesc(n)){for(var o=n;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=null)}var a=new kn(this,o,n,r);e.compositionNodes.push(a),this.children=Fn(this.children,i,i+r.length,e,a)}},t.prototype.update=function(e,t,n,i){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,i),!0)},t.prototype.updateInner=function(e,t,n,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=0},t.prototype.updateOuterDeco=function(e){if(!Bn(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=zn(this.dom,this.nodeDOM,Nn(this.outerDeco,this.node,t),Nn(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},n.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(t.prototype,n),t}(vn);function Sn(e,t,n,i,r){return In(i,t,e),new Cn(null,e,t,n,i,i,i,r,0)}var En=function(e){function t(t,n,i,r,o,a,s){e.call(this,t,n,i,r,o,null,a,s)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.parseRule=function(){for(var e=this.nodeDOM.parentNode;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}},t.prototype.update=function(e,t,n,i){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=0,!0)},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1},t.prototype.domFromPos=function(e){return{node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,n,i){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,n,i)},t.prototype.ignoreMutation=function(e){return"characterData"!=e.type&&"selection"!=e.type},t.prototype.slice=function(e,n,i){var r=this.node.cut(e,n),o=document.createTextNode(r.text);return new t(this.parent,r,this.outerDeco,this.innerDeco,o,o,i)},n.domAtom.get=function(){return!1},Object.defineProperties(t.prototype,n),t}(Cn),On=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={domAtom:{configurable:!0}};return t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(){return 0==this.dirty},n.domAtom.get=function(){return!0},Object.defineProperties(t.prototype,n),t}(vn),Mn=function(e){function t(t,n,i,r,o,a,s,c,u,l){e.call(this,t,n,i,r,o,a,s,u,l),this.spec=c}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(t,n,i,r){if(3==this.dirty)return!1;if(this.spec.update){var o=this.spec.update(t,n,i);return o&&this.updateInner(t,n,i,r),o}return!(!this.contentDOM&&!t.isLeaf)&&e.prototype.update.call(this,t,n,i,r)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(t,n,i,r){this.spec.setSelection?this.spec.setSelection(t,n,i):e.prototype.setSelection.call(this,t,n,i,r)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(Cn);function Dn(e,t,n){for(var i=e.firstChild,r=!1,o=0;o<t.length;o++){var a=t[o],s=a.dom;if(s.parentNode==e){for(;s!=i;)i=Ln(i),r=!0;i=i.nextSibling}else r=!0,e.insertBefore(s,i);if(a instanceof _n){var c=i?i.previousSibling:e.lastChild;Dn(a.contentDOM,a.children,n),i=c?c.nextSibling:e.firstChild}}for(;i;)i=Ln(i),r=!0;r&&n.trackWrites==e&&(n.trackWrites=null)}function Tn(e){e&&(this.nodeName=e)}Tn.prototype=Object.create(null);var An=[new Tn];function Nn(e,t,n){if(0==e.length)return An;for(var i=n?An[0]:new Tn,r=[i],o=0;o<e.length;o++){var a=e[o].type.attrs;if(a)for(var s in a.nodeName&&r.push(i=new Tn(a.nodeName)),a){var c=a[s];null!=c&&(n&&1==r.length&&r.push(i=new Tn(t.isInline?"span":"div")),"class"==s?i.class=(i.class?i.class+" ":"")+c:"style"==s?i.style=(i.style?i.style+";":"")+c:"nodeName"!=s&&(i[s]=c))}}return r}function zn(e,t,n,i){if(n==An&&i==An)return t;for(var r=t,o=0;o<i.length;o++){var a=i[o],s=n[o];if(o){var c=void 0;s&&s.nodeName==a.nodeName&&r!=e&&(c=r.parentNode)&&c.tagName.toLowerCase()==a.nodeName||((c=document.createElement(a.nodeName)).pmIsDeco=!0,c.appendChild(r),s=An[0]),r=c}Rn(r,s||An[0],a)}return r}function Rn(e,t,n){for(var i in t)"class"==i||"style"==i||"nodeName"==i||i in n||e.removeAttribute(i);for(var r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){for(var o=t.class?t.class.split(" ").filter(Boolean):yn,a=n.class?n.class.split(" ").filter(Boolean):yn,s=0;s<o.length;s++)-1==a.indexOf(o[s])&&e.classList.remove(o[s]);for(var c=0;c<a.length;c++)-1==o.indexOf(a[c])&&e.classList.add(a[c])}if(t.style!=n.style){if(t.style)for(var u,l=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;u=l.exec(t.style);)e.style.removeProperty(u[1]);n.style&&(e.style.cssText+=n.style)}}function In(e,t,n){return zn(e,e,An,Nn(t,n,1!=e.nodeType))}function Bn(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function Ln(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var Pn=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1,this.preMatch=function(e,t){for(var n=e.childCount,i=t.length,r=new Map;n>0&&i>0;i--){var o=t[i-1],a=o.node;if(a){if(a!=e.child(n-1))break;--n,r.set(o,n)}}return{index:n,matched:r}}(e.node.content,e.children)};function qn(e,t){return e.type.side-t.type.side}function Fn(e,t,n,i,r){for(var o=[],a=0,s=0;a<e.length;a++){var c=e[a],u=s,l=s+=c.size;u>=n||l<=t?o.push(c):(u<t&&o.push(c.slice(0,t-u,i)),r&&(o.push(r),r=null),l>n&&o.push(c.slice(n-u,c.size,i)))}return o}function jn(e,t){var n=e.root.getSelection(),i=e.state.doc;if(!n.focusNode)return null;var r=e.docView.nearestDesc(n.focusNode),o=r&&0==r.size,a=e.docView.posFromDOM(n.focusNode,n.focusOffset);if(a<0)return null;var s,c,u=i.resolve(a);if(Yt(n)){for(s=u;r&&!r.node;)r=r.parent;if(r&&r.node.isAtom&&pt.isSelectable(r.node)&&r.parent&&(!r.node.isInline||!function(e,t,n){for(var i=0==t,r=t==Vt(e);i||r;){if(e==n)return!0;var o=Pt(e);if(!(e=e.parentNode))return!1;i=i&&0==o,r=r&&o==Vt(e)}}(n.focusNode,n.focusOffset,r.dom))){var l=r.posBefore;c=new pt(a==l?u:i.resolve(l))}}else{var d=e.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(d<0)return null;s=i.resolve(d)}c||(c=Xn(e,s,u,"pointer"==t||e.state.selection.head<u.pos&&!o?1:-1));return c}function $n(e){return e.editable?e.hasFocus():Jn(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Wn(e,t){var n=e.state.selection;if(Gn(e,n),$n(e)){if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){var t=e.root.getSelection(),n=document.createRange(),i=e.cursorWrapper.dom,r="IMG"==i.nodeName;r?n.setEnd(i.parentNode,Pt(i)+1):n.setEnd(i,0);n.collapse(!1),t.removeAllRanges(),t.addRange(n),!r&&!e.state.selection.visible&&Nt.ie&&Nt.ie_version<=11&&(i.disabled=!0,i.disabled=!1)}(e);else{var i,r,o=n.anchor,a=n.head;!Un||n instanceof dt||(n.$from.parent.inlineContent||(i=Vn(e,n.from)),n.empty||n.$from.parent.inlineContent||(r=Vn(e,n.to))),e.docView.setSelection(o,a,e.root,t),Un&&(i&&Yn(i),r&&Yn(r)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var n=e.root.getSelection(),i=n.anchorNode,r=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){n.anchorNode==i&&n.anchorOffset==r||(t.removeEventListener("selectionchange",e.hideSelectionGuard),setTimeout((function(){$n(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")}),20))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}Pn.prototype.destroyBetween=function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}},Pn.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},Pn.prototype.syncToMarks=function(e,t,n){for(var i=0,r=this.stack.length>>1,o=Math.min(r,e.length);i<o&&(i==r-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&!1!==e[i].type.spec.spanning;)i++;for(;i<r;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),r--;for(;r<e.length;){this.stack.push(this.top,this.index+1);for(var a=-1,s=this.index;s<Math.min(this.index+3,this.top.children.length);s++)if(this.top.children[s].matchesMark(e[r])){a=s;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var c=_n.create(this.top,e[r],t,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,r++}},Pn.prototype.findNodeMatch=function(e,t,n,i){var r=this.top.children,o=-1;if(i>=this.preMatch.index){for(var a=this.index;a<r.length;a++)if(r[a].matchesNode(e,t,n)){o=a;break}}else for(var s=this.index,c=Math.min(r.length,s+1);s<c;s++){var u=r[s];if(u.matchesNode(e,t,n)&&!this.preMatch.matched.has(u)){o=s;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)},Pn.prototype.updateNextNode=function(e,t,n,i,r){for(var o=this.index;o<this.top.children.length;o++){var a=this.top.children[o];if(a instanceof Cn){var s=this.preMatch.matched.get(a);if(null!=s&&s!=r)return!1;var c=a.dom;if(!(this.lock&&(c==this.lock||1==c.nodeType&&c.contains(this.lock.parentNode))&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&3!=a.dirty&&Bn(t,a.outerDeco)))&&a.update(e,t,n,i))return this.destroyBetween(this.index,o),a.dom!=c&&(this.changed=!0),this.index++,!0;break}}return!1},Pn.prototype.addNode=function(e,t,n,i,r){this.top.children.splice(this.index++,0,Cn.create(this.top,e,t,n,i,r)),this.changed=!0},Pn.prototype.placeWidget=function(e,t,n){var i=this.index<this.top.children.length?this.top.children[this.index]:null;if(!i||!i.matchesWidget(e)||e!=i.widget&&i.widget.type.toDOM.parentNode){var r=new wn(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++},Pn.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof _n;)e=e.children[e.children.length-1];if(!e||!(e instanceof En)||/\n$/.test(e.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var t=document.createElement("br");this.top.children.splice(this.index++,0,new On(this.top,yn,t,null)),this.changed=!0}};var Un=Nt.safari||Nt.chrome&&Nt.chrome_version<63;function Vn(e,t){var n=e.docView.domFromPos(t,0),i=n.node,r=n.offset,o=r<i.childNodes.length?i.childNodes[r]:null,a=r?i.childNodes[r-1]:null;if(Nt.safari&&o&&"false"==o.contentEditable)return Hn(o);if(!(o&&"false"!=o.contentEditable||a&&"false"!=a.contentEditable)){if(o)return Hn(o);if(a)return Hn(a)}}function Hn(e){return e.contentEditable="true",Nt.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Yn(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Gn(e,t){if(t instanceof pt){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(Kn(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else Kn(e)}function Kn(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function Xn(e,t,n,i){return e.someProp("createSelectionBetween",(function(i){return i(e,t,n)}))||dt.between(t,n,i)}function Jn(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(n){return!1}}function Zn(e,t){var n=e.selection,i=n.$anchor,r=n.$head,o=t>0?i.max(r):i.min(r),a=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return a&&ct.findFrom(a,t)}function Qn(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function ei(e,t,n){var i=e.state.selection;if(!(i instanceof dt)){if(i instanceof pt&&i.node.isInline)return Qn(e,new dt(t>0?i.$to:i.$from));var r=Zn(e.state,t);return!!r&&Qn(e,r)}if(!i.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var o=Zn(e.state,t);return!!(o&&o instanceof pt)&&Qn(e,o)}if(!(Nt.mac&&n.indexOf("m")>-1)){var a,s=i.$head,c=s.textOffset?null:t<0?s.nodeBefore:s.nodeAfter;if(!c||c.isText)return!1;var u=t<0?s.pos-c.nodeSize:s.pos;return!!(c.isAtom||(a=e.docView.descAt(u))&&!a.contentDOM)&&(pt.isSelectable(c)?Qn(e,new pt(t<0?e.state.doc.resolve(s.pos-c.nodeSize):s)):!!Nt.webkit&&Qn(e,new dt(e.state.doc.resolve(t<0?u:u+c.nodeSize))))}}function ti(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function ni(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function ii(e){var t=e.root.getSelection(),n=t.focusNode,i=t.focusOffset;if(n){var r,o,a=!1;for(Nt.gecko&&1==n.nodeType&&i<ti(n)&&ni(n.childNodes[i])&&(a=!0);;)if(i>0){if(1!=n.nodeType)break;var s=n.childNodes[i-1];if(ni(s))r=n,o=--i;else{if(3!=s.nodeType)break;i=(n=s).nodeValue.length}}else{if(oi(n))break;for(var c=n.previousSibling;c&&ni(c);)r=n.parentNode,o=Pt(c),c=c.previousSibling;if(c)i=ti(n=c);else{if((n=n.parentNode)==e.dom)break;i=0}}a?ai(e,t,n,i):r&&ai(e,t,r,o)}}function ri(e){var t=e.root.getSelection(),n=t.focusNode,i=t.focusOffset;if(n){for(var r,o,a=ti(n);;)if(i<a){if(1!=n.nodeType)break;if(!ni(n.childNodes[i]))break;r=n,o=++i}else{if(oi(n))break;for(var s=n.nextSibling;s&&ni(s);)r=s.parentNode,o=Pt(s)+1,s=s.nextSibling;if(s)i=0,a=ti(n=s);else{if((n=n.parentNode)==e.dom)break;i=a=0}}r&&ai(e,t,r,o)}}function oi(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function ai(e,t,n,i){if(Yt(t)){var r=document.createRange();r.setEnd(n,i),r.setStart(n,i),t.removeAllRanges(),t.addRange(r)}else t.extend&&t.extend(n,i);e.domObserver.setCurSelection();var o=e.state;setTimeout((function(){e.state==o&&Wn(e)}),50)}function si(e,t,n){var i=e.state.selection;if(i instanceof dt&&!i.empty||n.indexOf("s")>-1)return!1;if(Nt.mac&&n.indexOf("m")>-1)return!1;var r=i.$from,o=i.$to;if(!r.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var a=Zn(e.state,t);if(a&&a instanceof pt)return Qn(e,a)}if(!r.parent.inlineContent){var s=t<0?r:o,c=i instanceof mt?ct.near(s,t):ct.findFrom(s,t);return!!c&&Qn(e,c)}return!1}function ci(e,t){if(!(e.state.selection instanceof dt))return!0;var n=e.state.selection,i=n.$head,r=n.$anchor,o=n.empty;if(!i.sameParent(r))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var a=!i.textOffset&&(t<0?i.nodeBefore:i.nodeAfter);if(a&&!a.isText){var s=e.state.tr;return t<0?s.delete(i.pos-a.nodeSize,i.pos):s.delete(i.pos,i.pos+a.nodeSize),e.dispatch(s),!0}return!1}function ui(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function li(e,t){var n=t.keyCode,i=function(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||Nt.mac&&72==n&&"c"==i?ci(e,-1)||ii(e):46==n||Nt.mac&&68==n&&"c"==i?ci(e,1)||ri(e):13==n||27==n||(37==n?ei(e,-1,i)||ii(e):39==n?ei(e,1,i)||ri(e):38==n?si(e,-1,i)||ii(e):40==n?function(e){if(Nt.safari&&!(e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),n=t.focusNode,i=t.focusOffset;if(n&&1==n.nodeType&&0==i&&n.firstChild&&"false"==n.firstChild.contentEditable){var r=n.firstChild;ui(e,r,!0),setTimeout((function(){return ui(e,r,!1)}),20)}}}(e)||si(e,1,i)||ri(e):i==(Nt.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function di(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(Nt.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(e.parentNode.lastChild==e||Nt.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0}}function hi(e,t,n,i,r){if(t<0){var o=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,a=jn(e,o);if(a&&!e.state.selection.eq(a)){var s=e.state.tr.setSelection(a);"pointer"==o?s.setMeta("pointer",!0):"key"==o&&s.scrollIntoView(),e.dispatch(s)}}else{var c=e.state.doc.resolve(t),u=c.sharedDepth(n);t=c.before(u+1),n=e.state.doc.resolve(n).after(u+1);var d=e.state.selection,h=function(e,t,n){var i=e.docView.parseRange(t,n),r=i.node,o=i.fromOffset,a=i.toOffset,s=i.from,c=i.to,u=e.root.getSelection(),l=null,d=u.anchorNode;if(d&&e.dom.contains(1==d.nodeType?d:d.parentNode)&&(l=[{node:d,offset:u.anchorOffset}],Yt(u)||l.push({node:u.focusNode,offset:u.focusOffset})),Nt.chrome&&8===e.lastKeyCode)for(var h=a;h>o;h--){var p=r.childNodes[h-1],f=p.pmViewDesc;if("BR"==p.nodeName&&!f){a=h;break}if(!f||f.size)break}var m=e.state.doc,g=e.someProp("domParser")||ue.fromSchema(e.state.schema),x=m.resolve(s),v=null,b=g.parse(r,{topNode:x.parent,topMatch:x.parent.contentMatchAt(x.index()),topOpen:!0,from:o,to:a,preserveWhitespace:!x.parent.type.spec.code||"full",editableContent:!0,findPositions:l,ruleFromNode:di,context:x});if(l&&null!=l[0].pos){var y=l[0].pos,w=l[1]&&l[1].pos;null==w&&(w=y),v={anchor:y+s,head:w+s}}return{doc:b,sel:v,from:s,to:c}}(e,t,n);if(Nt.chrome&&e.cursorWrapper&&h.sel&&h.sel.anchor==e.cursorWrapper.deco.from){var p=e.cursorWrapper.deco.type.toDOM.nextSibling,f=p&&p.nodeValue?p.nodeValue.length:1;h.sel={anchor:h.sel.anchor+f,head:h.sel.anchor+f}}var m,g,x=e.state.doc,v=x.slice(h.from,h.to);8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(m=e.state.selection.to,g="end"):(m=e.state.selection.from,g="start"),e.lastKeyCode=null;var b=function(e,t,n,i,r){var o=e.findDiffStart(t,n);if(null==o)return null;var a=e.findDiffEnd(t,n+e.size,n+t.size),s=a.a,c=a.b;if("end"==r){i-=s+Math.max(0,o-Math.min(s,c))-o}if(s<o&&e.size<t.size){c=(o-=i<=o&&i>=s?o-i:0)+(c-s),s=o}else if(c<o){s=(o-=i<=o&&i>=c?o-i:0)+(s-c),c=o}return{start:o,endA:s,endB:c}}(v.content,h.doc.content,h.from,m,g);if(!b){if(!(i&&d instanceof dt&&!d.empty&&d.$head.sameParent(d.$anchor))||e.composing||h.sel&&h.sel.anchor!=h.sel.head){if((Nt.ios&&e.lastIOSEnter>Date.now()-225||Nt.android)&&r.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName}))&&e.someProp("handleKeyDown",(function(t){return t(e,Gt(13,"Enter"))})))return void(e.lastIOSEnter=0);if(h.sel){var y=pi(e,e.state.doc,h.sel);y&&!y.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(y))}return}b={start:d.from,endA:d.to,endB:d.to}}e.domChangeCount++,e.state.selection.from<e.state.selection.to&&b.start==b.endB&&e.state.selection instanceof dt&&(b.start>e.state.selection.from&&b.start<=e.state.selection.from+2?b.start=e.state.selection.from:b.endA<e.state.selection.to&&b.endA>=e.state.selection.to-2&&(b.endB+=e.state.selection.to-b.endA,b.endA=e.state.selection.to)),Nt.ie&&Nt.ie_version<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>h.from&&" "==h.doc.textBetween(b.start-h.from-1,b.start-h.from+1)&&(b.start--,b.endA--,b.endB--);var w,k=h.doc.resolveNoCache(b.start-h.from),_=h.doc.resolveNoCache(b.endB-h.from),C=k.sameParent(_)&&k.parent.inlineContent;if((Nt.ios&&e.lastIOSEnter>Date.now()-225&&(!C||r.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName})))||!C&&k.pos<h.doc.content.size&&(w=ct.findFrom(h.doc.resolve(k.pos+1),1,!0))&&w.head==_.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,Gt(13,"Enter"))})))e.lastIOSEnter=0;else if(e.state.selection.anchor>b.start&&function(e,t,n,i,r){if(!i.parent.isTextblock||n-t<=r.pos-i.pos||fi(i,!0,!1)<r.pos)return!1;var o=e.resolve(t);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;var a=e.resolve(fi(o,!0,!0));if(!a.parent.isTextblock||a.pos>n||fi(a,!0,!1)<n)return!1;return i.parent.content.cut(i.parentOffset).eq(a.parent.content)}(x,b.start,b.endA,k,_)&&e.someProp("handleKeyDown",(function(t){return t(e,Gt(8,"Backspace"))})))Nt.android&&Nt.chrome&&e.domObserver.suppressSelectionUpdates();else{Nt.chrome&&Nt.android&&b.toB==b.from&&(e.lastAndroidDelete=Date.now()),Nt.android&&!C&&k.start()!=_.start()&&0==_.parentOffset&&k.depth==_.depth&&h.sel&&h.sel.anchor==h.sel.head&&h.sel.head==b.endA&&(b.endB-=2,_=h.doc.resolveNoCache(b.endB-h.from),setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,Gt(13,"Enter"))}))}),20));var S,E,O,M,D=b.start,T=b.endA;if(C)if(k.pos==_.pos)Nt.ie&&Nt.ie_version<=11&&0==k.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return Wn(e)}),20)),S=e.state.tr.delete(D,T),E=x.resolve(b.start).marksAcross(x.resolve(b.endA));else if(b.endA==b.endB&&(M=x.resolve(b.start))&&(O=function(e,t){for(var n,i,r,o=e.firstChild.marks,a=t.firstChild.marks,s=o,c=a,u=0;u<a.length;u++)s=a[u].removeFromSet(s);for(var d=0;d<o.length;d++)c=o[d].removeFromSet(c);if(1==s.length&&0==c.length)i=s[0],n="add",r=function(e){return e.mark(i.addToSet(e.marks))};else{if(0!=s.length||1!=c.length)return null;i=c[0],n="remove",r=function(e){return e.mark(i.removeFromSet(e.marks))}}for(var h=[],p=0;p<t.childCount;p++)h.push(r(t.child(p)));if(l.from(h).eq(e))return{mark:i,type:n}}(k.parent.content.cut(k.parentOffset,_.parentOffset),M.parent.content.cut(M.parentOffset,b.endA-M.start()))))S=e.state.tr,"add"==O.type?S.addMark(D,T,O.mark):S.removeMark(D,T,O.mark);else if(k.parent.child(k.index()).isText&&k.index()==_.index()-(_.textOffset?0:1)){var A=k.parent.textBetween(k.parentOffset,_.parentOffset);if(e.someProp("handleTextInput",(function(t){return t(e,D,T,A)})))return;S=e.state.tr.insertText(A,D,T)}if(S||(S=e.state.tr.replace(D,T,h.doc.slice(b.start-h.from,b.endB-h.from))),h.sel){var N=pi(e,S.doc,h.sel);N&&!(Nt.chrome&&Nt.android&&e.composing&&N.empty&&(b.from!=b.toB||e.lastAndroidDelete<Date.now()-100)&&(N.head==D||N.head==S.mapping.map(T)-1)||Nt.ie&&N.empty&&N.head==D)&&S.setSelection(N)}E&&S.ensureMarks(E),e.dispatch(S.scrollIntoView())}}}function pi(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Xn(e,t.resolve(n.anchor),t.resolve(n.head))}function fi(e,t,n){for(var i=e.depth,r=t?e.end():e.pos;i>0&&(t||e.indexAfter(i)==e.node(i).childCount);)i--,r++,t=!1;if(n)for(var o=e.node(i).maybeChild(e.indexAfter(i));o&&!o.isLeaf;)o=o.firstChild,r++;return r}function mi(e,t){for(var n=[],i=t.content,r=t.openStart,o=t.openEnd;r>1&&o>1&&1==i.childCount&&1==i.firstChild.childCount;){r--,o--;var a=i.firstChild;n.push(a.type.name,a.attrs!=a.type.defaultAttrs?a.attrs:null),i=a.content}var s=e.someProp("clipboardSerializer")||ye.fromSchema(e.state.schema),c=_i(),u=c.createElement("div");u.appendChild(s.serializeFragment(i,{document:c}));for(var l,d=u.firstChild;d&&1==d.nodeType&&(l=wi[d.nodeName.toLowerCase()]);){for(var h=l.length-1;h>=0;h--){for(var p=c.createElement(l[h]);u.firstChild;)p.appendChild(u.firstChild);u.appendChild(p)}d=u.firstChild}return d&&1==d.nodeType&&d.setAttribute("data-pm-slice",r+" "+o+" "+JSON.stringify(n)),{dom:u,text:e.someProp("clipboardTextSerializer",(function(e){return e(t)}))||t.content.textBetween(0,t.content.size,"\n\n")}}function gi(e,t,n,i,r){var o,a,s=r.parent.type.spec.code;if(!n&&!t)return null;var c=t&&(i||s||!n);if(c){if(e.someProp("transformPastedText",(function(e){t=e(t,s||i)})),s)return new x(l.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0);var u=e.someProp("clipboardTextParser",(function(e){return e(t,r,i)}));u?a=u:(o=document.createElement("div"),t.trim().split(/(?:\r\n?|\n)+/).forEach((function(e){o.appendChild(document.createElement("p")).textContent=e})))}else e.someProp("transformPastedHTML",(function(e){n=e(n)})),o=function(e){var t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,i=_i().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(e);(n=r&&wi[r[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join(""));if(i.innerHTML=e,n)for(var o=0;o<n.length;o++)i=i.querySelector(n[o])||i;return i}(n);var d=o&&o.querySelector("[data-pm-slice]"),h=d&&/^(\d+) (\d+) (.*)/.exec(d.getAttribute("data-pm-slice"));if(!a){var p=e.someProp("clipboardParser")||e.someProp("domParser")||ue.fromSchema(e.state.schema);a=p.parseSlice(o,{preserveWhitespace:!(!c&&!h),context:r})}return a=h?function(e,t){if(!e.size)return e;var n,i=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(u){return e}for(var r=e.content,o=e.openStart,a=e.openEnd,s=n.length-2;s>=0;s-=2){var c=i.nodes[n[s]];if(!c||c.hasRequiredAttrs())break;r=l.from(c.create(n[s+1],r)),o++,a++}return new x(r,o,a)}(function(e,t,n){t<e.openStart&&(e=new x(yi(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd));n<e.openEnd&&(e=new x(yi(e.content,1,n,e.openEnd,0,0),e.openStart,n));return e}(a,+h[1],+h[2]),h[3]):x.maxOpen(function(e,t){if(e.childCount<2)return e;for(var n=function(n){var i=t.node(n).contentMatchAt(t.index(n)),r=void 0,o=[];if(e.forEach((function(e){if(o){var t,n=i.findWrapping(e.type);if(!n)return o=null;if(t=o.length&&r.length&&vi(n,r,e,o[o.length-1],0))o[o.length-1]=t;else{o.length&&(o[o.length-1]=bi(o[o.length-1],r.length));var a=xi(e,n);o.push(a),i=i.matchType(a.type,a.attrs),r=n}}})),o)return{v:l.from(o)}},i=t.depth;i>=0;i--){var r=n(i);if(r)return r.v}return e}(a.content,r),!1),e.someProp("transformPasted",(function(e){a=e(a)})),a}function xi(e,t,n){void 0===n&&(n=0);for(var i=t.length-1;i>=n;i--)e=t[i].create(null,l.from(e));return e}function vi(e,t,n,i,r){if(r<e.length&&r<t.length&&e[r]==t[r]){var o=vi(e,t,n,i.lastChild,r+1);if(o)return i.copy(i.content.replaceChild(i.childCount-1,o));if(i.contentMatchAt(i.childCount).matchType(r==e.length-1?n.type:e[r+1]))return i.copy(i.content.append(l.from(xi(n,e,r+1))))}}function bi(e,t){if(0==t)return e;var n=e.content.replaceChild(e.childCount-1,bi(e.lastChild,t-1)),i=e.contentMatchAt(e.childCount).fillBefore(l.empty,!0);return e.copy(n.append(i))}function yi(e,t,n,i,r,o){var a=t<0?e.firstChild:e.lastChild,s=a.content;return r<i-1&&(s=yi(s,t,n,i,r+1,o)),r>=n&&(s=t<0?a.contentMatchAt(0).fillBefore(s,e.childCount>1||o<=r).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(l.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(s))}var wi={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},ki=null;function _i(){return ki||(ki=document.implementation.createHTMLDocument("title"))}var Ci={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Si=Nt.ie&&Nt.ie_version<=11,Ei=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Ei.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},Ei.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var Oi=function(e,t){var n=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)n.queue.push(e[t]);Nt.ie&&Nt.ie_version<=11&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new Ei,Si&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Oi.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))},Oi.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},Oi.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,Ci),Si&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},Oi.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}Si&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},Oi.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},Oi.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},Oi.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)},Oi.prototype.onSelectionChange=function(){if((!(e=this.view).editable||e.root.activeElement==e.dom)&&Jn(e)){var e;if(this.suppressingSelectionUpdates)return Wn(this.view);if(Nt.ie&&Nt.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&$t(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}},Oi.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Oi.prototype.ignoreSelectionChange=function(e){if(0==e.rangeCount)return!0;var t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0},Oi.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&Jn(this.view)&&!this.ignoreSelectionChange(t),i=-1,r=-1,o=!1,a=[];if(this.view.editable)for(var s=0;s<e.length;s++){var c=this.registerMutation(e[s],a);c&&(i=i<0?c.from:Math.min(c.from,i),r=r<0?c.to:Math.max(c.to,r),c.typeOver&&(o=!0))}if(Nt.gecko&&a.length>1){var u=a.filter((function(e){return"BR"==e.nodeName}));if(2==u.length){var l=u[0],d=u[1];l.parentNode&&l.parentNode.parentNode==d.parentNode?d.remove():l.remove()}}(i>-1||n)&&(i>-1&&(this.view.docView.markDirty(i,r),function(e){if(Mi)return;Mi=!0,"normal"==getComputedStyle(e.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(i,r,o,a),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||Wn(this.view),this.currentSelection.set(t))}},Oi.prototype.registerMutation=function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(var i=0;i<e.addedNodes.length;i++)t.push(e.addedNodes[i]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};var r=e.previousSibling,o=e.nextSibling;if(Nt.ie&&Nt.ie_version<=11&&e.addedNodes.length)for(var a=0;a<e.addedNodes.length;a++){var s=e.addedNodes[a],c=s.previousSibling,u=s.nextSibling;(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(r=c),(!u||Array.prototype.indexOf.call(e.addedNodes,u)<0)&&(o=u)}var l=r&&r.parentNode==e.target?Pt(r)+1:0,d=n.localPosFromDOM(e.target,l,-1),h=o&&o.parentNode==e.target?Pt(o):e.target.childNodes.length;return{from:d,to:n.localPosFromDOM(e.target,h,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var Mi=!1;var Di={},Ti={};function Ai(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function Ni(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(t){return zi(e,t)})}))}function zi(e,t){return e.someProp("handleDOMEvents",(function(n){var i=n[t.type];return!!i&&(i(e,t)||t.defaultPrevented)}))}function Ri(e){return{left:e.clientX,top:e.clientY}}function Ii(e,t,n,i,r){if(-1==i)return!1;for(var o=e.state.doc.resolve(i),a=function(i){if(e.someProp(t,(function(t){return i>o.depth?t(e,n,o.nodeAfter,o.before(i),r,!0):t(e,n,o.node(i),o.before(i),r,!1)})))return{v:!0}},s=o.depth+1;s>0;s--){var c=a(s);if(c)return c.v}return!1}function Bi(e,t,n){e.focused||e.focus();var i=e.state.tr.setSelection(t);"pointer"==n&&i.setMeta("pointer",!0),e.dispatch(i)}function Li(e,t,n,i,r){return Ii(e,"handleClickOn",t,n,i)||e.someProp("handleClick",(function(n){return n(e,t,i)}))||(r?function(e,t){if(-1==t)return!1;var n,i,r=e.state.selection;r instanceof pt&&(n=r.node);for(var o=e.state.doc.resolve(t),a=o.depth+1;a>0;a--){var s=a>o.depth?o.nodeAfter:o.node(a);if(pt.isSelectable(s)){i=n&&r.$from.depth>0&&a>=r.$from.depth&&o.before(r.$from.depth+1)==r.$from.pos?o.before(r.$from.depth):o.before(a);break}}return null!=i&&(Bi(e,pt.create(e.state.doc,i),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),i=n.nodeAfter;return!!(i&&i.isAtom&&pt.isSelectable(i))&&(Bi(e,new pt(n),"pointer"),!0)}(e,n))}function Pi(e,t,n,i){return Ii(e,"handleDoubleClickOn",t,n,i)||e.someProp("handleDoubleClick",(function(n){return n(e,t,i)}))}function qi(e,t,n,i){return Ii(e,"handleTripleClickOn",t,n,i)||e.someProp("handleTripleClick",(function(n){return n(e,t,i)}))||function(e,t){var n=e.state.doc;if(-1==t)return!!n.inlineContent&&(Bi(e,dt.create(n,0,n.content.size),"pointer"),!0);for(var i=n.resolve(t),r=i.depth+1;r>0;r--){var o=r>i.depth?i.nodeAfter:i.node(r),a=i.before(r);if(o.inlineContent)Bi(e,dt.create(n,a+1,a+1+o.content.size),"pointer");else{if(!pt.isSelectable(o))continue;Bi(e,pt.create(n,a),"pointer")}return!0}}(e,n)}function Fi(e){return Yi(e)}Ti.keydown=function(e,t){if(e.shiftKey=16==t.keyCode||t.shiftKey,!Wi(e,t))if(e.domObserver.forceFlush(),e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!Nt.ios||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp("handleKeyDown",(function(n){return n(e,t)}))||li(e,t)?t.preventDefault():Ai(e,"key");else{var n=Date.now();e.lastIOSEnter=n,e.lastIOSEnterFallbackTimeout=setTimeout((function(){e.lastIOSEnter==n&&(e.someProp("handleKeyDown",(function(t){return t(e,Gt(13,"Enter"))})),e.lastIOSEnter=0)}),200)}},Ti.keyup=function(e,t){16==t.keyCode&&(e.shiftKey=!1)},Ti.keypress=function(e,t){if(!(Wi(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||Nt.mac&&t.metaKey))if(e.someProp("handleKeyPress",(function(n){return n(e,t)})))t.preventDefault();else{var n=e.state.selection;if(!(n instanceof dt&&n.$from.sameParent(n.$to))){var i=String.fromCharCode(t.charCode);e.someProp("handleTextInput",(function(t){return t(e,n.$from.pos,n.$to.pos,i)}))||e.dispatch(e.state.tr.insertText(i).scrollIntoView()),t.preventDefault()}}};var ji=Nt.mac?"metaKey":"ctrlKey";Di.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=Fi(e),i=Date.now(),r="singleClick";i-e.lastClick.time<500&&function(e,t){var n=t.x-e.clientX,i=t.y-e.clientY;return n*n+i*i<100}(t,e.lastClick)&&!t[ji]&&("singleClick"==e.lastClick.type?r="doubleClick":"doubleClick"==e.lastClick.type&&(r="tripleClick")),e.lastClick={time:i,x:t.clientX,y:t.clientY,type:r};var o=e.posAtCoords(Ri(t));o&&("singleClick"==r?(e.mouseDown&&e.mouseDown.done(),e.mouseDown=new $i(e,o,t,n)):("doubleClick"==r?Pi:qi)(e,o.pos,o.inside,t)?t.preventDefault():Ai(e,"pointer"))};var $i=function(e,t,n,i){var r,o,a=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=n,this.flushed=i,this.selectNode=n[ji],this.allowDefault=n.shiftKey,t.inside>-1)r=e.state.doc.nodeAt(t.inside),o=t.inside;else{var s=e.state.doc.resolve(t.pos);r=s.parent,o=s.depth?s.before():0}this.mightDrag=null;var c=i?null:n.target,u=c?e.docView.nearestDesc(c,!0):null;this.target=u?u.dom:null,(r.type.spec.draggable&&!1!==r.type.spec.selectable||e.state.selection instanceof pt&&o==e.state.selection.from)&&(this.mightDrag={node:r,pos:o,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&Nt.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){a.view.mouseDown==a&&a.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ai(e,"pointer")};function Wi(e,t){return!!e.composing||!!(Nt.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500)&&(e.compositionEndedAt=-2e8,!0)}$i.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},$i.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(Ri(e))),this.allowDefault||!t?Ai(this.view,"pointer"):Li(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():this.flushed||Nt.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||Nt.chrome&&!(this.view.state.selection instanceof dt)&&(t.pos==this.view.state.selection.from||t.pos==this.view.state.selection.to)?(Bi(this.view,ct.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):Ai(this.view,"pointer")}},$i.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),Ai(this.view,"pointer"),0==e.buttons&&this.done()},Di.touchdown=function(e){Fi(e),Ai(e,"pointer")},Di.contextmenu=function(e){return Fi(e)};var Ui=Nt.android?5e3:-1;function Vi(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout((function(){return Yi(e)}),t))}function Hi(e){for(e.composing=!1;e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty()}function Yi(e,t){if(e.domObserver.forceFlush(),Hi(e),t||e.docView.dirty){var n=jn(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}Ti.compositionstart=Ti.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),Yi(e,!0),e.markCursor=null;else if(Yi(e),Nt.gecko&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var i=e.root.getSelection(),r=i.focusNode,o=i.focusOffset;r&&1==r.nodeType&&0!=o;){var a=o<0?r.lastChild:r.childNodes[o-1];if(!a)break;if(3==a.nodeType){i.collapse(a,a.nodeValue.length);break}r=a,o=-1}e.composing=!0}Vi(e,Ui)},Ti.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,Vi(e,20))};var Gi=Nt.ie&&Nt.ie_version<15||Nt.ios&&Nt.webkit_version<604;function Ki(e,t,n,i){var r=gi(e,t,n,e.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",(function(t){return t(e,i,r||x.empty)})))return!0;if(!r)return!1;var o=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(r),a=o?e.state.tr.replaceSelectionWith(o,e.shiftKey):e.state.tr.replaceSelection(r);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Di.copy=Ti.cut=function(e,t){var n=e.state.selection,i="cut"==t.type;if(!n.empty){var r=Gi?null:t.clipboardData,o=mi(e,n.content()),a=o.dom,s=o.text;r?(t.preventDefault(),r.clearData(),r.setData("text/html",a.innerHTML),r.setData("text/plain",s)):function(e,t){if(e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var i=getSelection(),r=document.createRange();r.selectNodeContents(t),e.dom.blur(),i.removeAllRanges(),i.addRange(r),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}}(e,a),i&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},Ti.paste=function(e,t){var n=Gi?null:t.clipboardData;n&&Ki(e,n.getData("text/plain"),n.getData("text/html"),t)?t.preventDefault():function(e,t){if(e.dom.parentNode){var n=e.shiftKey||e.state.selection.$from.parent.type.spec.code,i=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus(),setTimeout((function(){e.focus(),i.parentNode&&i.parentNode.removeChild(i),n?Ki(e,i.value,null,t):Ki(e,i.textContent,i.innerHTML,t)}),50)}}(e,t)};var Xi=function(e,t){this.slice=e,this.move=t},Ji=Nt.mac?"altKey":"ctrlKey";for(var Zi in Di.dragstart=function(e,t){var n=e.mouseDown;if(n&&n.done(),t.dataTransfer){var i=e.state.selection,r=i.empty?null:e.posAtCoords(Ri(t));if(r&&r.pos>=i.from&&r.pos<=(i instanceof pt?i.to-1:i.to));else if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection(pt.create(e.state.doc,n.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){var o=e.docView.nearestDesc(t.target,!0);if(!o||!o.node.type.spec.draggable||o==e.docView)return;e.dispatch(e.state.tr.setSelection(pt.create(e.state.doc,o.posBefore)))}var a=e.state.selection.content(),s=mi(e,a),c=s.dom,u=s.text;t.dataTransfer.clearData(),t.dataTransfer.setData(Gi?"Text":"text/html",c.innerHTML),t.dataTransfer.effectAllowed="copyMove",Gi||t.dataTransfer.setData("text/plain",u),e.dragging=new Xi(a,!t[Ji])}},Di.dragend=function(e){var t=e.dragging;window.setTimeout((function(){e.dragging==t&&(e.dragging=null)}),50)},Ti.dragover=Ti.dragenter=function(e,t){return t.preventDefault()},Ti.drop=function(e,t){var n=e.dragging;if(e.dragging=null,t.dataTransfer){var i=e.posAtCoords(Ri(t));if(i){var r=e.state.doc.resolve(i.pos);if(r){var o=n&&n.slice||gi(e,t.dataTransfer.getData(Gi?"Text":"text/plain"),Gi?null:t.dataTransfer.getData("text/html"),!1,r),a=n&&!t[Ji];if(e.someProp("handleDrop",(function(n){return n(e,t,o||x.empty,a)})))t.preventDefault();else if(o){t.preventDefault();var s=o?He(e.state.doc,r.pos,o):r.pos;null==s&&(s=r.pos);var c=e.state.tr;a&&c.deleteSelection();var u=c.mapping.map(s),l=0==o.openStart&&0==o.openEnd&&1==o.content.childCount,d=c.doc;if(l?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),!c.doc.eq(d)){var h=c.doc.resolve(u);if(l&&pt.isSelectable(o.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new pt(h));else{var p=c.mapping.map(s);c.mapping.maps[c.mapping.maps.length-1].forEach((function(e,t,n,i){return p=i})),c.setSelection(Xn(e,h,c.doc.resolve(p)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))}}}}}},Di.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&Wn(e)}),20))},Di.blur=function(e){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),e.domObserver.currentSelection.set({}),e.focused=!1)},Di.beforeinput=function(e,t){if(Nt.chrome&&Nt.android&&"deleteContentBackward"==t.inputType){var n=e.domChangeCount;setTimeout((function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,Gt(8,"Backspace"))})))){var t=e.state.selection.$cursor;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView())}}),50)}},Ti)Di[Zi]=Ti[Zi];function Qi(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var i in t)if(!(i in e))return!1;return!0}var er=function(e,t){this.spec=t||ar,this.side=this.spec.side||0,this.toDOM=e};er.prototype.map=function(e,t,n,i){var r=e.mapResult(t.from+i,this.side<0?-1:1),o=r.pos;return r.deleted?null:new ir(o-n,o-n,this)},er.prototype.valid=function(){return!0},er.prototype.eq=function(e){return this==e||e instanceof er&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Qi(this.spec,e.spec))};var tr=function(e,t){this.spec=t||ar,this.attrs=e};tr.prototype.map=function(e,t,n,i){var r=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-n,o=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-n;return r>=o?null:new ir(r,o,this)},tr.prototype.valid=function(e,t){return t.from<t.to},tr.prototype.eq=function(e){return this==e||e instanceof tr&&Qi(this.attrs,e.attrs)&&Qi(this.spec,e.spec)},tr.is=function(e){return e.type instanceof tr};var nr=function(e,t){this.spec=t||ar,this.attrs=e};nr.prototype.map=function(e,t,n,i){var r=e.mapResult(t.from+i,1);if(r.deleted)return null;var o=e.mapResult(t.to+i,-1);return o.deleted||o.pos<=r.pos?null:new ir(r.pos-n,o.pos-n,this)},nr.prototype.valid=function(e,t){var n=e.content.findIndex(t.from),i=n.index,r=n.offset;return r==t.from&&r+e.child(i).nodeSize==t.to},nr.prototype.eq=function(e){return this==e||e instanceof nr&&Qi(this.attrs,e.attrs)&&Qi(this.spec,e.spec)};var ir=function(e,t,n){this.from=e,this.to=t,this.type=n},rr={spec:{configurable:!0},inline:{configurable:!0}};ir.prototype.copy=function(e,t){return new ir(e,t,this.type)},ir.prototype.eq=function(e,t){return void 0===t&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to},ir.prototype.map=function(e,t,n){return this.type.map(e,this,t,n)},ir.widget=function(e,t,n){return new ir(e,e,new er(t,n))},ir.inline=function(e,t,n,i){return new ir(e,t,new tr(n,i))},ir.node=function(e,t,n,i){return new ir(e,t,new nr(n,i))},rr.spec.get=function(){return this.type.spec},rr.inline.get=function(){return this.type instanceof tr},Object.defineProperties(ir.prototype,rr);var or=[],ar={},sr=function(e,t){this.local=e&&e.length?e:or,this.children=t&&t.length?t:or};sr.create=function(e,t){return t.length?pr(t,e,0,ar):cr},sr.prototype.find=function(e,t,n){var i=[];return this.findInner(null==e?0:e,null==t?1e9:t,i,0,n),i},sr.prototype.findInner=function(e,t,n,i,r){for(var o=0;o<this.local.length;o++){var a=this.local[o];a.from<=t&&a.to>=e&&(!r||r(a.spec))&&n.push(a.copy(a.from+i,a.to+i))}for(var s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){var c=this.children[s]+1;this.children[s+2].findInner(e-c,t-c,n,i+c,r)}},sr.prototype.map=function(e,t,n){return this==cr||0==e.maps.length?this:this.mapInner(e,t,0,0,n||ar)},sr.prototype.mapInner=function(e,t,n,i,r){for(var o,a=0;a<this.local.length;a++){var s=this.local[a].map(e,n,i);s&&s.type.valid(t,s)?(o||(o=[])).push(s):r.onRemove&&r.onRemove(this.local[a].spec)}return this.children.length?function(e,t,n,i,r,o,a){for(var s=e.slice(),c=function(e,t,n,i){for(var a=0;a<s.length;a+=3){var c=s[a+1],u=void 0;-1==c||e>c+o||(t>=s[a]+o?s[a+1]=-1:n>=r&&(u=i-n-(t-e))&&(s[a]+=u,s[a+1]+=u))}},u=0;u<n.maps.length;u++)n.maps[u].forEach(c);for(var l=!1,d=0;d<s.length;d+=3)if(-1==s[d+1]){var h=n.map(e[d]+o),p=h-r;if(p<0||p>=i.content.size){l=!0;continue}var f=n.map(e[d+1]+o,-1)-r,m=i.content.findIndex(p),g=m.index,x=m.offset,v=i.maybeChild(g);if(v&&x==p&&x+v.nodeSize==f){var b=s[d+2].mapInner(n,v,h+1,e[d]+o+1,a);b!=cr?(s[d]=p,s[d+1]=f,s[d+2]=b):(s[d+1]=-2,l=!0)}else l=!0}if(l){var y=pr(function(e,t,n,i,r,o,a){function s(e,t){for(var o=0;o<e.local.length;o++){var c=e.local[o].map(i,r,t);c?n.push(c):a.onRemove&&a.onRemove(e.local[o].spec)}for(var u=0;u<e.children.length;u+=3)s(e.children[u+2],e.children[u]+t+1)}for(var c=0;c<e.length;c+=3)-1==e[c+1]&&s(e[c+2],t[c]+o+1);return n}(s,e,t||[],n,r,o,a),i,0,a);t=y.local;for(var w=0;w<s.length;w+=3)s[w+1]<0&&(s.splice(w,3),w-=3);for(var k=0,_=0;k<y.children.length;k+=3){for(var C=y.children[k];_<s.length&&s[_]<C;)_+=3;s.splice(_,0,y.children[k],y.children[k+1],y.children[k+2])}}return new sr(t&&t.sort(fr),s)}(this.children,o,e,t,n,i,r):o?new sr(o.sort(fr)):cr},sr.prototype.add=function(e,t){return t.length?this==cr?sr.create(e,t):this.addInner(e,t,0):this},sr.prototype.addInner=function(e,t,n){var i,r=this,o=0;e.forEach((function(e,a){var s,c=a+n;if(s=dr(t,e,c)){for(i||(i=r.children.slice());o<i.length&&i[o]<a;)o+=3;i[o]==a?i[o+2]=i[o+2].addInner(e,s,c+1):i.splice(o,0,a,a+e.nodeSize,pr(s,e,c+1,ar)),o+=3}}));for(var a=lr(o?hr(t):t,-n),s=0;s<a.length;s++)a[s].type.valid(e,a[s])||a.splice(s--,1);return new sr(a.length?this.local.concat(a).sort(fr):this.local,i||this.children)},sr.prototype.remove=function(e){return 0==e.length||this==cr?this:this.removeInner(e,0)},sr.prototype.removeInner=function(e,t){for(var n=this.children,i=this.local,r=0;r<n.length;r+=3){for(var o=void 0,a=n[r]+t,s=n[r+1]+t,c=0,u=void 0;c<e.length;c++)(u=e[c])&&u.from>a&&u.to<s&&(e[c]=null,(o||(o=[])).push(u));if(o){n==this.children&&(n=this.children.slice());var l=n[r+2].removeInner(o,a+1);l!=cr?n[r+2]=l:(n.splice(r,3),r-=3)}}if(i.length)for(var d=0,h=void 0;d<e.length;d++)if(h=e[d])for(var p=0;p<i.length;p++)i[p].eq(h,t)&&(i==this.local&&(i=this.local.slice()),i.splice(p--,1));return n==this.children&&i==this.local?this:i.length||n.length?new sr(i,n):cr},sr.prototype.forChild=function(e,t){if(this==cr)return this;if(t.isLeaf)return sr.empty;for(var n,i,r=0;r<this.children.length;r+=3)if(this.children[r]>=e){this.children[r]==e&&(n=this.children[r+2]);break}for(var o=e+1,a=o+t.content.size,s=0;s<this.local.length;s++){var c=this.local[s];if(c.from<a&&c.to>o&&c.type instanceof tr){var u=Math.max(o,c.from)-o,l=Math.min(a,c.to)-o;u<l&&(i||(i=[])).push(c.copy(u,l))}}if(i){var d=new sr(i.sort(fr));return n?new ur([d,n]):d}return n||cr},sr.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof sr)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0},sr.prototype.locals=function(e){return mr(this.localsInner(e))},sr.prototype.localsInner=function(e){if(this==cr)return or;if(e.inlineContent||!this.local.some(tr.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof tr||t.push(this.local[n]);return t};var cr=new sr;sr.empty=cr,sr.removeOverlap=mr;var ur=function(e){this.members=e};function lr(e,t){if(!t||!e.length)return e;for(var n=[],i=0;i<e.length;i++){var r=e[i];n.push(new ir(r.from+t,r.to+t,r.type))}return n}function dr(e,t,n){if(t.isLeaf)return null;for(var i=n+t.nodeSize,r=null,o=0,a=void 0;o<e.length;o++)(a=e[o])&&a.from>n&&a.to<i&&((r||(r=[])).push(a),e[o]=null);return r}function hr(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function pr(e,t,n,i){var r=[],o=!1;t.forEach((function(t,a){var s=dr(e,t,a+n);if(s){o=!0;var c=pr(s,t,n+a+1,i);c!=cr&&r.push(a,a+t.nodeSize,c)}}));for(var a=lr(o?hr(e):e,-n).sort(fr),s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(i.onRemove&&i.onRemove(a[s].spec),a.splice(s--,1));return a.length||r.length?new sr(a,r):cr}function fr(e,t){return e.from-t.from||e.to-t.to}function mr(e){for(var t=e,n=0;n<t.length-1;n++){var i=t[n];if(i.from!=i.to)for(var r=n+1;r<t.length;r++){var o=t[r];if(o.from!=i.from){o.from<i.to&&(t==e&&(t=e.slice()),t[n]=i.copy(i.from,o.from),gr(t,r,i.copy(o.from,i.to)));break}o.to!=i.to&&(t==e&&(t=e.slice()),t[r]=o.copy(o.from,i.to),gr(t,r+1,o.copy(i.to,o.to)))}}return t}function gr(e,t,n){for(;t<e.length&&fr(n,e[t])>0;)t++;e.splice(t,0,n)}function xr(e){var t=[];return e.someProp("decorations",(function(n){var i=n(e.state);i&&i!=cr&&t.push(i)})),e.cursorWrapper&&t.push(sr.create(e.state.doc,[e.cursorWrapper.deco])),ur.from(t)}ur.prototype.forChild=function(e,t){if(t.isLeaf)return sr.empty;for(var n=[],i=0;i<this.members.length;i++){var r=this.members[i].forChild(e,t);r!=cr&&(r instanceof ur?n=n.concat(r.members):n.push(r))}return ur.from(n)},ur.prototype.eq=function(e){if(!(e instanceof ur)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},ur.prototype.locals=function(e){for(var t,n=!0,i=0;i<this.members.length;i++){var r=this.members[i].localsInner(e);if(r.length)if(t){n&&(t=t.slice(),n=!1);for(var o=0;o<r.length;o++)t.push(r[o])}else t=r}return t?mr(n?t:t.sort(fr)):or},ur.from=function(e){switch(e.length){case 0:return cr;case 1:return e[0];default:return new ur(e)}};var vr=function(e,t){this._props=t,this.state=t.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=kr(this),this.markCursor=null,this.cursorWrapper=null,wr(this),this.nodeViews=_r(this),this.docView=Sn(this.state.doc,yr(this),xr(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.lastIOSEnterFallbackTimeout=null,e.lastAndroidDelete=0,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new Oi(e,(function(t,n,i,r){return hi(e,t,n,i,r)})),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var n=Di[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,t)||zi(e,t)||!e.editable&&t.type in Ti||n(e,t)})};for(var n in Di)t(n);Nt.safari&&e.dom.addEventListener("input",(function(){return null})),Ni(e)}(this),this.pluginViews=[],this.updatePluginViews()},br={props:{configurable:!0},root:{configurable:!0}};function yr(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var i in n)"class"==i?t.class+=" "+n[i]:t[i]||"contenteditable"==i||"nodeName"==i||(t[i]=String(n[i]))})),[ir.node(0,e.state.doc.content.size,t)]}function wr(e){if(e.markCursor){var t=document.createElement("img");t.setAttribute("mark-placeholder","true"),e.cursorWrapper={dom:t,deco:ir.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function kr(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function _r(e){var t={};return e.someProp("nodeViews",(function(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])})),t}br.props.get=function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props},vr.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Ni(this),this._props=e,this.updateStateInner(e.state,!0)},vr.prototype.setProps=function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var i in t.state=this.state,e)t[i]=e[i];this.update(t)},vr.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},vr.prototype.updateStateInner=function(e,t){var n=this,i=this.state,r=!1,o=!1;if(e.storedMarks&&this.composing&&(Hi(this),o=!0),this.state=e,t){var a=_r(this);(function(e,t){var n=0,i=0;for(var r in e){if(e[r]!=t[r])return!0;n++}for(var o in t)i++;return n!=i})(a,this.nodeViews)&&(this.nodeViews=a,r=!0),Ni(this)}this.editable=kr(this),wr(this);var s=xr(this),c=yr(this),u=t?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",l=r||!this.docView.matchesNode(e.doc,c,s);!l&&e.selection.eq(i.selection)||(o=!0);var d,h,p,f,m,g,x,v,b,y,w,k="preserve"==u&&o&&null==this.dom.style.overflowAnchor&&function(e){for(var t,n,i=e.dom.getBoundingClientRect(),r=Math.max(0,i.top),o=(i.left+i.right)/2,a=r+1;a<Math.min(innerHeight,i.bottom);a+=5){var s=e.root.elementFromPoint(o,a);if(s!=e.dom&&e.dom.contains(s)){var c=s.getBoundingClientRect();if(c.top>=r-20){t=s,n=c.top;break}}}return{refDOM:t,refTop:n,stack:Qt(e.dom)}}(this);if(o){this.domObserver.stop();var _=l&&(Nt.ie||Nt.chrome)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&(f=i.selection,m=e.selection,g=Math.min(f.$anchor.sharedDepth(f.head),m.$anchor.sharedDepth(m.head)),f.$anchor.start(g)!=m.$anchor.start(g));if(l){var C=Nt.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!r&&this.docView.update(e.doc,c,s,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Sn(e.doc,c,s,this.dom,this)),C&&!this.trackWrites&&(_=!0)}_||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(d=this,h=d.docView.domFromPos(d.state.selection.anchor,0),p=d.root.getSelection(),$t(h.node,h.offset,p.anchorNode,p.anchorOffset)))?Wn(this,_):(Gn(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(i),"reset"==u)this.dom.scrollTop=0;else if("to selection"==u){var S=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(e){return e(n)}))||(e.selection instanceof pt?Zt(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),S):Zt(this,this.coordsAtPos(e.selection.head,1),S))}else k&&(v=(x=k).refDOM,b=x.refTop,y=x.stack,w=v?v.getBoundingClientRect().top:0,en(y,0==w?0:w-b))},vr.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()},vr.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.destroyPluginViews();for(var i=0;i<this.state.plugins.length;i++){var r=this.state.plugins[i];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}},vr.prototype.someProp=function(e,t){var n,i=this._props&&this._props[e];if(null!=i&&(n=t?t(i):i))return n;var r=this.state.plugins;if(r)for(var o=0;o<r.length;o++){var a=r[o].props[e];if(null!=a&&(n=t?t(a):a))return n}},vr.prototype.hasFocus=function(){return this.root.activeElement==this.dom},vr.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(tn)return e.focus(tn);var t=Qt(e);e.focus(null==tn?{get preventScroll(){return tn={preventScroll:!0},!0}}:void 0),tn||(tn=!1,en(t,0))}(this.dom),Wn(this),this.domObserver.start()},br.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t;return e||document},vr.prototype.posAtCoords=function(e){return an(this,e)},vr.prototype.coordsAtPos=function(e,t){return void 0===t&&(t=1),un(this,e,t)},vr.prototype.domAtPos=function(e,t){return void 0===t&&(t=0),this.docView.domFromPos(e,t)},vr.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},vr.prototype.posAtDOM=function(e,t,n){void 0===n&&(n=-1);var i=this.docView.posFromDOM(e,t,n);if(null==i)throw new RangeError("DOM position not inside the editor");return i},vr.prototype.endOfTextblock=function(e,t){return xn(this,t||this.state,e)},vr.prototype.destroy=function(){this.docView&&(!function(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout),clearTimeout(e.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],xr(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},vr.prototype.dispatchEvent=function(e){return function(e,t){zi(e,t)||!Di[t.type]||!e.editable&&t.type in Ti||Di[t.type](e,t)}(this,e)},vr.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(vr.prototype,br);for(var Cr=["p",0],Sr=["blockquote",0],Er=["hr"],Or=["pre",["code",0]],Mr=["br"],Dr={doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM:function(){return Cr}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function(){return Sr}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return Er}},heading:{attrs:{level:{default:1}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM:function(e){return["h"+e.attrs.level,0]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return Or}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")}}}],toDOM:function(e){var t=e.attrs;return["img",{src:t.src,alt:t.alt,title:t.title}]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return Mr}}},Tr=["em",0],Ar=["strong",0],Nr=["code",0],zr={link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM:function(e){var t=e.attrs;return["a",{href:t.href,title:t.title},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return Tr}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(e){return"normal"!=e.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(e){return/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}}],toDOM:function(){return Ar}},code:{parseDOM:[{tag:"code"}],toDOM:function(){return Nr}}},Rr=new se({nodes:Dr,marks:zr}),Ir={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},Br={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},Lr="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),Pr="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),qr="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),Fr="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),jr="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),$r=Lr&&(Fr||+Lr[1]<57)||qr&&Fr,Wr=0;Wr<10;Wr++)Ir[48+Wr]=Ir[96+Wr]=String(Wr);for(Wr=1;Wr<=24;Wr++)Ir[Wr+111]="F"+Wr;for(Wr=65;Wr<=90;Wr++)Ir[Wr]=String.fromCharCode(Wr+32),Br[Wr]=String.fromCharCode(Wr);for(var Ur in Ir)Br.hasOwnProperty(Ur)||(Br[Ur]=Ir[Ur]);var Vr="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function Hr(e){var t,n,i,r,o=e.split(/-(?!$)/),a=o[o.length-1];"Space"==a&&(a=" ");for(var s=0;s<o.length-1;s++){var c=o[s];if(/^(cmd|meta|m)$/i.test(c))r=!0;else if(/^a(lt)?$/i.test(c))t=!0;else if(/^(c|ctrl|control)$/i.test(c))n=!0;else if(/^s(hift)?$/i.test(c))i=!0;else{if(!/^mod$/i.test(c))throw new Error("Unrecognized modifier name: "+c);Vr?r=!0:n=!0}}return t&&(a="Alt-"+a),n&&(a="Ctrl-"+a),r&&(a="Meta-"+a),i&&(a="Shift-"+a),a}function Yr(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function Gr(e){return new Mt({props:{handleKeyDown:Kr(e)}})}function Kr(e){var t=function(e){var t=Object.create(null);for(var n in e)t[Hr(n)]=e[n];return t}(e);return function(e,n){var i,r=function(e){var t=!($r&&(e.ctrlKey||e.altKey||e.metaKey)||(Pr||jr)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?Br:Ir)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}(n),o=1==r.length&&" "!=r,a=t[Yr(r,n,!o)];if(a&&a(e.state,e.dispatch,e))return!0;if(o&&(n.shiftKey||n.altKey||n.metaKey||r.charCodeAt(0)>127)&&(i=Ir[n.keyCode])&&i!=r){var s=t[Yr(i,n,!0)];if(s&&s(e.state,e.dispatch,e))return!0}else if(o&&n.shiftKey){var c=t[Yr(r,n,!0)];if(c&&c(e.state,e.dispatch,e))return!0}return!1}}var Xr=function(){};Xr.prototype.append=function(e){return e.length?(e=Xr.from(e),!this.length&&e||e.length<200&&this.leafAppend(e)||this.length<200&&e.leafPrepend(this)||this.appendInner(e)):this},Xr.prototype.prepend=function(e){return e.length?Xr.from(e).append(this):this},Xr.prototype.appendInner=function(e){return new Zr(this,e)},Xr.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?Xr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},Xr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},Xr.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},Xr.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var i=[];return this.forEach((function(t,n){return i.push(e(t,n))}),t,n),i},Xr.from=function(e){return e instanceof Xr?e:e&&e.length?new Jr(e):Xr.empty};var Jr=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,i){for(var r=t;r<n;r++)if(!1===e(this.values[r],i+r))return!1},t.prototype.forEachInvertedInner=function(e,t,n,i){for(var r=t-1;r>=n;r--)if(!1===e(this.values[r],i+r))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=200)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=200)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(Xr);Xr.empty=new Jr([]);var Zr=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,i){var r=this.left.length;return!(t<r&&!1===this.left.forEachInner(e,t,Math.min(n,r),i))&&(!(n>r&&!1===this.right.forEachInner(e,Math.max(t-r,0),Math.min(this.length,n)-r,i+r))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,i){var r=this.left.length;return!(t>r&&!1===this.right.forEachInvertedInner(e,t-r,Math.max(n,r)-r,i+r))&&(!(n<r&&!1===this.left.forEachInvertedInner(e,Math.min(t,r),n,i))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(Xr),Qr=Xr,eo=function(e,t){this.items=e,this.eventCount=t};eo.prototype.popEvent=function(e,t){var n=this;if(0==this.eventCount)return null;for(var i,r,o=this.items.length;;o--){if(this.items.get(o-1).selection){--o;break}}t&&(i=this.remapping(o,this.items.length),r=i.maps.length);var a,s,c=e.tr,u=[],l=[];return this.items.forEach((function(e,t){if(!e.step)return i||(i=n.remapping(o,t+1),r=i.maps.length),r--,void l.push(e);if(i){l.push(new to(e.map));var d,h=e.step.map(i.slice(r));h&&c.maybeStep(h).doc&&(d=c.mapping.maps[c.mapping.maps.length-1],u.push(new to(d,null,null,u.length+l.length))),r--,d&&i.appendMap(d,r)}else c.maybeStep(e.step);return e.selection?(a=i?e.selection.map(i.slice(r)):e.selection,s=new eo(n.items.slice(0,o).append(l.reverse().concat(u)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:s,transform:c,selection:a}},eo.prototype.addTransform=function(e,t,n,i){for(var r=[],o=this.eventCount,a=this.items,s=!i&&a.length?a.get(a.length-1):null,c=0;c<e.steps.length;c++){var u,l=e.steps[c].invert(e.docs[c]),d=new to(e.mapping.maps[c],l,t);(u=s&&s.merge(d))&&(d=u,c?r.pop():a=a.slice(0,a.length-1)),r.push(d),t&&(o++,t=null),i||(s=d)}var h,p,f,m=o-n.depth;return m>io&&(p=m,(h=a).forEach((function(e,t){if(e.selection&&0==p--)return f=t,!1})),a=h.slice(f),o-=m),new eo(a.append(r),o)},eo.prototype.remapping=function(e,t){var n=new Oe;return this.items.forEach((function(t,i){var r=null!=t.mirrorOffset&&i-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:null;n.appendMap(t.map,r)}),e,t),n},eo.prototype.addMaps=function(e){return 0==this.eventCount?this:new eo(this.items.append(e.map((function(e){return new to(e)}))),this.eventCount)},eo.prototype.rebased=function(e,t){if(!this.eventCount)return this;var n=[],i=Math.max(0,this.items.length-t),r=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach((function(e){e.selection&&a--}),i);var s=t;this.items.forEach((function(t){var i=r.getMirror(--s);if(null!=i){o=Math.min(o,i);var c=r.maps[i];if(t.step){var u=e.steps[i].invert(e.docs[i]),l=t.selection&&t.selection.map(r.slice(s+1,i));l&&a++,n.push(new to(c,u,l))}else n.push(new to(c))}}),i);for(var c=[],u=t;u<o;u++)c.push(new to(r.maps[u]));var l=this.items.slice(0,i).append(c).append(n),d=new eo(l,a);return d.emptyItemCount()>500&&(d=d.compress(this.items.length-n.length)),d},eo.prototype.emptyItemCount=function(){var e=0;return this.items.forEach((function(t){t.step||e++})),e},eo.prototype.compress=function(e){void 0===e&&(e=this.items.length);var t=this.remapping(0,e),n=t.maps.length,i=[],r=0;return this.items.forEach((function(o,a){if(a>=e)i.push(o),o.selection&&r++;else if(o.step){var s=o.step.map(t.slice(n)),c=s&&s.getMap();if(n--,c&&t.appendMap(c,n),s){var u=o.selection&&o.selection.map(t.slice(n));u&&r++;var l,d=new to(c.invert(),s,u),h=i.length-1;(l=i.length&&i[h].merge(d))?i[h]=l:i.push(d)}}else o.map&&n--}),this.items.length,0),new eo(Qr.from(i.reverse()),r)},eo.empty=new eo(Qr.empty,0);var to=function(e,t,n,i){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=i};to.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var t=e.step.merge(this.step);if(t)return new to(t.getMap().invert(),t,this.selection)}};var no=function(e,t,n,i){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=i},io=20;function ro(e){var t=[];return e.forEach((function(e,n,i,r){return t.push(i,r)})),t}function oo(e,t){if(!e)return null;for(var n=[],i=0;i<e.length;i+=2){var r=t.map(e[i],1),o=t.map(e[i+1],-1);r<=o&&n.push(r,o)}return n}function ao(e,t,n,i){var r=uo(t),o=lo.get(t).spec.config,a=(i?e.undone:e.done).popEvent(t,r);if(a){var s=a.selection.resolve(a.transform.doc),c=(i?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),o,r),u=new no(i?c:a.remaining,i?a.remaining:c,null,0);n(a.transform.setSelection(s).setMeta(lo,{redo:i,historyState:u}).scrollIntoView())}}var so=!1,co=null;function uo(e){var t=e.plugins;if(co!=t){so=!1,co=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){so=!0;break}}return so}var lo=new At("history"),ho=new At("closeHistory");function po(e){return e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500},new Mt({key:lo,state:{init:function(){return new no(eo.empty,eo.empty,null,0)},apply:function(t,n,i){return function(e,t,n,i){var r,o=n.getMeta(lo);if(o)return o.historyState;n.getMeta(ho)&&(e=new no(e.done,e.undone,null,0));var a=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(a&&a.getMeta(lo))return a.getMeta(lo).redo?new no(e.done.addTransform(n,null,i,uo(t)),e.undone,ro(n.mapping.maps[n.steps.length-1]),e.prevTime):new no(e.done,e.undone.addTransform(n,null,i,uo(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(r=n.getMeta("rebased"))?new no(e.done.rebased(n,r),e.undone.rebased(n,r),oo(e.prevRanges,n.mapping),e.prevTime):new no(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),oo(e.prevRanges,n.mapping),e.prevTime);var s=0==e.prevTime||!a&&(e.prevTime<(n.time||0)-i.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach((function(e,i){for(var r=0;r<t.length;r+=2)e<=t[r+1]&&i>=t[r]&&(n=!0)})),n}(n,e.prevRanges)),c=a?oo(e.prevRanges,n.mapping):ro(n.mapping.maps[n.steps.length-1]);return new no(e.done.addTransform(n,s?t.selection.getBookmark():null,i,uo(t)),eo.empty,c,n.time)}(n,i,t,e)}},config:e})}function fo(e,t){var n=lo.getState(e);return!(!n||0==n.done.eventCount)&&(t&&ao(n,e,t,!1),!0)}function mo(e,t){var n=lo.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&ao(n,e,t,!0),!0)}function go(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function xo(e,t,n){var i=e.selection.$cursor;if(!i||(n?!n.endOfTextblock("backward",e):i.parentOffset>0))return!1;var r=yo(i);if(!r){var o=i.blockRange(),a=o&&qe(o);return null!=a&&(t&&t(e.tr.lift(o,a).scrollIntoView()),!0)}var s=r.nodeBefore;if(!s.type.spec.isolating&&Mo(e,r,t))return!0;if(0==i.parent.content.size&&(vo(s,"end")||pt.isSelectable(s))){if(t){var c=e.tr.deleteRange(i.before(),i.after());c.setSelection(vo(s,"end")?ct.findFrom(c.doc.resolve(c.mapping.map(r.pos,-1)),-1):pt.create(c.doc,r.pos-s.nodeSize)),t(c.scrollIntoView())}return!0}return!(!s.isAtom||r.depth!=i.depth-1)&&(t&&t(e.tr.delete(r.pos-s.nodeSize,r.pos).scrollIntoView()),!0)}function vo(e,t){for(;e;e="start"==t?e.firstChild:e.lastChild)if(e.isTextblock)return!0;return!1}function bo(e,t,n){var i=e.selection,r=i.$head,o=r;if(!i.empty)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;o=yo(r)}var a=o&&o.nodeBefore;return!(!a||!pt.isSelectable(a))&&(t&&t(e.tr.setSelection(pt.create(e.doc,o.pos-a.nodeSize)).scrollIntoView()),!0)}function yo(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function wo(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function ko(e,t){var n,i=e.selection,r=i instanceof pt;if(r){if(i.node.isTextblock||!We(e.doc,i.from))return!1;n=i.from}else if(null==(n=Ve(e.doc,i.from,-1)))return!1;if(t){var o=e.tr.join(n);r&&o.setSelection(pt.create(o.doc,n-e.doc.resolve(n).nodeBefore.nodeSize)),t(o.scrollIntoView())}return!0}function _o(e,t){var n,i=e.selection;if(i instanceof pt){if(i.node.isTextblock||!We(e.doc,i.to))return!1;n=i.to}else if(null==(n=Ve(e.doc,i.to,1)))return!1;return t&&t(e.tr.join(n).scrollIntoView()),!0}function Co(e,t){var n=e.selection,i=n.$from,r=n.$to,o=i.blockRange(r),a=o&&qe(o);return null!=a&&(t&&t(e.tr.lift(o,a).scrollIntoView()),!0)}function So(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Eo(e,t){var n=e.selection,i=n.$head,r=n.$anchor;if(!i.parent.type.spec.code||!i.sameParent(r))return!1;var o=i.node(-1),a=i.indexAfter(-1),s=So(o.contentMatchAt(a));if(!o.canReplaceWith(a,a,s))return!1;if(t){var c=i.after(),u=e.tr.replaceWith(c,c,s.createAndFill());u.setSelection(ct.near(u.doc.resolve(c),1)),t(u.scrollIntoView())}return!0}function Oo(e,t){var n,i=e.selection,r=i.$from,o=i.to,a=r.sharedDepth(o);return 0!=a&&(n=r.before(a),t&&t(e.tr.setSelection(pt.create(e.doc,n))),!0)}function Mo(e,t,n){var i,r,o=t.nodeBefore,a=t.nodeAfter;if(o.type.spec.isolating||a.type.spec.isolating)return!1;if(function(e,t,n){var i=t.nodeBefore,r=t.nodeAfter,o=t.index();return!(!(i&&r&&i.type.compatibleContent(r.type))||(!i.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-i.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(o,o+1)||!r.isTextblock&&!We(e.doc,t.pos)||(n&&n(e.tr.clearIncompatible(t.pos,i.type,i.contentMatchAt(i.childCount)).join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;var s=t.parent.canReplace(t.index(),t.index()+1);if(s&&(i=(r=o.contentMatchAt(o.childCount)).findWrapping(a.type))&&r.matchType(i[0]||a.type).validEnd){if(n){for(var c=t.pos+a.nodeSize,u=l.empty,d=i.length-1;d>=0;d--)u=l.from(i[d].create(null,u));u=l.from(o.copy(u));var h=e.tr.step(new Be(t.pos-1,c,t.pos,c,new x(u,1,0),i.length,!0)),p=c+2*i.length;We(h.doc,p)&&h.join(p),n(h.scrollIntoView())}return!0}var f=ct.findFrom(t,1),m=f&&f.$from.blockRange(f.$to),g=m&&qe(m);if(null!=g&&g>=t.depth)return n&&n(e.tr.lift(m,g).scrollIntoView()),!0;if(s&&a.isTextblock&&vo(o,"end")){for(var v=o,b=[];b.push(v),!v.isTextblock;)v=v.lastChild;if(v.canReplace(v.childCount,v.childCount,a.content)){if(n){for(var y=l.empty,w=b.length-1;w>=0;w--)y=l.from(b[w].copy(y));n(e.tr.step(new Be(t.pos-b.length,t.pos+a.nodeSize,t.pos+1,t.pos+a.nodeSize-1,new x(y,b.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function Do(e,t){return function(n,i){var r=n.selection,o=r.$from,a=r.$to,s=o.blockRange(a),c=s&&Fe(s,e,t);return!!c&&(i&&i(n.tr.wrap(s,c).scrollIntoView()),!0)}}function To(e,t){return function(n,i){var r=n.selection,o=r.from,a=r.to,s=!1;return n.doc.nodesBetween(o,a,(function(i,r){if(s)return!1;if(i.isTextblock&&!i.hasMarkup(e,t))if(i.type==e)s=!0;else{var o=n.doc.resolve(r),a=o.index();s=o.parent.canReplaceWith(a,a+1,e)}})),!!s&&(i&&i(n.tr.setBlockType(o,a,e,t).scrollIntoView()),!0)}}function Ao(e,t){return function(n,i){var r=n.selection,o=r.empty,a=r.$cursor,s=r.ranges;if(o&&!a||!function(e,t,n){for(var i=function(i){var r=t[i],o=r.$from,a=r.$to,s=0==o.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(o.pos,a.pos,(function(e){if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)})),s)return{v:!0}},r=0;r<t.length;r++){var o=i(r);if(o)return o.v}return!1}(n.doc,s,e))return!1;if(i)if(a)e.isInSet(n.storedMarks||a.marks())?i(n.tr.removeStoredMark(e)):i(n.tr.addStoredMark(e.create(t)));else{for(var c=!1,u=n.tr,l=0;!c&&l<s.length;l++){var d=s[l],h=d.$from,p=d.$to;c=n.doc.rangeHasMark(h.pos,p.pos,e)}for(var f=0;f<s.length;f++){var m=s[f],g=m.$from,x=m.$to;if(c)u.removeMark(g.pos,x.pos,e);else{var v=g.pos,b=x.pos,y=g.nodeAfter,w=x.nodeBefore,k=y&&y.isText?/^\s*/.exec(y.text)[0].length:0,_=w&&w.isText?/\s*$/.exec(w.text)[0].length:0;v+k<b&&(v+=k,b-=_),u.addMark(v,b,e.create(t))}}i(u.scrollIntoView())}return!0}}function No(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,n,i){for(var r=0;r<e.length;r++)if(e[r](t,n,i))return!0;return!1}}var zo=No(go,xo,bo),Ro=No(go,(function(e,t,n){var i=e.selection.$cursor;if(!i||(n?!n.endOfTextblock("forward",e):i.parentOffset<i.parent.content.size))return!1;var r=wo(i);if(!r)return!1;var o=r.nodeAfter;if(Mo(e,r,t))return!0;if(0==i.parent.content.size&&(vo(o,"start")||pt.isSelectable(o))){if(t){var a=e.tr.deleteRange(i.before(),i.after());a.setSelection(vo(o,"start")?ct.findFrom(a.doc.resolve(a.mapping.map(r.pos)),1):pt.create(a.doc,a.mapping.map(r.pos))),t(a.scrollIntoView())}return!0}return!(!o.isAtom||r.depth!=i.depth-1)&&(t&&t(e.tr.delete(r.pos,r.pos+o.nodeSize).scrollIntoView()),!0)}),(function(e,t,n){var i=e.selection,r=i.$head,o=r;if(!i.empty)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;o=wo(r)}var a=o&&o.nodeAfter;return!(!a||!pt.isSelectable(a))&&(t&&t(e.tr.setSelection(pt.create(e.doc,o.pos)).scrollIntoView()),!0)})),Io={Enter:No((function(e,t){var n=e.selection,i=n.$head,r=n.$anchor;return!(!i.parent.type.spec.code||!i.sameParent(r))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)}),(function(e,t){var n=e.selection,i=n.$from,r=n.$to;if(n instanceof mt||i.parent.inlineContent||r.parent.inlineContent)return!1;var o=So(r.parent.contentMatchAt(r.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){var a=(!i.parentOffset&&r.index()<r.parent.childCount?i:r).pos,s=e.tr.insert(a,o.createAndFill());s.setSelection(dt.create(s.doc,a+1)),t(s.scrollIntoView())}return!0}),(function(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var i=n.before();if($e(e.doc,i))return t&&t(e.tr.split(i).scrollIntoView()),!0}var r=n.blockRange(),o=r&&qe(r);return null!=o&&(t&&t(e.tr.lift(r,o).scrollIntoView()),!0)}),(function(e,t){var n=e.selection,i=n.$from,r=n.$to;if(e.selection instanceof pt&&e.selection.node.isBlock)return!(!i.parentOffset||!$e(e.doc,i.pos))&&(t&&t(e.tr.split(i.pos).scrollIntoView()),!0);if(!i.parent.isBlock)return!1;if(t){var o=r.parentOffset==r.parent.content.size,a=e.tr;(e.selection instanceof dt||e.selection instanceof mt)&&a.deleteSelection();var s=0==i.depth?null:So(i.node(-1).contentMatchAt(i.indexAfter(-1))),c=o&&s?[{type:s}]:null,u=$e(a.doc,a.mapping.map(i.pos),1,c);c||u||!$e(a.doc,a.mapping.map(i.pos),1,s&&[{type:s}])||(c=[{type:s}],u=!0),u&&(a.split(a.mapping.map(i.pos),1,c),o||i.parentOffset||i.parent.type==s||!i.node(-1).canReplace(i.index(-1),i.indexAfter(-1),l.from([s.create(),i.parent]))||a.setNodeMarkup(a.mapping.map(i.before()),s)),t(a.scrollIntoView())}return!0})),"Mod-Enter":Eo,Backspace:zo,"Mod-Backspace":zo,Delete:Ro,"Mod-Delete":Ro,"Mod-a":function(e,t){return t&&t(e.tr.setSelection(new mt(e.doc))),!0}},Bo={"Ctrl-h":Io.Backspace,"Alt-Backspace":Io["Mod-Backspace"],"Ctrl-d":Io.Delete,"Ctrl-Alt-Backspace":Io["Mod-Delete"],"Alt-Delete":Io["Mod-Delete"],"Alt-d":Io["Mod-Delete"]};for(var Lo in Io)Bo[Lo]=Io[Lo];var Po=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?Bo:Io;function qo(e){return void 0===e&&(e={}),new Mt({view:function(t){return new Fo(t,e)}})}var Fo=function(e,t){var n=this;this.editorView=e,this.width=t.width||1,this.color=t.color||"black",this.class=t.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map((function(t){var i=function(e){return n[t](e)};return e.dom.addEventListener(t,i),{name:t,handler:i}}))};Fo.prototype.destroy=function(){var e=this;this.handlers.forEach((function(t){var n=t.name,i=t.handler;return e.editorView.dom.removeEventListener(n,i)}))},Fo.prototype.update=function(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&this.updateOverlay()},Fo.prototype.setCursor=function(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},Fo.prototype.updateOverlay=function(){var e,t=this.editorView.state.doc.resolve(this.cursorPos);if(!t.parent.inlineContent){var n=t.nodeBefore,i=t.nodeAfter;if(n||i){var r=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),o=n?r.bottom:r.top;n&&i&&(o=(o+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:r.left,right:r.right,top:o-this.width/2,bottom:o+this.width/2}}}if(!e){var a=this.editorView.coordsAtPos(this.cursorPos);e={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}var s,c,u=this.editorView.dom.offsetParent;if(this.element||(this.element=u.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!u||u==document.body&&"static"==getComputedStyle(u).position)s=-pageXOffset,c=-pageYOffset;else{var l=u.getBoundingClientRect();s=l.left-u.scrollLeft,c=l.top-u.scrollTop}this.element.style.left=e.left-s+"px",this.element.style.top=e.top-c+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"},Fo.prototype.scheduleRemoval=function(e){var t=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){return t.setCursor(null)}),e)},Fo.prototype.dragover=function(e){if(this.editorView.editable){var t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY});if(t){var n=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&null==(n=He(this.editorView.state.doc,n,this.editorView.dragging.slice)))return this.setCursor(null);this.setCursor(n),this.scheduleRemoval(5e3)}}},Fo.prototype.dragend=function(){this.scheduleRemoval(20)},Fo.prototype.drop=function(){this.scheduleRemoval(20)},Fo.prototype.dragleave=function(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)};var jo=function(e){function t(t){e.call(this,t,t)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,i){var r=n.resolve(i.map(this.head));return t.valid(r)?new t(r):e.near(r)},t.prototype.content=function(){return x.empty},t.prototype.eq=function(e){return e instanceof t&&e.head==this.head},t.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new t(e.resolve(n.pos))},t.prototype.getBookmark=function(){return new $o(this.anchor)},t.valid=function(e){var t=e.parent;if(t.isTextblock||!function(e){for(var t=e.depth;t>=0;t--){var n=e.index(t);if(0!=n)for(var i=e.node(t).child(n-1);;i=i.lastChild){if(0==i.childCount&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}(e)||!function(e){for(var t=e.depth;t>=0;t--){var n=e.indexAfter(t),i=e.node(t);if(n!=i.childCount)for(var r=i.child(n);;r=r.firstChild){if(0==r.childCount&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}(e))return!1;var n=t.type.spec.allowGapCursor;if(null!=n)return n;var i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock},t.findFrom=function(e,n,i){e:for(;;){if(!i&&t.valid(e))return e;for(var r=e.pos,o=null,a=e.depth;;a--){var s=e.node(a);if(n>0?e.indexAfter(a)<s.childCount:e.index(a)>0){o=s.child(n>0?e.indexAfter(a):e.index(a)-1);break}if(0==a)return null;r+=n;var c=e.doc.resolve(r);if(t.valid(c))return c}for(;;){var u=n>0?o.firstChild:o.lastChild;if(!u){if(o.isAtom&&!o.isText&&!pt.isSelectable(o)){e=e.doc.resolve(r+o.nodeSize*n),i=!1;continue e}break}o=u,r+=n;var l=e.doc.resolve(r);if(t.valid(l))return l}return null}},t}(ct);jo.prototype.visible=!1,ct.jsonID("gapcursor",jo);var $o=function(e){this.pos=e};$o.prototype.map=function(e){return new $o(e.map(this.pos))},$o.prototype.resolve=function(e){var t=e.resolve(this.pos);return jo.valid(t)?new jo(t):ct.near(t)};var Wo=Kr({ArrowLeft:Uo("horiz",-1),ArrowRight:Uo("horiz",1),ArrowUp:Uo("vert",-1),ArrowDown:Uo("vert",1)});function Uo(e,t){var n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,i,r){var o=e.selection,a=t>0?o.$to:o.$from,s=o.empty;if(o instanceof dt){if(!r.endOfTextblock(n)||0==a.depth)return!1;s=!1,a=e.doc.resolve(t>0?a.after():a.before())}var c=jo.findFrom(a,t,s);return!!c&&(i&&i(e.tr.setSelection(new jo(c))),!0)}}function Vo(e,t,n){if(!e.editable)return!1;var i=e.state.doc.resolve(t);if(!jo.valid(i))return!1;var r=e.posAtCoords({left:n.clientX,top:n.clientY}).inside;return!(r>-1&&pt.isSelectable(e.state.doc.nodeAt(r)))&&(e.dispatch(e.state.tr.setSelection(new jo(i))),!0)}function Ho(e){if(!(e.selection instanceof jo))return null;var t=document.createElement("div");return t.className="ProseMirror-gapcursor",sr.create(e.doc,[ir.widget(e.selection.head,t,{key:"gapcursor"})])}function Yo(){var e=arguments[0];"string"==typeof e&&(e=document.createElement(e));var t=1,n=arguments[1];if(n&&"object"==typeof n&&null==n.nodeType&&!Array.isArray(n)){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var r=n[i];"string"==typeof r?e.setAttribute(i,r):null!=r&&(e[i]=r)}t++}for(;t<arguments.length;t++)Go(e,arguments[t]);return e}function Go(e,t){if("string"==typeof t)e.appendChild(document.createTextNode(t));else if(null==t);else if(null!=t.nodeType)e.appendChild(t);else{if(!Array.isArray(t))throw new RangeError("Unsupported child node: "+t);for(var n=0;n<t.length;n++)Go(e,t[n])}}var Ko="http://www.w3.org/2000/svg",Xo="ProseMirror-icon";function Jo(e){var t=document.createElement("div");if(t.className=Xo,e.path){var n="pm-icon-"+function(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n)|0;return t}(e.path).toString(16);document.getElementById(n)||function(e,t){var n=document.getElementById(Xo+"-collection");n||((n=document.createElementNS(Ko,"svg")).id=Xo+"-collection",n.style.display="none",document.body.insertBefore(n,document.body.firstChild));var i=document.createElementNS(Ko,"symbol");i.id=e,i.setAttribute("viewBox","0 0 "+t.width+" "+t.height),i.appendChild(document.createElementNS(Ko,"path")).setAttribute("d",t.path),n.appendChild(i)}(n,e);var i=t.appendChild(document.createElementNS(Ko,"svg"));i.style.width=e.width/e.height+"em",i.appendChild(document.createElementNS(Ko,"use")).setAttributeNS("http://www.w3.org/1999/xlink","href",/([^#]*)/.exec(document.location)[1]+"#"+n)}else e.dom?t.appendChild(e.dom.cloneNode(!0)):(t.appendChild(document.createElement("span")).textContent=e.text||"",e.css&&(t.firstChild.style.cssText=e.css));return t}var Zo="ProseMirror-menu",Qo=function(e){this.spec=e};function ea(e,t){return e._props.translate?e._props.translate(t):t}Qo.prototype.render=function(e){var t=this.spec,n=t.render?t.render(e):t.icon?Jo(t.icon):t.label?Yo("div",null,ea(e,t.label)):null;if(!n)throw new RangeError("MenuItem without icon or label property");if(t.title){var i="function"==typeof t.title?t.title(e.state):t.title;n.setAttribute("title",ea(e,i))}return t.class&&n.classList.add(t.class),t.css&&(n.style.cssText+=t.css),n.addEventListener("mousedown",(function(i){i.preventDefault(),n.classList.contains(Zo+"-disabled")||t.run(e.state,e.dispatch,e,i)})),{dom:n,update:function(e){if(t.select){var i=t.select(e);if(n.style.display=i?"":"none",!i)return!1}var r=!0;if(t.enable&&(r=t.enable(e)||!1,ma(n,Zo+"-disabled",!r)),t.active){var o=r&&t.active(e)||!1;ma(n,Zo+"-active",o)}return!0}}};var ta={time:0,node:null};function na(e){ta.time=Date.now(),ta.node=e.target}function ia(e){return Date.now()-100<ta.time&&ta.node&&e.contains(ta.node)}var ra=function(e,t){this.options=t||{},this.content=Array.isArray(e)?e:[e]};function oa(e,t){for(var n=[],i=[],r=0;r<e.length;r++){var o=e[r].render(t),a=o.dom,s=o.update;n.push(Yo("div",{class:Zo+"-dropdown-item"},a)),i.push(s)}return{dom:n,update:aa(i,n)}}function aa(e,t){return function(n){for(var i=!1,r=0;r<e.length;r++){var o=e[r](n);t[r].style.display=o?"":"none",o&&(i=!0)}return i}}ra.prototype.render=function(e){var t=this,n=oa(this.content,e),i=Yo("div",{class:Zo+"-dropdown "+(this.options.class||""),style:this.options.css},ea(e,this.options.label));this.options.title&&i.setAttribute("title",ea(e,this.options.title));var r=Yo("div",{class:Zo+"-dropdown-wrap"},i),o=null,a=null,s=function(){o&&o.close()&&(o=null,window.removeEventListener("mousedown",a))};return i.addEventListener("mousedown",(function(e){e.preventDefault(),na(e),o?s():(o=t.expand(r,n.dom),window.addEventListener("mousedown",a=function(){ia(r)||s()}))})),{dom:r,update:function(e){var t=n.update(e);return r.style.display=t?"":"none",t}}},ra.prototype.expand=function(e,t){var n=Yo("div",{class:Zo+"-dropdown-menu "+(this.options.class||"")},t),i=!1;return e.appendChild(n),{close:function(){if(!i)return i=!0,e.removeChild(n),!0},node:n}};var sa=function(e,t){this.options=t||{},this.content=Array.isArray(e)?e:[e]};sa.prototype.render=function(e){var t=oa(this.content,e),n=Yo("div",{class:Zo+"-submenu-label"},ea(e,this.options.label)),i=Yo("div",{class:Zo+"-submenu-wrap"},n,Yo("div",{class:Zo+"-submenu"},t.dom)),r=null;return n.addEventListener("mousedown",(function(e){e.preventDefault(),na(e),ma(i,Zo+"-submenu-wrap-active"),r||window.addEventListener("mousedown",r=function(){ia(i)||(i.classList.remove(Zo+"-submenu-wrap-active"),window.removeEventListener("mousedown",r),r=null)})})),{dom:i,update:function(e){var n=t.update(e);return i.style.display=n?"":"none",n}}};var ca={join:{width:800,height:900,path:"M0 75h800v125h-800z M0 825h800v-125h-800z M250 400h100v-100h100v100h100v100h-100v100h-100v-100h-100z"},lift:{width:1024,height:1024,path:"M219 310v329q0 7-5 12t-12 5q-8 0-13-5l-164-164q-5-5-5-13t5-13l164-164q5-5 13-5 7 0 12 5t5 12zM1024 749v109q0 7-5 12t-12 5h-987q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h987q7 0 12 5t5 12zM1024 530v109q0 7-5 12t-12 5h-621q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h621q7 0 12 5t5 12zM1024 310v109q0 7-5 12t-12 5h-621q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h621q7 0 12 5t5 12zM1024 91v109q0 7-5 12t-12 5h-987q-7 0-12-5t-5-12v-109q0-7 5-12t12-5h987q7 0 12 5t5 12z"},selectParentNode:{text:"",css:"font-weight: bold"},undo:{width:1024,height:1024,path:"M761 1024c113-206 132-520-313-509v253l-384-384 384-384v248c534-13 594 472 313 775z"},redo:{width:1024,height:1024,path:"M576 248v-248l384 384-384 384v-253c-446-10-427 303-313 509-280-303-221-789 313-775z"},strong:{width:805,height:1024,path:"M317 869q42 18 80 18 214 0 214-191 0-65-23-102-15-25-35-42t-38-26-46-14-48-6-54-1q-41 0-57 5 0 30-0 90t-0 90q0 4-0 38t-0 55 2 47 6 38zM309 442q24 4 62 4 46 0 81-7t62-25 42-51 14-81q0-40-16-70t-45-46-61-24-70-8q-28 0-74 7 0 28 2 86t2 86q0 15-0 45t-0 45q0 26 0 39zM0 950l1-53q8-2 48-9t60-15q4-6 7-15t4-19 3-18 1-21 0-19v-37q0-561-12-585-2-4-12-8t-25-6-28-4-27-2-17-1l-2-47q56-1 194-6t213-5q13 0 39 0t38 0q40 0 78 7t73 24 61 40 42 59 16 78q0 29-9 54t-22 41-36 32-41 25-48 22q88 20 146 76t58 141q0 57-20 102t-53 74-78 48-93 27-100 8q-25 0-75-1t-75-1q-60 0-175 6t-132 6z"},em:{width:585,height:1024,path:"M0 949l9-48q3-1 46-12t63-21q16-20 23-57 0-4 35-165t65-310 29-169v-14q-13-7-31-10t-39-4-33-3l10-58q18 1 68 3t85 4 68 1q27 0 56-1t69-4 56-3q-2 22-10 50-17 5-58 16t-62 19q-4 10-8 24t-5 22-4 26-3 24q-15 84-50 239t-44 203q-1 5-7 33t-11 51-9 47-3 32l0 10q9 2 105 17-1 25-9 56-6 0-18 0t-18 0q-16 0-49-5t-49-5q-78-1-117-1-29 0-81 5t-69 6z"},code:{width:896,height:1024,path:"M608 192l-96 96 224 224-224 224 96 96 288-320-288-320zM288 192l-288 320 288 320 96-96-224-224 224-224-96-96z"},link:{width:951,height:1024,path:"M832 694q0-22-16-38l-118-118q-16-16-38-16-24 0-41 18 1 1 10 10t12 12 8 10 7 14 2 15q0 22-16 38t-38 16q-8 0-15-2t-14-7-10-8-12-12-10-10q-18 17-18 41 0 22 16 38l117 118q15 15 38 15 22 0 38-14l84-83q16-16 16-38zM430 292q0-22-16-38l-117-118q-16-16-38-16-22 0-38 15l-84 83q-16 16-16 38 0 22 16 38l118 118q15 15 38 15 24 0 41-17-1-1-10-10t-12-12-8-10-7-14-2-15q0-22 16-38t38-16q8 0 15 2t14 7 10 8 12 12 10 10q18-17 18-41zM941 694q0 68-48 116l-84 83q-47 47-116 47-69 0-116-48l-117-118q-47-47-47-116 0-70 50-119l-50-50q-49 50-118 50-68 0-116-48l-118-118q-48-48-48-116t48-116l84-83q47-47 116-47 69 0 116 48l117 118q47 47 47 116 0 70-50 119l50 50q49-50 118-50 68 0 116 48l118 118q48 48 48 116z"},bulletList:{width:768,height:896,path:"M0 512h128v-128h-128v128zM0 256h128v-128h-128v128zM0 768h128v-128h-128v128zM256 512h512v-128h-512v128zM256 256h512v-128h-512v128zM256 768h512v-128h-512v128z"},orderedList:{width:768,height:896,path:"M320 512h448v-128h-448v128zM320 768h448v-128h-448v128zM320 128v128h448v-128h-448zM79 384h78v-256h-36l-85 23v50l43-2v185zM189 590c0-36-12-78-96-78-33 0-64 6-83 16l1 66c21-10 42-15 67-15s32 11 32 28c0 26-30 58-110 112v50h192v-67l-91 2c49-30 87-66 87-113l1-1z"},blockquote:{width:640,height:896,path:"M0 448v256h256v-256h-128c0 0 0-128 128-128v-128c0 0-256 0-256 256zM640 320v-128c0 0-256 0-256 256v256h256v-256h-128c0 0 0-128 128-128z"}},ua=new Qo({title:"Join with above block",run:ko,select:function(e){return ko(e)},icon:ca.join}),la=new Qo({title:"Lift out of enclosing block",run:Co,select:function(e){return Co(e)},icon:ca.lift}),da=new Qo({title:"Select parent node",run:Oo,select:function(e){return Oo(e)},icon:ca.selectParentNode}),ha=new Qo({title:"Undo last change",run:fo,enable:function(e){return fo(e)},icon:ca.undo}),pa=new Qo({title:"Redo last undone change",run:mo,enable:function(e){return mo(e)},icon:ca.redo});function fa(e,t){var n=To(e,t.attrs),i={run:n,enable:function(e){return n(e)},active:function(n){var i=n.selection,r=i.$from,o=i.to,a=i.node;return a?a.hasMarkup(e,t.attrs):o<=r.end()&&r.parent.hasMarkup(e,t.attrs)}};for(var r in t)i[r]=t[r];return new Qo(i)}function ma(e,t,n){n?e.classList.add(t):e.classList.remove(t)}var ga="ProseMirror-menubar";var xa=function(e,t){var n=this;this.editorView=e,this.options=t,this.wrapper=Yo("div",{class:ga+"-wrapper"}),this.menu=this.wrapper.appendChild(Yo("div",{class:ga})),this.menu.className=ga,this.spacer=null,e.dom.parentNode.replaceChild(this.wrapper,e.dom),this.wrapper.appendChild(e.dom),this.maxHeight=0,this.widthForMaxHeight=0,this.floating=!1;var i=function(e,t){for(var n=document.createDocumentFragment(),i=[],r=[],o=0;o<t.length;o++){for(var a=t[o],s=[],c=[],u=0;u<a.length;u++){var l=a[u].render(e),d=l.dom,h=l.update,p=Yo("span",{class:Zo+"item"},d);n.appendChild(p),c.push(p),s.push(h)}s.length&&(i.push(aa(s,c)),o<t.length-1&&r.push(n.appendChild(Yo("span",{class:Zo+"separator"}))))}return{dom:n,update:function(e){for(var t=!1,n=!1,o=0;o<i.length;o++){var a=i[o](e);o&&(r[o-1].style.display=n&&a?"":"none"),n=a,a&&(t=!0)}return t}}}(this.editorView,this.options.content),r=i.dom,o=i.update;if(this.contentUpdate=o,this.menu.appendChild(r),this.update(),t.floating&&!function(){if("undefined"==typeof navigator)return!1;var e=navigator.userAgent;return!/Edge\/\d/.test(e)&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e)}()){this.updateFloat();var a=function(e){for(var t=[window],n=e.parentNode;n;n=n.parentNode)t.push(n);return t}(this.wrapper);this.scrollFunc=function(e){var t=n.editorView.root;(t.body||t).contains(n.wrapper)?n.updateFloat(e.target.getBoundingClientRect&&e.target):a.forEach((function(e){return e.removeEventListener("scroll",n.scrollFunc)}))},a.forEach((function(e){return e.addEventListener("scroll",n.scrollFunc)}))}};function va(e,t){return function(n,i){var r=n.selection,o=r.$from,a=r.$to,s=o.blockRange(a),c=!1,u=s;if(!s)return!1;if(s.depth>=2&&o.node(s.depth-1).type.compatibleContent(e)&&0==s.startIndex){if(0==o.index(s.depth-1))return!1;var d=n.doc.resolve(s.start-2);u=new I(d,d,s.depth),s.endIndex<s.parent.childCount&&(s=new I(o,n.doc.resolve(a.end(s.depth)),s.depth)),c=!0}var h=Fe(u,e,t,s);return!!h&&(i&&i(function(e,t,n,i,r){for(var o=l.empty,a=n.length-1;a>=0;a--)o=l.from(n[a].type.create(n[a].attrs,o));e.step(new Be(t.start-(i?2:0),t.end,t.start,t.end,new x(o,0,0),n.length,!0));for(var s=0,c=0;c<n.length;c++)n[c].type==r&&(s=c+1);for(var u=n.length-s,d=t.start+n.length-(i?2:0),h=t.parent,p=t.startIndex,f=t.endIndex,m=!0;p<f;p++,m=!1)!m&&$e(e.doc,d,u)&&(e.split(d,u),d+=2*u),d+=h.child(p).nodeSize;return e}(n.tr,s,h,c,e).scrollIntoView()),!0)}}function ba(e){return function(t,n){var i=t.selection,r=i.$from,o=i.$to,a=r.blockRange(o,(function(t){return t.childCount&&t.firstChild.type==e}));return!!a&&(!n||(r.node(a.depth-1).type==e?function(e,t,n,i){var r=e.tr,o=i.end,a=i.$to.end(i.depth);o<a&&(r.step(new Be(o-1,a,o,a,new x(l.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new I(r.doc.resolve(i.$from.pos),r.doc.resolve(a),i.depth));return t(r.lift(i,qe(i)).scrollIntoView()),!0}(t,n,e,a):function(e,t,n){for(var i=e.tr,r=n.parent,o=n.end,a=n.endIndex-1,s=n.startIndex;a>s;a--)o-=r.child(a).nodeSize,i.delete(o-1,o+1);var c=i.doc.resolve(n.start),u=c.nodeAfter,d=0==n.startIndex,h=n.endIndex==r.childCount,p=c.node(-1),f=c.index(-1);if(!p.canReplace(f+(d?0:1),f+1,u.content.append(h?l.empty:l.from(r))))return!1;var m=c.pos,g=m+u.nodeSize;return i.step(new Be(m-(d?1:0),g+(h?1:0),m+1,g-1,new x((d?l.empty:l.from(r.copy(l.empty))).append(h?l.empty:l.from(r.copy(l.empty))),d?0:1,h?0:1),d?0:1)),t(i.scrollIntoView()),!0}(t,n,a)))}}xa.prototype.update=function(){this.contentUpdate(this.editorView.state),this.floating?this.updateScrollCursor():(this.menu.offsetWidth!=this.widthForMaxHeight&&(this.widthForMaxHeight=this.menu.offsetWidth,this.maxHeight=0),this.menu.offsetHeight>this.maxHeight&&(this.maxHeight=this.menu.offsetHeight,this.menu.style.minHeight=this.maxHeight+"px"))},xa.prototype.updateScrollCursor=function(){var e=this.editorView.root.getSelection();if(e.focusNode){var t=e.getRangeAt(0).getClientRects(),n=t[function(e){if(e.anchorNode==e.focusNode)return e.anchorOffset>e.focusOffset;return e.anchorNode.compareDocumentPosition(e.focusNode)==Node.DOCUMENT_POSITION_FOLLOWING}(e)?0:t.length-1];if(n){var i=this.menu.getBoundingClientRect();if(n.top<i.bottom&&n.bottom>i.top){var r=function(e){for(var t=e.parentNode;t;t=t.parentNode)if(t.scrollHeight>t.clientHeight)return t}(this.wrapper);r&&(r.scrollTop-=i.bottom-n.top)}}}},xa.prototype.updateFloat=function(e){var t=this.wrapper,n=t.getBoundingClientRect(),i=e?Math.max(0,e.getBoundingClientRect().top):0;if(this.floating)if(n.top>=i||n.bottom<this.menu.offsetHeight+10)this.floating=!1,this.menu.style.position=this.menu.style.left=this.menu.style.top=this.menu.style.width="",this.menu.style.display="",this.spacer.parentNode.removeChild(this.spacer),this.spacer=null;else{var r=(t.offsetWidth-t.clientWidth)/2;this.menu.style.left=n.left+r+"px",this.menu.style.display=n.top>window.innerHeight?"none":"",e&&(this.menu.style.top=i+"px")}else if(n.top<i&&n.bottom>=this.menu.offsetHeight+10){this.floating=!0;var o=this.menu.getBoundingClientRect();this.menu.style.left=o.left+"px",this.menu.style.width=o.width+"px",e&&(this.menu.style.top=i+"px"),this.menu.style.position="fixed",this.spacer=Yo("div",{class:ga+"-spacer",style:"height: "+o.height+"px"}),t.insertBefore(this.spacer,this.menu)}},xa.prototype.destroy=function(){this.wrapper.parentNode&&this.wrapper.parentNode.replaceChild(this.editorView.dom,this.wrapper)};var ya=function(e,t){var n;this.match=e,this.handler="string"==typeof t?(n=t,function(e,t,i,r){var o=n;if(t[1]){var a=t[0].lastIndexOf(t[1]);o+=t[0].slice(a+t[1].length);var s=(i+=a)-r;s>0&&(o=t[0].slice(a-s,a)+o,i=r)}return e.tr.insertText(o,i,r)}):t};function wa(e,t,n,i,r,o){if(e.composing)return!1;var a=e.state,s=a.doc.resolve(t);if(s.parent.type.spec.code)return!1;for(var c=s.parent.textBetween(Math.max(0,s.parentOffset-500),s.parentOffset,null,"")+i,u=0;u<r.length;u++){var l=r[u].match.exec(c),d=l&&r[u].handler(a,l,t-(l[0].length-i.length),n);if(d)return e.dispatch(d.setMeta(o,{transform:d,from:t,to:n,text:i})),!0}return!1}function ka(e,t){for(var n=e.plugins,i=0;i<n.length;i++){var r=n[i],o=void 0;if(r.spec.isInputRules&&(o=r.getState(e))){if(t){for(var a=e.tr,s=o.transform,c=s.steps.length-1;c>=0;c--)a.step(s.steps[c].invert(s.docs[c]));if(o.text){var u=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,e.schema.text(o.text,u))}else a.delete(o.from,o.to);t(a)}return!0}}return!1}var _a=new ya(/--$/,""),Ca=new ya(/\.\.\.$/,""),Sa=[new ya(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,""),new ya(/"$/,""),new ya(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,""),new ya(/'$/,"")];function Ea(e,t,n,i){return new ya(e,(function(e,r,o,a){var s=n instanceof Function?n(r):n,c=e.tr.delete(o,a),u=c.doc.resolve(o).blockRange(),l=u&&Fe(u,t,s);if(!l)return null;c.wrap(u,l);var d=c.doc.resolve(o-1).nodeBefore;return d&&d.type==t&&We(c.doc,o-1)&&(!i||i(r,d))&&c.join(o-1),c}))}function Oa(e,t,n){return new ya(e,(function(e,i,r,o){var a=e.doc.resolve(r),s=n instanceof Function?n(i):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t)?e.tr.delete(r,o).setBlockType(r,r,t,s):null}))}var Ma="ProseMirror-prompt";function Da(e){var t=document.body.appendChild(document.createElement("div"));t.className=Ma;var n=function(e){t.contains(e.target)||i()};setTimeout((function(){return window.addEventListener("mousedown",n)}),50);var i=function(){window.removeEventListener("mousedown",n),t.parentNode&&t.parentNode.removeChild(t)},r=[];for(var o in e.fields)r.push(e.fields[o].render());var a=document.createElement("button");a.type="submit",a.className=Ma+"-submit",a.textContent="OK";var s=document.createElement("button");s.type="button",s.className=Ma+"-cancel",s.textContent="Cancel",s.addEventListener("click",i);var c=t.appendChild(document.createElement("form"));e.title&&(c.appendChild(document.createElement("h5")).textContent=e.title),r.forEach((function(e){c.appendChild(document.createElement("div")).appendChild(e)}));var u=c.appendChild(document.createElement("div"));u.className=Ma+"-buttons",u.appendChild(a),u.appendChild(document.createTextNode(" ")),u.appendChild(s);var l=t.getBoundingClientRect();t.style.top=(window.innerHeight-l.height)/2+"px",t.style.left=(window.innerWidth-l.width)/2+"px";var d=function(){var t=function(e,t){var n=Object.create(null),i=0;for(var r in e){var o=e[r],a=t[i++],s=o.read(a),c=o.validate(s);if(c)return Ta(a,c),null;n[r]=o.clean(s)}return n}(e.fields,r);t&&(i(),e.callback(t))};c.addEventListener("submit",(function(e){e.preventDefault(),d()})),c.addEventListener("keydown",(function(e){27==e.keyCode?(e.preventDefault(),i()):13!=e.keyCode||e.ctrlKey||e.metaKey||e.shiftKey?9==e.keyCode&&window.setTimeout((function(){t.contains(document.activeElement)||i()}),500):(e.preventDefault(),d())}));var h=c.elements[0];h&&h.focus()}function Ta(e,t){var n=e.parentNode,i=n.appendChild(document.createElement("div"));i.style.left=e.offsetLeft+e.offsetWidth+2+"px",i.style.top=e.offsetTop-5+"px",i.className="ProseMirror-invalid",i.textContent=t,setTimeout((function(){return n.removeChild(i)}),1500)}var Aa=function(e){this.options=e};Aa.prototype.read=function(e){return e.value},Aa.prototype.validateType=function(e){},Aa.prototype.validate=function(e){return!e&&this.options.required?"Required field":this.validateType(e)||this.options.validate&&this.options.validate(e)},Aa.prototype.clean=function(e){return this.options.clean?this.options.clean(e):e};var Na=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){var e=document.createElement("input");return e.type="text",e.placeholder=this.options.label,e.value=this.options.value||"",e.autocomplete="off",e},t}(Aa);function za(e,t){for(var n=e.selection.$from,i=n.depth;i>=0;i--){var r=n.index(i);if(n.node(i).canReplaceWith(r,r,t))return!0}return!1}function Ra(e,t){var n={label:t.title,run:e};for(var i in t)n[i]=t[i];return t.enable&&!0!==t.enable||t.select||(n[t.enable?"enable":"select"]=function(t){return e(t)}),new Qo(n)}function Ia(e,t){var n=e.selection,i=n.from,r=n.$from,o=n.to;return n.empty?t.isInSet(e.storedMarks||r.marks()):e.doc.rangeHasMark(i,o,t)}function Ba(e,t){var n={active:function(t){return Ia(t,e)},enable:!0};for(var i in t)n[i]=t[i];return Ra(Ao(e),n)}function La(e,t){return Ra(va(e,t.attrs),t)}function Pa(e){var t,n,i,r={};if((t=e.marks.strong)&&(r.toggleStrong=Ba(t,{title:"Toggle strong style",icon:ca.strong})),(t=e.marks.em)&&(r.toggleEm=Ba(t,{title:"Toggle emphasis",icon:ca.em})),(t=e.marks.code)&&(r.toggleCode=Ba(t,{title:"Toggle code font",icon:ca.code})),(t=e.marks.link)&&(r.toggleLink=(n=t,new Qo({title:"Add or remove link",icon:ca.link,active:function(e){return Ia(e,n)},enable:function(e){return!e.selection.empty},run:function(e,t,i){if(Ia(e,n))return Ao(n)(e,t),!0;Da({title:"Create a link",fields:{href:new Na({label:"Link target",required:!0}),title:new Na({label:"Title"})},callback:function(e){Ao(n,e)(i.state,i.dispatch),i.focus()}})}}))),(t=e.nodes.image)&&(r.insertImage=(i=t,new Qo({title:"Insert image",label:"Image",enable:function(e){return za(e,i)},run:function(e,t,n){var r=e.selection,o=r.from,a=r.to,s=null;e.selection instanceof pt&&e.selection.node.type==i&&(s=e.selection.node.attrs),Da({title:"Insert image",fields:{src:new Na({label:"Location",required:!0,value:s&&s.src}),title:new Na({label:"Title",value:s&&s.title}),alt:new Na({label:"Description",value:s?s.alt:e.doc.textBetween(o,a," ")})},callback:function(e){n.dispatch(n.state.tr.replaceSelectionWith(i.createAndFill(e))),n.focus()}})}}))),(t=e.nodes.bullet_list)&&(r.wrapBulletList=La(t,{title:"Wrap in bullet list",icon:ca.bulletList})),(t=e.nodes.ordered_list)&&(r.wrapOrderedList=La(t,{title:"Wrap in ordered list",icon:ca.orderedList})),(t=e.nodes.blockquote)&&(r.wrapBlockQuote=function(e,t){var n={run:function(n,i){return Do(e,t.attrs)(n,i)},select:function(n){return Do(e,t.attrs instanceof Function?null:t.attrs)(n)}};for(var i in t)n[i]=t[i];return new Qo(n)}(t,{title:"Wrap in block quote",icon:ca.blockquote})),(t=e.nodes.paragraph)&&(r.makeParagraph=fa(t,{title:"Change to paragraph",label:"Plain"})),(t=e.nodes.code_block)&&(r.makeCodeBlock=fa(t,{title:"Change to code block",label:"Code"})),t=e.nodes.heading)for(var o=1;o<=10;o++)r["makeHead"+o]=fa(t,{title:"Change to heading "+o,label:"Level "+o,attrs:{level:o}});if(t=e.nodes.horizontal_rule){var a=t;r.insertHorizontalRule=new Qo({title:"Insert horizontal rule",label:"Horizontal rule",enable:function(e){return za(e,a)},run:function(e,t){t(e.tr.replaceSelectionWith(a.create()))}})}var s=function(e){return e.filter((function(e){return e}))};return r.insertMenu=new ra(s([r.insertImage,r.insertHorizontalRule]),{label:"Insert"}),r.typeMenu=new ra(s([r.makeParagraph,r.makeCodeBlock,r.makeHead1&&new sa(s([r.makeHead1,r.makeHead2,r.makeHead3,r.makeHead4,r.makeHead5,r.makeHead6]),{label:"Heading"})]),{label:"Type..."}),r.inlineMenu=[s([r.toggleStrong,r.toggleEm,r.toggleCode,r.toggleLink])],r.blockMenu=[s([r.wrapBulletList,r.wrapOrderedList,r.wrapBlockQuote,ua,la,da])],r.fullMenu=r.inlineMenu.concat([[r.insertMenu,r.typeMenu]],[[ha,pa]],r.blockMenu),r}var qa,Fa,ja="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function $a(e,t){var n,i,r={};function o(e,n){if(t){var i=t[e];if(!1===i)return;i&&(e=i)}r[e]=n}if(o("Mod-z",fo),o("Shift-Mod-z",mo),o("Backspace",ka),ja||o("Mod-y",mo),o("Alt-ArrowUp",ko),o("Alt-ArrowDown",_o),o("Mod-BracketLeft",Co),o("Escape",Oo),(n=e.marks.strong)&&(o("Mod-b",Ao(n)),o("Mod-B",Ao(n))),(n=e.marks.em)&&(o("Mod-i",Ao(n)),o("Mod-I",Ao(n))),(n=e.marks.code)&&o("Mod-`",Ao(n)),(n=e.nodes.bullet_list)&&o("Shift-Ctrl-8",va(n)),(n=e.nodes.ordered_list)&&o("Shift-Ctrl-9",va(n)),(n=e.nodes.blockquote)&&o("Ctrl->",Do(n)),n=e.nodes.hard_break){var a=n,s=No(Eo,(function(e,t){return t(e.tr.replaceSelectionWith(a.create()).scrollIntoView()),!0}));o("Mod-Enter",s),o("Shift-Enter",s),ja&&o("Ctrl-Enter",s)}if((n=e.nodes.list_item)&&(o("Enter",(i=n,function(e,t){var n=e.selection,r=n.$from,o=n.$to,a=n.node;if(a&&a.isBlock||r.depth<2||!r.sameParent(o))return!1;var s=r.node(-1);if(s.type!=i)return!1;if(0==r.parent.content.size&&r.node(-1).childCount==r.indexAfter(-1)){if(2==r.depth||r.node(-3).type!=i||r.index(-2)!=r.node(-2).childCount-1)return!1;if(t){for(var c=l.empty,u=r.index(-1)>0,d=r.depth-(u?1:2);d>=r.depth-3;d--)c=l.from(r.node(d).copy(c));c=c.append(l.from(i.createAndFill()));var h=e.tr.replace(r.before(u?null:-1),r.after(-3),new x(c,u?3:2,2));h.setSelection(e.selection.constructor.near(h.doc.resolve(r.pos+(u?3:2)))),t(h.scrollIntoView())}return!0}var p=o.pos==r.end()?s.contentMatchAt(0).defaultType:null,f=e.tr.delete(r.pos,o.pos),m=p&&[null,{type:p}];return!!$e(f.doc,r.pos,2,m)&&(t&&t(f.split(r.pos,2,m).scrollIntoView()),!0)})),o("Mod-[",ba(n)),o("Mod-]",function(e){return function(t,n){var i=t.selection,r=i.$from,o=i.$to,a=r.blockRange(o,(function(t){return t.childCount&&t.firstChild.type==e}));if(!a)return!1;var s=a.startIndex;if(0==s)return!1;var c=a.parent,u=c.child(s-1);if(u.type!=e)return!1;if(n){var d=u.lastChild&&u.lastChild.type==c.type,h=l.from(d?e.create():null),p=new x(l.from(e.create(null,l.from(c.type.create(null,h)))),d?3:1,0),f=a.start,m=a.end;n(t.tr.step(new Be(f-(d?3:1),m,f,m,p,1,!0)).scrollIntoView())}return!0}}(n))),(n=e.nodes.paragraph)&&o("Shift-Ctrl-0",To(n)),(n=e.nodes.code_block)&&o("Shift-Ctrl-\\",To(n)),n=e.nodes.heading)for(var c=1;c<=6;c++)o("Shift-Ctrl-"+c,To(n,{level:c}));if(n=e.nodes.horizontal_rule){var u=n;o("Mod-_",(function(e,t){return t(e.tr.replaceSelectionWith(u.create()).scrollIntoView()),!0}))}return r}function Wa(e){var t,n=Sa.concat(Ca,_a);return(t=e.nodes.blockquote)&&n.push(Ea(/^\s*>\s$/,t)),(t=e.nodes.ordered_list)&&n.push(function(e){return Ea(/^(\d+)\.\s$/,e,(function(e){return{order:+e[1]}}),(function(e,t){return t.childCount+t.attrs.order==+e[1]}))}(t)),(t=e.nodes.bullet_list)&&n.push(function(e){return Ea(/^\s*([-+*])\s$/,e)}(t)),(t=e.nodes.code_block)&&n.push(function(e){return Oa(/^```$/,e)}(t)),(t=e.nodes.heading)&&n.push(function(e,t){return Oa(new RegExp("^(#{1,"+t+"})\\s$"),e,(function(e){return{level:e[1].length}}))}(t,6)),function(e){var t=e.rules,n=new Mt({state:{init:function(){return null},apply:function(e,t){return e.getMeta(this)||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:function(e,i,r,o){return wa(e,i,r,o,t,n)},handleDOMEvents:{compositionend:function(e){setTimeout((function(){var i=e.state.selection.$cursor;i&&wa(e,i.pos,i.pos,"",t,n)}))}}},isInputRules:!0});return n}({rules:n})}function Ua(e){var t=[Wa(e.schema),Gr($a(e.schema,e.mapKeys)),Gr(Po),qo(),new Mt({props:{decorations:Ho,createSelectionBetween:function(e,t,n){if(t.pos==n.pos&&jo.valid(n))return new jo(n)},handleClick:Vo,handleKeyDown:Wo}})];return!1!==e.menuBar&&t.push(function(e){return new Mt({view:function(t){return new xa(t,e)}})}({floating:!1!==e.floatingMenu,content:e.menuContent||Pa(e.schema).fullMenu})),!1!==e.history&&t.push(po()),t.concat(new Mt({props:{attributes:{class:"ProseMirror-example-setup-style"}}}))}if(new At("collab"),"undefined"!=typeof WeakMap){var Va=new WeakMap;qa=function(e){return Va.get(e)},Fa=function(e,t){return Va.set(e,t),t}}else{var Ha=[],Ya=0;qa=function(e){for(var t=0;t<Ha.length;t+=2)if(Ha[t]==e)return Ha[t+1]},Fa=function(e,t){return 10==Ya&&(Ya=0),Ha[Ya++]=e,Ha[Ya++]=t}}var Ga=function(e,t,n,i){this.left=e,this.top=t,this.right=n,this.bottom=i},Ka=function(e,t,n,i){this.width=e,this.height=t,this.map=n,this.problems=i};function Xa(e){if(e.colwidth)return e.colwidth.slice();for(var t=[],n=0;n<e.colspan;n++)t.push(0);return t}function Ja(e,t){var n=e.getAttribute("data-colwidth"),i=n&&/^\d+(,\d+)*$/.test(n)?n.split(",").map((function(e){return Number(e)})):null,r=Number(e.getAttribute("colspan")||1),o={colspan:r,rowspan:Number(e.getAttribute("rowspan")||1),colwidth:i&&i.length==r?i:null};for(var a in t){var s=t[a].getFromDOM,c=s&&s(e);null!=c&&(o[a]=c)}return o}function Za(e,t){var n={};for(var i in 1!=e.attrs.colspan&&(n.colspan=e.attrs.colspan),1!=e.attrs.rowspan&&(n.rowspan=e.attrs.rowspan),e.attrs.colwidth&&(n["data-colwidth"]=e.attrs.colwidth.join(",")),t){var r=t[i].setDOMAttr;r&&r(e.attrs[i],n)}return n}function Qa(e){var t=e.cellAttributes||{},n={colspan:{default:1},rowspan:{default:1},colwidth:{default:null}};for(var i in t)n[i]={default:t[i].default};return{table:{content:"table_row+",tableRole:"table",isolating:!0,group:e.tableGroup,parseDOM:[{tag:"table"}],toDOM:function(){return["table",["tbody",0]]}},table_row:{content:"(table_cell | table_header)*",tableRole:"row",parseDOM:[{tag:"tr"}],toDOM:function(){return["tr",0]}},table_cell:{content:e.cellContent,attrs:n,tableRole:"cell",isolating:!0,parseDOM:[{tag:"td",getAttrs:function(e){return Ja(e,t)}}],toDOM:function(e){return["td",Za(e,t),0]}},table_header:{content:e.cellContent,attrs:n,tableRole:"header_cell",isolating:!0,parseDOM:[{tag:"th",getAttrs:function(e){return Ja(e,t)}}],toDOM:function(e){return["th",Za(e,t),0]}}}}function es(e){var t=e.cached.tableNodeTypes;if(!t)for(var n in t=e.cached.tableNodeTypes={},e.nodes){var i=e.nodes[n],r=i.spec.tableRole;r&&(t[r]=i)}return t}function ts(e){for(var t=e.depth-1;t>0;t--)if("row"==e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function ns(e){for(var t=e.selection.$head,n=t.depth;n>0;n--)if("row"==t.node(n).type.spec.tableRole)return!0;return!1}function is(e){return"row"==e.parent.type.spec.tableRole&&e.nodeAfter}function rs(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function as(e,t,n){var i=e.start(-1),r=Ka.get(e.node(-1)).nextCell(e.pos-i,t,n);return null==r?null:e.node(0).resolve(i+r)}function ss(e,t,n){var i={};for(var r in e)i[r]=e[r];return i[t]=n,i}function cs(e,t,n){void 0===n&&(n=1);var i=ss(e,"colspan",e.colspan-n);return i.colwidth&&(i.colwidth=i.colwidth.slice(),i.colwidth.splice(t,n),i.colwidth.some((function(e){return e>0}))||(i.colwidth=null)),i}function us(e,t,n){void 0===n&&(n=1);var i=ss(e,"colspan",e.colspan+n);if(i.colwidth){i.colwidth=i.colwidth.slice();for(var r=0;r<n;r++)i.colwidth.splice(t,0,0)}return i}Ka.prototype.findCell=function(e){for(var t=0;t<this.map.length;t++){var n=this.map[t];if(n==e){for(var i=t%this.width,r=t/this.width|0,o=i+1,a=r+1,s=1;o<this.width&&this.map[t+s]==n;s++)o++;for(var c=1;a<this.height&&this.map[t+this.width*c]==n;c++)a++;return new Ga(i,r,o,a)}}throw new RangeError("No cell with offset "+e+" found")},Ka.prototype.colCount=function(e){for(var t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError("No cell with offset "+e+" found")},Ka.prototype.nextCell=function(e,t,n){var i=this.findCell(e),r=i.left,o=i.right,a=i.top,s=i.bottom;return"horiz"==t?(n<0?0==r:o==this.width)?null:this.map[a*this.width+(n<0?r-1:o)]:(n<0?0==a:s==this.height)?null:this.map[r+this.width*(n<0?a-1:s)]},Ka.prototype.rectBetween=function(e,t){var n=this.findCell(e),i=n.left,r=n.right,o=n.top,a=n.bottom,s=this.findCell(t),c=s.left,u=s.right,l=s.top,d=s.bottom;return new Ga(Math.min(i,c),Math.min(o,l),Math.max(r,u),Math.max(a,d))},Ka.prototype.cellsInRect=function(e){for(var t=[],n={},i=e.top;i<e.bottom;i++)for(var r=e.left;r<e.right;r++){var o=i*this.width+r,a=this.map[o];n[a]||(n[a]=!0,r==e.left&&r&&this.map[o-1]==a||i==e.top&&i&&this.map[o-this.width]==a||t.push(a))}return t},Ka.prototype.positionAt=function(e,t,n){for(var i=0,r=0;;i++){var o=r+n.child(i).nodeSize;if(i==e){for(var a=t+e*this.width,s=(e+1)*this.width;a<s&&this.map[a]<r;)a++;return a==s?o-1:this.map[a]}r=o}},Ka.get=function(e){return qa(e)||Fa(e,function(e){if("table"!=e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);for(var t=function(e){for(var t=-1,n=!1,i=0;i<e.childCount;i++){var r=e.child(i),o=0;if(n)for(var a=0;a<i;a++)for(var s=e.child(a),c=0;c<s.childCount;c++){var u=s.child(c);a+u.attrs.rowspan>i&&(o+=u.attrs.colspan)}for(var l=0;l<r.childCount;l++){var d=r.child(l);o+=d.attrs.colspan,d.attrs.rowspan>1&&(n=!0)}-1==t?t=o:t!=o&&(t=Math.max(t,o))}return t}(e),n=e.childCount,i=[],r=0,o=null,a=[],s=0,c=t*n;s<c;s++)i[s]=0;for(var u=0,l=0;u<n;u++){var d=e.child(u);l++;for(var h=0;;h++){for(;r<i.length&&0!=i[r];)r++;if(h==d.childCount)break;for(var p=d.child(h),f=p.attrs,m=f.colspan,g=f.rowspan,x=f.colwidth,v=0;v<g;v++){if(v+u>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:l,n:g-v});break}for(var b=r+v*t,y=0;y<m;y++){0==i[b+y]?i[b+y]=l:(o||(o=[])).push({type:"collision",row:u,pos:l,n:m-y});var w=x&&x[y];if(w){var k=(b+y)%t*2,_=a[k];null==_||_!=w&&1==a[k+1]?(a[k]=w,a[k+1]=1):_==w&&a[k+1]++}}}r+=m,l+=p.nodeSize}for(var C=(u+1)*t,S=0;r<C;)0==i[r++]&&S++;S&&(o||(o=[])).push({type:"missing",row:u,n:S}),l++}for(var E=new Ka(t,n,i,o),O=!1,M=0;!O&&M<a.length;M+=2)null!=a[M]&&a[M+1]<n&&(O=!0);O&&function(e,t,n){e.problems||(e.problems=[]);for(var i=0,r={};i<e.map.length;i++){var o=e.map[i];if(!r[o]){r[o]=!0;for(var a=n.nodeAt(o),s=null,c=0;c<a.attrs.colspan;c++){var u=t[2*((i+c)%e.width)];null==u||a.attrs.colwidth&&a.attrs.colwidth[c]==u||((s||(s=Xa(a.attrs)))[c]=u)}s&&e.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:s})}}}(E,a,e);return E}(e))},new At("selectingCells");var ls=function(e){function t(t,n){void 0===n&&(n=t);var i=t.node(-1),r=Ka.get(i),o=t.start(-1),a=r.rectBetween(t.pos-o,n.pos-o),s=t.node(0),c=r.cellsInRect(a).filter((function(e){return e!=n.pos-o}));c.unshift(n.pos-o);var u=c.map((function(e){var t=i.nodeAt(e),n=e+o+1;return new lt(s.resolve(n),s.resolve(n+t.content.size))}));e.call(this,u[0].$from,u[0].$to,u),this.$anchorCell=t,this.$headCell=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(e,n){var i=e.resolve(n.map(this.$anchorCell.pos)),r=e.resolve(n.map(this.$headCell.pos));if(is(i)&&is(r)&&rs(i,r)){var o=this.$anchorCell.node(-1)!=i.node(-1);return o&&this.isRowSelection()?t.rowSelection(i,r):o&&this.isColSelection()?t.colSelection(i,r):new t(i,r)}return dt.between(i,r)},t.prototype.content=function(){for(var e=this.$anchorCell.node(-1),t=Ka.get(e),n=this.$anchorCell.start(-1),i=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),r={},o=[],a=i.top;a<i.bottom;a++){for(var s=[],c=a*t.width+i.left,u=i.left;u<i.right;u++,c++){var d=t.map[c];if(!r[d]){r[d]=!0;var h=t.findCell(d),p=e.nodeAt(d),f=i.left-h.left,m=h.right-i.right;if(f>0||m>0){var g=p.attrs;f>0&&(g=cs(g,0,f)),m>0&&(g=cs(g,g.colspan-m,m)),p=h.left<i.left?p.type.createAndFill(g):p.type.create(g,p.content)}if(h.top<i.top||h.bottom>i.bottom){var v=ss(p.attrs,"rowspan",Math.min(h.bottom,i.bottom)-Math.max(h.top,i.top));p=h.top<i.top?p.type.createAndFill(v):p.type.create(v,p.content)}s.push(p)}}o.push(e.child(a).copy(l.from(s)))}var b=this.isColSelection()&&this.isRowSelection()?e:o;return new x(l.from(b),1,1)},t.prototype.replace=function(t,n){void 0===n&&(n=x.empty);for(var i=t.steps.length,r=this.ranges,o=0;o<r.length;o++){var a=r[o],s=a.$from,c=a.$to,u=t.mapping.slice(i);t.replace(u.map(s.pos),u.map(c.pos),o?x.empty:n)}var l=e.findFrom(t.doc.resolve(t.mapping.slice(i).map(this.to)),-1);l&&t.setSelection(l)},t.prototype.replaceWith=function(e,t){this.replace(e,new x(l.from(t),0,0))},t.prototype.forEachCell=function(e){for(var t=this.$anchorCell.node(-1),n=Ka.get(t),i=this.$anchorCell.start(-1),r=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i)),o=0;o<r.length;o++)e(t.nodeAt(r[o]),i+r[o])},t.prototype.isColSelection=function(){var e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;var n=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,i)==this.$headCell.node(-1).childCount},t.colSelection=function(e,n){void 0===n&&(n=e);var i=Ka.get(e.node(-1)),r=e.start(-1),o=i.findCell(e.pos-r),a=i.findCell(n.pos-r),s=e.node(0);return o.top<=a.top?(o.top>0&&(e=s.resolve(r+i.map[o.left])),a.bottom<i.height&&(n=s.resolve(r+i.map[i.width*(i.height-1)+a.right-1]))):(a.top>0&&(n=s.resolve(r+i.map[a.left])),o.bottom<i.height&&(e=s.resolve(r+i.map[i.width*(i.height-1)+o.right-1]))),new t(e,n)},t.prototype.isRowSelection=function(){var e=Ka.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),i=e.colCount(this.$headCell.pos-t);if(Math.min(n,i)>0)return!1;var r=n+this.$anchorCell.nodeAfter.attrs.colspan,o=i+this.$headCell.nodeAfter.attrs.colspan;return Math.max(r,o)==e.width},t.prototype.eq=function(e){return e instanceof t&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos},t.rowSelection=function(e,n){void 0===n&&(n=e);var i=Ka.get(e.node(-1)),r=e.start(-1),o=i.findCell(e.pos-r),a=i.findCell(n.pos-r),s=e.node(0);return o.left<=a.left?(o.left>0&&(e=s.resolve(r+i.map[o.top*i.width])),a.right<i.width&&(n=s.resolve(r+i.map[i.width*(a.top+1)-1]))):(a.left>0&&(n=s.resolve(r+i.map[a.top*i.width])),o.right<i.width&&(e=s.resolve(r+i.map[i.width*(o.top+1)-1]))),new t(e,n)},t.prototype.toJSON=function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}},t.fromJSON=function(e,n){return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,n,i){return void 0===i&&(i=n),new t(e.resolve(n),e.resolve(i))},t.prototype.getBookmark=function(){return new ds(this.$anchorCell.pos,this.$headCell.pos)},t}(ct);ls.prototype.visible=!1,ct.jsonID("cell",ls);var ds=function(e,t){this.anchor=e,this.head=t};function hs(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function ps(e,t){return function(n,i,r){var o=n.selection;if(o instanceof ls)return hs(n,i,ct.near(o.$headCell,t));if("horiz"!=e&&!o.empty)return!1;var a=gs(r,e,t);if(null==a)return!1;if("horiz"==e)return hs(n,i,ct.near(n.doc.resolve(o.head+t),t));var s,c=n.doc.resolve(a),u=as(c,e,t);return s=u?ct.near(u,1):t<0?ct.near(n.doc.resolve(c.before(-1)),-1):ct.near(n.doc.resolve(c.after(-1)),1),hs(n,i,s)}}function fs(e,t){return function(n,i,r){var o=n.selection;if(!(o instanceof ls)){var a=gs(r,e,t);if(null==a)return!1;o=new ls(n.doc.resolve(a))}var s=as(o.$headCell,e,t);return!!s&&hs(n,i,new ls(o.$anchorCell,s))}}function ms(e,t){var n=e.selection;if(!(n instanceof ls))return!1;if(t){var i=e.tr,r=es(e.schema).cell.createAndFill().content;n.forEachCell((function(e,t){e.content.eq(r)||i.replace(i.mapping.map(t+1),i.mapping.map(t+e.nodeSize-1),new x(r,0,0))})),i.docChanged&&t(i)}return!0}function gs(e,t,n){if(!(e.state.selection instanceof dt))return null;for(var i=e.state.selection.$head,r=i.depth-1;r>=0;r--){var o=i.node(r);if((n<0?i.index(r):i.indexAfter(r))!=(n<0?0:o.childCount))return null;if("cell"==o.type.spec.tableRole||"header_cell"==o.type.spec.tableRole){var a=i.before(r),s="vert"==t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(s)?a:null}}return null}function xs(e){var t,n=e.selection,i=function(e){var t=e.selection;return t.$anchorCell?t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell:t.node&&"cell"==t.node.type.spec.tableRole?t.$anchor:ts(t.$head)||function(e){for(var t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){var i=t.type.spec.tableRole;if("cell"==i||"header_cell"==i)return e.doc.resolve(n)}for(var r=e.nodeBefore,o=e.pos;r;r=r.lastChild,o--){var a=r.type.spec.tableRole;if("cell"==a||"header_cell"==a)return e.doc.resolve(o-r.nodeSize)}}(t.$head)}(e),r=i.node(-1),o=i.start(-1),a=Ka.get(r);return(t=n instanceof ls?a.rectBetween(n.$anchorCell.pos-o,n.$headCell.pos-o):a.findCell(i.pos-o)).tableStart=o,t.map=a,t.table=r,t}function vs(e,t,n){var i=t.map,r=t.tableStart,o=t.table,a=n>0?-1:0;(function(e,t,n){for(var i=es(t.type.schema).header_cell,r=0;r<e.height;r++)if(t.nodeAt(e.map[n+r*e.width]).type!=i)return!1;return!0})(i,o,n+a)&&(a=0==n||n==i.width?null:0);for(var s=0;s<i.height;s++){var c=s*i.width+n;if(n>0&&n<i.width&&i.map[c-1]==i.map[c]){var u=i.map[c],l=o.nodeAt(u);e.setNodeMarkup(e.mapping.map(r+u),null,us(l.attrs,n-i.colCount(u))),s+=l.attrs.rowspan-1}else{var d=null==a?es(o.type.schema).cell:o.nodeAt(i.map[c+a]).type,h=i.positionAt(s,n,o);e.insert(e.mapping.map(r+h),d.createAndFill())}}return e}function bs(e,t){if(!ns(e))return!1;if(t){var n=xs(e);t(vs(e.tr,n,n.left))}return!0}function ys(e,t){if(!ns(e))return!1;if(t){var n=xs(e);t(vs(e.tr,n,n.right))}return!0}function ws(e,t,n){for(var i=t.map,r=t.table,o=t.tableStart,a=e.mapping.maps.length,s=0;s<i.height;){var c=s*i.width+n,u=i.map[c],l=r.nodeAt(u);if(n>0&&i.map[c-1]==u||n<i.width-1&&i.map[c+1]==u)e.setNodeMarkup(e.mapping.slice(a).map(o+u),null,cs(l.attrs,n-i.colCount(u)));else{var d=e.mapping.slice(a).map(o+u);e.delete(d,d+l.nodeSize)}s+=l.attrs.rowspan}}function ks(e,t){if(!ns(e))return!1;if(t){var n=xs(e),i=e.tr;if(0==n.left&&n.right==n.map.width)return!1;for(var r=n.right-1;ws(i,n,r),r!=n.left;r--)n.table=n.tableStart?i.doc.nodeAt(n.tableStart-1):i.doc,n.map=Ka.get(n.table);t(i)}return!0}function _s(e,t,n){for(var i=t.map,r=t.tableStart,o=t.table,a=r,s=0;s<n;s++)a+=o.child(s).nodeSize;var c=[],u=n>0?-1:0;(function(e,t,n){for(var i=es(t.type.schema).header_cell,r=0;r<e.width;r++)if(t.nodeAt(e.map[r+n*e.width]).type!=i)return!1;return!0})(i,o,n+u)&&(u=0==n||n==i.height?null:0);for(var l=0,d=i.width*n;l<i.width;l++,d++)if(n>0&&n<i.height&&i.map[d]==i.map[d-i.width]){var h=i.map[d],p=o.nodeAt(h).attrs;e.setNodeMarkup(r+h,null,ss(p,"rowspan",p.rowspan+1)),l+=p.colspan-1}else{var f=null==u?es(o.type.schema).cell:o.nodeAt(i.map[d+u*i.width]).type;c.push(f.createAndFill())}return e.insert(a,es(o.type.schema).row.create(null,c)),e}function Cs(e,t){if(!ns(e))return!1;if(t){var n=xs(e);t(_s(e.tr,n,n.top))}return!0}function Ss(e,t){if(!ns(e))return!1;if(t){var n=xs(e);t(_s(e.tr,n,n.bottom))}return!0}function Es(e,t,n){for(var i=t.map,r=t.table,o=t.tableStart,a=0,s=0;s<n;s++)a+=r.child(s).nodeSize;var c=a+r.child(n).nodeSize,u=e.mapping.maps.length;e.delete(a+o,c+o);for(var l=0,d=n*i.width;l<i.width;l++,d++){var h=i.map[d];if(n>0&&h==i.map[d-i.width]){var p=r.nodeAt(h).attrs;e.setNodeMarkup(e.mapping.slice(u).map(h+o),null,ss(p,"rowspan",p.rowspan-1)),l+=p.colspan-1}else if(n<i.width&&h==i.map[d+i.width]){var f=r.nodeAt(h),m=f.type.create(ss(f.attrs,"rowspan",f.attrs.rowspan-1),f.content),g=i.positionAt(n+1,l,r);e.insert(e.mapping.slice(u).map(o+g),m),l+=f.attrs.colspan-1}}}function Os(e,t){if(!ns(e))return!1;if(t){var n=xs(e),i=e.tr;if(0==n.top&&n.bottom==n.map.height)return!1;for(var r=n.bottom-1;Es(i,n,r),r!=n.top;r--)n.table=n.tableStart?i.doc.nodeAt(n.tableStart-1):i.doc,n.map=Ka.get(n.table);t(i)}return!0}function Ms(e){var t=e.content;return 1==t.childCount&&t.firstChild.isTextblock&&0==t.firstChild.childCount}function Ds(e,t){var n=e.selection;if(!(n instanceof ls)||n.$anchorCell.pos==n.$headCell.pos)return!1;var i=xs(e),r=i.map;if(function(e,t){for(var n=e.width,i=e.height,r=e.map,o=t.top*n+t.left,a=o,s=(t.bottom-1)*n+t.left,c=o+(t.right-t.left-1),u=t.top;u<t.bottom;u++){if(t.left>0&&r[a]==r[a-1]||t.right<n&&r[c]==r[c+1])return!0;a+=n,c+=n}for(var l=t.left;l<t.right;l++){if(t.top>0&&r[o]==r[o-n]||t.bottom<i&&r[s]==r[s+n])return!0;o++,s++}return!1}(r,i))return!1;if(t){for(var o,a,s=e.tr,c={},u=l.empty,d=i.top;d<i.bottom;d++)for(var h=i.left;h<i.right;h++){var p=r.map[d*r.width+h],f=i.table.nodeAt(p);if(!c[p])if(c[p]=!0,null==o)o=p,a=f;else{Ms(f)||(u=u.append(f.content));var m=s.mapping.map(p+i.tableStart);s.delete(m,m+f.nodeSize)}}if(s.setNodeMarkup(o+i.tableStart,null,ss(us(a.attrs,a.attrs.colspan,i.right-i.left-a.attrs.colspan),"rowspan",i.bottom-i.top)),u.size){var g=o+1+a.content.size,x=Ms(a)?o+1:g;s.replaceWith(x+i.tableStart,g+i.tableStart,u)}s.setSelection(new ls(s.doc.resolve(o+i.tableStart))),t(s)}return!0}function Ts(e,t){var n,i=es(e.schema);return(n=function(e){var t=e.node;return i[t.type.spec.tableRole]},function(e,t){var i,r,o=e.selection;if(o instanceof ls){if(o.$anchorCell.pos!=o.$headCell.pos)return!1;i=o.$anchorCell.nodeAfter,r=o.$anchorCell.pos}else{if(!(i=function(e){for(var t=e.depth;t>0;t--){var n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}(o.$from)))return!1;r=ts(o.$from).pos}if(1==i.attrs.colspan&&1==i.attrs.rowspan)return!1;if(t){var a=i.attrs,s=[],c=a.colwidth;a.rowspan>1&&(a=ss(a,"rowspan",1)),a.colspan>1&&(a=ss(a,"colspan",1));for(var u,l=xs(e),d=e.tr,h=0;h<l.right-l.left;h++)s.push(c?ss(a,"colwidth",c&&c[h]?[c[h]]:null):a);for(var p=l.top;p<l.bottom;p++){var f=l.map.positionAt(p,l.left,l.table);p==l.top&&(f+=i.nodeSize);for(var m=l.left,g=0;m<l.right;m++,g++)m==l.left&&p==l.top||d.insert(u=d.mapping.map(f+l.tableStart,1),n({node:i,row:p,col:m}).createAndFill(s[g]))}d.setNodeMarkup(r,n({node:i,row:l.top,col:l.left}),s[0]),o instanceof ls&&d.setSelection(new ls(d.doc.resolve(o.$anchorCell.pos),u&&d.doc.resolve(u))),t(d)}return!0})(e,t)}function As(e,t,n){for(var i=t.map.cellsInRect({left:0,top:0,right:"row"==e?t.map.width:1,bottom:"column"==e?t.map.height:1}),r=0;r<i.length;r++){var o=t.table.nodeAt(i[r]);if(o&&o.type!==n.header_cell)return!1}return!0}function Ns(e,t){return(t=t||{useDeprecatedLogic:!1}).useDeprecatedLogic?function(e){return function(t,n){if(!ns(t))return!1;if(n){for(var i=es(t.schema),r=xs(t),o=t.tr,a=r.map.cellsInRect("column"==e?new Ga(r.left,0,r.right,r.map.height):"row"==e?new Ga(0,r.top,r.map.width,r.bottom):r),s=a.map((function(e){return r.table.nodeAt(e)})),c=0;c<a.length;c++)s[c].type==i.header_cell&&o.setNodeMarkup(r.tableStart+a[c],i.cell,s[c].attrs);if(0==o.steps.length)for(var u=0;u<a.length;u++)o.setNodeMarkup(r.tableStart+a[u],i.header_cell,s[u].attrs);n(o)}return!0}}(e):function(t,n){if(!ns(t))return!1;if(n){var i=es(t.schema),r=xs(t),o=t.tr,a=As("row",r,i),s=As("column",r,i),c=("column"===e?a:"row"===e&&s)?1:0,u="column"==e?new Ga(0,c,1,r.map.height):"row"==e?new Ga(c,0,r.map.width,1):r,l="column"==e?s?i.cell:i.header_cell:"row"==e?a?i.cell:i.header_cell:i.cell;r.map.cellsInRect(u).forEach((function(e){var t=e+r.tableStart,n=o.doc.nodeAt(t);n&&o.setNodeMarkup(t,l,n.attrs)})),n(o)}return!0}}ds.prototype.map=function(e){return new ds(e.map(this.anchor),e.map(this.head))},ds.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=e.resolve(this.head);return"row"==t.parent.type.spec.tableRole&&"row"==n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&rs(t,n)?new ls(t,n):ct.near(n,1)},Kr({ArrowLeft:ps("horiz",-1),ArrowRight:ps("horiz",1),ArrowUp:ps("vert",-1),ArrowDown:ps("vert",1),"Shift-ArrowLeft":fs("horiz",-1),"Shift-ArrowRight":fs("horiz",1),"Shift-ArrowUp":fs("vert",-1),"Shift-ArrowDown":fs("vert",1),Backspace:ms,"Mod-Backspace":ms,Delete:ms,"Mod-Delete":ms}),new At("fix-tables");var zs=Ns("row",{useDeprecatedLogic:!0}),Rs=Ns("column",{useDeprecatedLogic:!0}),Is=Ns("cell",{useDeprecatedLogic:!0});new At("tableColumnResizing");var Bs,Ls="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};Bs={exports:{}},function(e){var t=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.msRequestAnimationFrame||function(e){return setTimeout(e,16)};function n(){var n=this;n.reads=[],n.writes=[],n.raf=t.bind(e)}function i(e){e.scheduled||(e.scheduled=!0,e.raf(r.bind(null,e)))}function r(e){var t,n=e.writes,r=e.reads;try{r.length,e.runTasks(r),n.length,e.runTasks(n)}catch(o){t=o}if(e.scheduled=!1,(r.length||n.length)&&i(e),t){if(t.message,!e.catch)throw t;e.catch(t)}}function o(e,t){var n=e.indexOf(t);return!!~n&&!!e.splice(n,1)}n.prototype={constructor:n,runTasks:function(e){for(var t;t=e.shift();)t()},measure:function(e,t){var n=t?e.bind(t):e;return this.reads.push(n),i(this),n},mutate:function(e,t){var n=t?e.bind(t):e;return this.writes.push(n),i(this),n},clear:function(e){return o(this.reads,e)||o(this.writes,e)},extend:function(e){if("object"!=typeof e)throw new Error("expected object");var t=Object.create(this);return function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}(t,e),t.fastdom=this,t.initialize&&t.initialize(),t},catch:null};var a=e.fastdom=e.fastdom||new n;Bs.exports=a}("undefined"!=typeof window?window:Ls);var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});const qs=["catalan","croatian","czech","danish","dutch","english","american","finnish","french","german","greek","italian","latin","norwegian","polish","portuguese","brazilian","russian","slovene","spanish","swedish"],Fs={abstract:{type:"f_long_literal",biblatex:"abstract",csl:"abstract"},addendum:{type:"f_literal",biblatex:"addendum"},afterword:{type:"l_name",biblatex:"afterword"},annotation:{type:"f_long_literal",biblatex:"annotation"},annotator:{type:"l_name",biblatex:"annotator"},author:{type:"l_name",biblatex:"author",csl:"author"},bookauthor:{type:"l_name",biblatex:"bookauthor",csl:"container-author"},bookpagination:{type:"f_key",biblatex:"bookpagination",options:["page","column","section","paragraph","verse","line"]},booksubtitle:{type:"f_title",biblatex:"booksubtitle"},booktitle:{type:"f_title",biblatex:"booktitle",csl:"container-title"},booktitleaddon:{type:"f_title",biblatex:"booktitleaddon"},chapter:{type:"f_literal",biblatex:"chapter",csl:"chapter-number"},commentator:{type:"l_name",biblatex:"commentator"},date:{type:"f_date",biblatex:"date",csl:"issued"},doi:{type:"f_verbatim",biblatex:"doi",csl:"DOI"},edition:{type:"f_integer",biblatex:"edition",csl:"edition"},editor:{type:"l_name",biblatex:"editor",csl:"editor"},editora:{type:"l_name",biblatex:"editora"},editorb:{type:"l_name",biblatex:"editorb"},editorc:{type:"l_name",biblatex:"editorc"},editortype:{type:"f_key",biblatex:"editortype",options:["editor","compiler","founder","continuator","redactor","reviser","collaborator"]},editoratype:{type:"f_key",biblatex:"editoratype",options:["editor","compiler","founder","continuator","redactor","reviser","collaborator"]},editorbtype:{type:"f_key",biblatex:"editorbtype",options:["editor","compiler","founder","continuator","redactor","reviser","collaborator"]},editorctype:{type:"f_key",biblatex:"editorctype",options:["editor","compiler","founder","continuator","redactor","reviser","collaborator"]},eid:{type:"f_literal",biblatex:"eid"},entrysubtype:{type:"f_literal",biblatex:"entrysubtype"},eprint:{type:"f_verbatim",biblatex:"eprint"},eprintclass:{type:"f_literal",biblatex:"eprintclass"},eprinttype:{type:"f_literal",biblatex:"eprinttype"},eventdate:{type:"f_date",biblatex:"eventdate",csl:"event-date"},eventtitle:{type:"f_title",biblatex:"eventtitle",csl:"event"},file:{type:"f_verbatim",biblatex:"file"},foreword:{type:"l_name",biblatex:"foreword"},holder:{type:"l_name",biblatex:"holder"},howpublished:{type:"f_literal",biblatex:"howpublished",csl:"medium"},indextitle:{type:"f_literal",biblatex:"indextitle"},institution:{type:"l_literal",biblatex:"institution"},introduction:{type:"l_name",biblatex:"introduction"},isan:{type:"f_literal",biblatex:"isan",csl:"number"},isbn:{type:"f_literal",biblatex:"isbn",csl:"ISBN"},ismn:{type:"f_literal",biblatex:"ismn",csl:"number"},isrn:{type:"f_literal",biblatex:"isrn",csl:"number"},issn:{type:"f_literal",biblatex:"issn",csl:"ISSN"},issue:{type:"f_literal",biblatex:"issue",csl:"issue"},issuesubtitle:{type:"f_literal",biblatex:"issuesubtitle"},issuetitle:{type:"f_literal",biblatex:"issuetitle"},iswc:{type:"f_literal",biblatex:"iswc",csl:"number"},journalsubtitle:{type:"f_literal",biblatex:"journalsubtitle"},journaltitle:{type:"f_literal",biblatex:"journaltitle",csl:"container-title"},keywords:{type:"l_tag",biblatex:"keywords"},label:{type:"f_literal",biblatex:"label"},language:{type:"l_key",biblatex:"language",options:qs},langid:{type:"f_key",strict:!0,biblatex:"langid",csl:"language",options:{acadian:{csl:"fr-CA",biblatex:"acadian"},afrikaans:{csl:"af-ZA",biblatex:"afrikaans"},arabic:{csl:"ar",biblatex:"arabic"},basque:{csl:"eu",biblatex:"basque"},bulgarian:{csl:"bg-BG",biblatex:"bulgarian"},catalan:{csl:"ca-AD",biblatex:"catalan"},chinese:{csl:"zh-CN",biblatex:"pinyin"},croatian:{csl:"hr-HR",biblatex:"croatian"},czech:{csl:"cs-CZ",biblatex:"czech"},danish:{csl:"da-DK",biblatex:"danish"},dutch:{csl:"nl-NL",biblatex:"dutch"},auenglish:{csl:"en-GB",biblatex:"australian"},caenglish:{csl:"en-US",biblatex:"canadian"},nzenglish:{csl:"en-GB",biblatex:"newzealand"},ukenglish:{csl:"en-GB",biblatex:"ukenglish"},usenglish:{csl:"en-US",biblatex:"usenglish"},estonian:{csl:"et-EE",biblatex:"estonian"},finnish:{csl:"fi-FI",biblatex:"finnish"},french:{csl:"fr-FR",biblatex:"french"},cafrench:{csl:"fr-CA",biblatex:"canadien"},german:{csl:"de-DE",biblatex:"ngerman"},atgerman:{csl:"de-AT",biblatex:"naustrian"},greek:{csl:"el-GR",biblatex:"greek"},hebrew:{csl:"he-IL",biblatex:"hebrew"},hungarian:{csl:"hu-HU",biblatex:"hungarian"},icelandic:{csl:"is-IS",biblatex:"icelandic"},italian:{csl:"it-IT",biblatex:"italian"},japanese:{csl:"ja-JP",biblatex:"japanese"},latin:{csl:"la",biblatex:"latin"},latvian:{csl:"lv-LV",biblatex:"latvian"},lithuanian:{csl:"lt-LT",biblatex:"lithuanian"},magyar:{csl:"hu-HU",biblatex:"magyar"},mongolian:{csl:"mn-MN",biblatex:"mongolian"},norwegian:{csl:"nb-NO",biblatex:"norsk"},newnorwegian:{csl:"nn-NO",biblatex:"nynorsk"},farsi:{csl:"fa-IR",biblatex:"farsi"},polish:{csl:"pl-PL",biblatex:"polish"},portuguese:{csl:"pt-PT",biblatex:"portuguese"},brportuguese:{csl:"pt-BR",biblatex:"brazilian"},romanian:{csl:"ro-RO",biblatex:"romanian"},russian:{csl:"ru-RU",biblatex:"russian"},serbian:{csl:"sr-RS",biblatex:"serbian"},cyrillicserbian:{csl:"sr-RS",biblatex:"serbianc"},slovak:{csl:"sk-SK",biblatex:"slovak"},slovene:{csl:"sl-SL",biblatex:"slovene"},spanish:{csl:"es-ES",biblatex:"spanish"},swedish:{csl:"sv-SE",biblatex:"swedish"},thai:{csl:"th-TH",biblatex:"thai"},turkish:{csl:"tr-TR",biblatex:"turkish"},ukrainian:{csl:"uk-UA",biblatex:"ukrainian"},vietnamese:{csl:"vi-VN",biblatex:"vietnamese"}}},library:{type:"f_literal",biblatex:"library"},location:{type:"l_literal",biblatex:"location",csl:"publisher-place"},mainsubtitle:{type:"f_title",biblatex:"mainsubtitle"},maintitle:{type:"f_title",biblatex:"maintitle"},maintitleaddon:{type:"f_title",biblatex:"maintitleaddon"},nameaddon:{type:"f_literal",biblatex:"nameaddon"},note:{type:"f_literal",biblatex:"note",csl:"note"},number:{type:"f_literal",biblatex:"number",csl:{"article-journal":"issue",patent:"number","*":"collection-number"}},organization:{type:"l_literal",biblatex:"organization"},origdate:{type:"f_date",biblatex:"origdate",csl:"original-date"},origlanguage:{type:"f_key",biblatex:"origlanguage",options:qs},origlocation:{type:"l_literal",biblatex:"origlocation",csl:"original-publisher-place"},origpublisher:{type:"l_literal",biblatex:"origpublisher",csl:"original-publisher"},origtitle:{type:"f_title",biblatex:"origtitle",csl:"original-title"},pages:{type:"l_range",biblatex:"pages",csl:"page"},pagetotal:{type:"f_literal",biblatex:"pagetotal",csl:"number-of-pages"},pagination:{type:"f_key",biblatex:"pagination",options:["page","column","section","paragraph","verse","line"]},part:{type:"f_literal",biblatex:"part"},publisher:{type:"l_literal",biblatex:"publisher",csl:"publisher"},pubstate:{type:"f_key",biblatex:"pubstate",csl:"status",options:{inpreparation:{csl:"in preparation",biblatex:"inpreparation"},submitted:{csl:"submitted",biblatex:"submitted"},forthcoming:{csl:"forthcoming",biblatex:"forthcoming"},inpress:{csl:"in press",biblatex:"inpress"},prepublished:{csl:"prepublished",biblatex:"prepublished"}}},reprinttitle:{type:"f_literal",biblatex:"reprinttitle"},series:{type:"f_literal",biblatex:"series",csl:"collection-title"},shortauthor:{type:"l_name",biblatex:"shortauthor"},shorteditor:{type:"l_name",biblatex:"shorteditor"},shorthand:{type:"f_literal",biblatex:"shorthand"},shorthandintro:{type:"f_literal",biblatex:"shorthandintro"},shortjournal:{type:"f_literal",biblatex:"shortjournal",csl:"container-title-short"},shortseries:{type:"f_literal",biblatex:"shortseries"},shorttitle:{type:"f_literal",biblatex:"shorttitle",csl:"title-short"},subtitle:{type:"f_title",biblatex:"subtitle"},title:{type:"f_title",biblatex:"title",csl:"title"},titleaddon:{type:"f_title",biblatex:"titleaddon"},translator:{type:"l_name",biblatex:"translator",csl:"translator"},type:{type:"f_key",biblatex:"type",options:["manual","patent","report","thesis","mathesis","phdthesis","candthesis","techreport","resreport","software","datacd","audiocd"]},url:{type:"f_uri",biblatex:"url",csl:"URL"},urldate:{type:"f_date",biblatex:"urldate",csl:"accessed"},venue:{type:"f_literal",biblatex:"venue",csl:"event-place"},version:{type:"f_literal",biblatex:"version",csl:"version"},volume:{type:"f_literal",biblatex:"volume",csl:"volume"},volumes:{type:"f_literal",biblatex:"volumes",csl:"number-of-volumes"}},js={"article-journal":{order:1,biblatex:"article",csl:"article-journal",required:["journaltitle","title","author","date"],eitheror:[],optional:["abstract","addendum","annotator","commentator","doi","editor","editora","editorb","editorc","eid","eprint","eprintclass","eprinttype","issn","issue","issuesubtitle","issuetitle","journalsubtitle","language","langid","note","number","origdate","origlanguage","pages","pagination","pubstate","series","subtitle","titleaddon","translator","url","urldate","version","volume","annotation","keywords"]},"article-magazine":{order:2,biblatex:"article","biblatex-subtype":"magazine",csl:"article-magazine",required:["journaltitle","title","author","date"],eitheror:[],optional:["abstract","addendum","annotator","commentator","doi","editor","editora","editorb","editorc","eid","eprint","eprintclass","eprinttype","issn","issue","issuesubtitle","issuetitle","journalsubtitle","language","langid","note","number","origdate","origlanguage","pages","pagination","pubstate","series","subtitle","titleaddon","translator","url","urldate","version","volume","annotation","keywords"]},"article-newspaper":{order:3,biblatex:"article","biblatex-subtype":"newspaper",csl:"article-newspaper",required:["journaltitle","title","author","date"],eitheror:[],optional:["abstract","addendum","annotator","commentator","doi","editor","editora","editorb","editorc","eid","eprint","eprintclass","eprinttype","issn","issue","issuesubtitle","issuetitle","journalsubtitle","language","langid","note","number","origdate","origlanguage","pages","pagination","pubstate","series","subtitle","titleaddon","translator","url","urldate","version","volume","annotation","keywords"]},article:{order:4,biblatex:"article",csl:"article",required:["journaltitle","title","author","date"],eitheror:[],optional:["abstract","addendum","annotator","commentator","doi","editor","editora","editorb","editorc","eid","eprint","eprintclass","eprinttype","issn","issue","issuesubtitle","issuetitle","journalsubtitle","language","langid","note","number","origdate","origlanguage","pages","pagination","pubstate","series","subtitle","titleaddon","translator","url","urldate","version","volume","annotation","keywords"]},"post-weblog":{order:5,biblatex:"online",csl:"post-weblog",required:["date","title","url"],eitheror:["editor","author"],optional:["abstract","addendum","pubstate","subtitle","language","langid","urldate","titleaddon","version","note","organization","annotation","keywords"]},book:{order:10,biblatex:"book",csl:"book",required:["title","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","chapter","commentator","doi","edition","editor","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origdate","origlanguage","pages","pagination","pagetotal","bookpagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},mvbook:{order:11,biblatex:"mvbook",csl:"book",required:["title","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","commentator","doi","edition","editor","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","note","number","origdate","origlanguage","pagetotal","bookpagination","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volumes","annotation","keywords"]},inbook:{order:12,biblatex:"inbook",csl:"chapter",required:["title","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","bookauthor","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editor","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origdate","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},bookinbook:{order:13,biblatex:"bookinbook",csl:"chapter",required:["title","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","bookauthor","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editor","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origdate","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},suppbook:{order:14,biblatex:"suppbook",csl:"chapter",required:["title","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","bookauthor","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editor","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origdate","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},booklet:{order:15,biblatex:"booklet",csl:"pamphlet",required:["title","date"],eitheror:["editor","author"],optional:["abstract","titleaddon","addendum","pages","pagination","howpublished","type","pubstate","chapter","doi","subtitle","language","langid","location","url","urldate","pagetotal","bookpagination","note","eprint","eprintclass","eprinttype","annotation","keywords"]},collection:{order:20,biblatex:"collection",csl:"dataset",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origdate","origlanguage","pages","pagination","pagetotal","bookpagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},mvcollection:{order:21,biblatex:"mvcollection",csl:"dataset",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","note","number","origdate","origlanguage","pagetotal","bookpagination","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volumes","annotation","keywords"]},incollection:{order:22,biblatex:"incollection",csl:"chapter",required:["title","editor","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origdate","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},suppcollection:{order:23,biblatex:"suppcollection",csl:"chapter",required:["title","editor","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origdate","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},post:{order:30,biblatex:"online",csl:"post",required:["date","title","url"],eitheror:["editor","author"],optional:["abstract","addendum","pubstate","subtitle","language","langid","urldate","titleaddon","version","note","organization","annotation","keywords"]},manual:{order:40,biblatex:"manual",csl:"book",required:["title","date"],eitheror:["editor","author"],optional:["abstract","addendum","chapter","doi","edition","eprint","eprintclass","eprinttype","isbn","language","langid","location","note","number","organization","pages","pagination","pagetotal","bookpagination","publisher","pubstate","series","subtitle","titleaddon","type","url","urldate","version","annotation","keywords"]},misc:{order:41,biblatex:"misc",csl:"article",required:["title","date"],eitheror:["editor","author"],optional:["abstract","addendum","howpublished","type","pubstate","organization","doi","subtitle","language","langid","location","url","urldate","titleaddon","version","note","eprint","eprintclass","eprinttype","annotation","keywords"]},online:{order:42,biblatex:"online",csl:"webpage",required:["date","title","url"],eitheror:["editor","author"],optional:["abstract","addendum","pubstate","subtitle","language","langid","urldate","titleaddon","version","note","organization","annotation","keywords"]},patent:{order:43,biblatex:"patent",csl:"patent",required:["title","number","author","date"],eitheror:[],optional:["abstract","addendum","holder","location","pubstate","doi","subtitle","titleaddon","type","url","urldate","version","note","eprint","eprintclass","eprinttype","annotation","keywords"]},periodical:{order:50,biblatex:"periodical",csl:"book",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","volume","pubstate","number","series","issn","issue","issuesubtitle","issuetitle","doi","subtitle","editora","editorb","editorc","url","urldate","language","langid","note","eprint","eprintclass","eprinttype","annotation","keywords"]},suppperiodical:{order:51,biblatex:"suppperiodical",csl:"article",required:["journaltitle","title","author","date"],eitheror:[],optional:["abstract","addendum","annotator","commentator","doi","editor","editora","editorb","editorc","eid","eprint","eprintclass","eprinttype","issn","issue","issuesubtitle","issuetitle","journalsubtitle","language","langid","note","number","origdate","origlanguage","pages","pagination","pubstate","series","subtitle","titleaddon","translator","url","urldate","version","volume","annotation","keywords"]},proceedings:{order:60,biblatex:"proceedings",csl:"book",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","chapter","doi","eprint","eprintclass","eprinttype","eventdate","eventtitle","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","organization","pages","pagination","pagetotal","bookpagination","part","publisher","pubstate","series","subtitle","titleaddon","url","urldate","venue","volume","volumes","annotation","keywords"]},mvproceedings:{order:61,biblatex:"mvproceedings",csl:"book",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","doi","eprint","eprintclass","eprinttype","eventdate","eventtitle","isbn","language","langid","location","note","number","organization","pagetotal","bookpagination","publisher","pubstate","series","subtitle","titleaddon","url","urldate","venue","volumes","annotation","keywords"]},inproceedings:{order:62,biblatex:"inproceedings",csl:"paper-conference",required:["title","editor","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","booksubtitle","booktitleaddon","chapter","doi","eprint","eprintclass","eprinttype","eventdate","eventtitle","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","organization","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","url","urldate","venue","volume","volumes","annotation","keywords"]},reference:{order:70,biblatex:"book",csl:"reference",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origdate","origlanguage","pages","pagination","pagetotal","bookpagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},mvreference:{order:71,biblatex:"mvreference",csl:"book",required:["editor","title","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","note","number","origdate","origlanguage","pagetotal","bookpagination","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volumes","annotation","keywords"]},inreference:{order:72,biblatex:"inreference",csl:"entry-encyclopedia",required:["title","editor","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origdate","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},"entry-encyclopedia":{order:73,biblatex:"inreference",csl:"entry-encyclopedia",required:["title","editor","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origdate","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},"entry-dictionary":{order:74,biblatex:"inreference",csl:"entry-dictionary",required:["title","editor","booktitle","author","date"],eitheror:[],optional:["abstract","addendum","afterword","annotator","booksubtitle","booktitleaddon","chapter","commentator","doi","edition","editora","editorb","editorc","eprint","eprintclass","eprinttype","foreword","introduction","isbn","language","langid","location","mainsubtitle","maintitle","maintitleaddon","note","number","origdate","origlanguage","pages","pagination","part","publisher","pubstate","series","subtitle","titleaddon","translator","url","urldate","volume","volumes","annotation","keywords"]},report:{order:80,biblatex:"report",csl:"report",required:["author","title","type","institution","date"],eitheror:[],optional:["abstract","addendum","pages","pagination","pagetotal","bookpagination","pubstate","number","isrn","chapter","doi","subtitle","language","langid","location","url","urldate","titleaddon","version","note","eprint","eprintclass","eprinttype","annotation","keywords"]},thesis:{order:81,biblatex:"thesis",csl:"thesis",required:["author","title","type","institution","date"],eitheror:[],optional:["abstract","addendum","pages","pagination","pagetotal","bookpagination","pubstate","isbn","chapter","doi","subtitle","language","langid","location","url","urldate","titleaddon","note","eprint","eprintclass","eprinttype","annotation","keywords"]},unpublished:{order:90,biblatex:"unpublished",csl:"manuscript",required:["title","author","date"],eitheror:[],optional:["abstract","addendum","howpublished","pubstate","isbn","date","subtitle","language","langid","location","url","urldate","titleaddon","note","annotation","keywords"]}},$s={address:"location",annote:"annotation",archiveprefix:"eprinttype",journal:"journaltitle",pdf:"file",primaryclass:"eprintclass",school:"institution"},Ws={conference:["inproceedings"],electronic:["online"],mastersthesis:["thesis"],phdthesis:["thesis"],techreport:["report"],www:["online"],periodical:["article"],suppperiodical:["article"],newsarticle:["article","newspaper"]},Us={langamerican:"american",langbrazilian:"brazilian",langcatalan:"catalan",langcroation:"croation",langczech:"czech",langdanish:"danish",langdutch:"dutch",langenglish:"english",langfinnish:"finnish",langfrench:"french",langgerman:"german",langgreek:"greek",langitalian:"italian",langlatin:"latin",langnorwegian:"norwegian",langpolish:"polish",langportuguese:"portuguese",langrussian:"russian",langslovene:"slovene",langspanish:"spanish",langswedish:"swedish"},Vs={language:Us,origlanguage:Us,langid:{english:"usenglish",american:"usenglish",en:"usenglish",eng:"usenglish","en-US":"usenglish",anglais:"usenglish",british:"ukenglish","en-GB":"ukenglish",francais:"french",austrian:"naustrian",german:"ngerman",germanb:"ngerman",polutonikogreek:"greek",brazil:"brazilian",portugues:"portuguese",chinese:"pinyin"}},Hs=[{tex:/\\\^A|\\\^\{A\}/,unicode:""},{tex:/\\\^a|\\\^\{a\}/,unicode:""},{tex:/\\\^C|\\\^\{C\}/,unicode:""},{tex:/\\\^c|\\\^\{c\}/,unicode:""},{tex:/\\\^E|\\\^\{E\}/,unicode:""},{tex:/\\\^e|\\\^\{e\}/,unicode:""},{tex:/\\\^G|\\\^\{G\}/,unicode:""},{tex:/\\\^g|\\\^\{g\}/,unicode:""},{tex:/\\\^H|\\\^\{H\}/,unicode:""},{tex:/\\\^h|\\\^\{h\}/,unicode:""},{tex:/\\\^I|\\\^\{I\}/,unicode:""},{tex:/\\\^\\i|\\\^\{\\i\}/,unicode:""},{tex:/\\\^J|\\\^\{J\}/,unicode:""},{tex:/\\\^\\j|\\\^\{\\j\}/,unicode:""},{tex:/\\\^O|\\\^\{O\}/,unicode:""},{tex:/\\\^o|\\\^\{o\}/,unicode:""},{tex:/\\\^S|\\\^\{S\}/,unicode:""},{tex:/\\\^s|\\\^\{s\}/,unicode:""},{tex:/\\\^U|\\\^\{U\}/,unicode:""},{tex:/\\\^u|\\\^\{u\}/,unicode:""},{tex:/\\\^W|\\\^\{W\}/,unicode:""},{tex:/\\\^w|\\\^\{w\}/,unicode:""},{tex:/\\\^Y|\\\^\{Y\}/,unicode:""},{tex:/\\\^y|\\\^\{y\}/,unicode:""},{tex:/\\\.C|\\\.\{C\}/,unicode:""},{tex:/\\\.c|\\\.\{c\}/,unicode:""},{tex:/\\\.E|\\\.\{E\}/,unicode:""},{tex:/\\\.e|\\\.\{e\}/,unicode:""},{tex:/\\\.G|\\\.\{G\}/,unicode:""},{tex:/\\\.g|\\\.\{g\}/,unicode:""},{tex:/\\\.I|\\\.\{I\}/,unicode:""},{tex:/\\\.Z|\\\.\{Z\}/,unicode:""},{tex:/\\\.z|\\\.\{z\}/,unicode:""},{tex:/\\=A|\\=\{A\}/,unicode:""},{tex:/\\=a|\\=\{a\}/,unicode:""},{tex:/\\=E|\\=\{E\}/,unicode:""},{tex:/\\=e|\\=\{e\}/,unicode:""},{tex:/\\=I|\\=\{I\}/,unicode:""},{tex:/\\=\\i|\\=\{\\i\}/,unicode:""},{tex:/\\=O|\\=\{O\}/,unicode:""},{tex:/\\=o|\\=\{o\}/,unicode:""},{tex:/\\=U|\\=\{U\}/,unicode:""},{tex:/\\=u|\\=\{u\}/,unicode:""},{tex:/\\~A|\\~\{A\}/,unicode:""},{tex:/\\~a|\\~\{a\}/,unicode:""},{tex:/\\~I|\\~\{I\}/,unicode:""},{tex:/\\~\\i/,unicode:""},{tex:/\\~N|\\~\{N\}/,unicode:""},{tex:/\\~n|\\~\{n\}/,unicode:""},{tex:/\\~O|\\~\{O\}/,unicode:""},{tex:/\\~o|\\~\{o\}/,unicode:""},{tex:/\\~U|\\~\{U\}/,unicode:""},{tex:/\\~u|\\~\{u\}/,unicode:""},{tex:/\\`A|\\`\{A\}/,unicode:""},{tex:/\\`a|\\`\{a\}/,unicode:""},{tex:/\\`E|\\`\{E\}/,unicode:""},{tex:/\\`e|\\`\{e\}/,unicode:""},{tex:/\\`I|\\`\{I\}/,unicode:""},{tex:/\\`\\i|\\`i|\\`\{\\i\}|\\`\{i\}/,unicode:""},{tex:/\\`O|\\`\{O\}/,unicode:""},{tex:/\\`o|\\`\{o\}/,unicode:""},{tex:/\\`U|\\`\{U\}/,unicode:""},{tex:/\\`u|\\`\{u\}/,unicode:""},{tex:/\\"A|\\"\{A\}/,unicode:""},{tex:/\\"a|\\"\{a\}/,unicode:""},{tex:/\\"E|\\"\{E\}/,unicode:""},{tex:/\\"e|\\"\{e\}/,unicode:""},{tex:/\\"\\i|\\"\{\\i\}|\\"i|\\"\{i\}/,unicode:""},{tex:/\\"I|\\"\{I\}/,unicode:""},{tex:/\\"O|\\"\{O\}/,unicode:""},{tex:/\\"o|\\"\{o\}/,unicode:""},{tex:/\\"U|\\"\{U\}/,unicode:""},{tex:/\\"u|\\"\{u\}/,unicode:""},{tex:/\\"Y|\\"\{Y\}/,unicode:""},{tex:/\\"y|\\"\{y\}/,unicode:""},{tex:/\\'A|\\'\{A\}/,unicode:""},{tex:/\\'a|\\'\{a\}/,unicode:""},{tex:/\\'C|\\'\{C\}/,unicode:""},{tex:/\\'c|\\'\{c\}/,unicode:""},{tex:/\\'E|\\'\{E\}/,unicode:""},{tex:/\\'e|\\'\{e\}/,unicode:""},{tex:/\\'g|\\'\{g\}/,unicode:""},{tex:/\\'H|\\'\{H\}/,unicode:""},{tex:/\\'I|\\'\{I\}/,unicode:""},{tex:/\\'\\i|\\'i/,unicode:""},{tex:/\\'L|\\'\{L\}/,unicode:""},{tex:/\\'l|\\'\{l\}/,unicode:""},{tex:/\\'N|\\'\{N\}/,unicode:""},{tex:/\\'n|\\'\{n\}/,unicode:""},{tex:/\\'O|\\'\{O\}/,unicode:""},{tex:/\\'o|\\'\{o\}/,unicode:""},{tex:/\\'R|\\'\{R\}/,unicode:""},{tex:/\\'r|\\'\{r\}/,unicode:""},{tex:/\\'S|\\'\{S\}/,unicode:""},{tex:/\\'s|\\'\{s\}/,unicode:""},{tex:/\\'U|\\'\{U\}/,unicode:""},{tex:/\\'u|\\'\{u\}/,unicode:""},{tex:/\\'Y|\\'\{Y\}/,unicode:""},{tex:/\\'y|\\'\{y\}/,unicode:""},{tex:/\\'Z|\\'\{Z\}/,unicode:""},{tex:/\\'z|\\'\{z\}/,unicode:""},{tex:/\\c C|\\c\{C\}/,unicode:""},{tex:/\\c c|\\c\{c\}/,unicode:""},{tex:/\\c G|\\c\{G\}/,unicode:""},{tex:/\\c g|\\c\{g\}/,unicode:""},{tex:/\\c K|\\c\{K\}/,unicode:""},{tex:/\\c k|\\c\{k\}/,unicode:""},{tex:/\\c L|\\c\{L\}/,unicode:""},{tex:/\\c l|\\c\{l\}/,unicode:""},{tex:/\\c N|\\c\{N\}/,unicode:""},{tex:/\\c n|\\c\{n\}/,unicode:""},{tex:/\\c R|\\c\{R\}/,unicode:""},{tex:/\\c r|\\c\{r\}/,unicode:""},{tex:/\\c S|\\c\{S\}/,unicode:""},{tex:/\\c s|\\c\{s\}/,unicode:""},{tex:/\\c T|\\c\{T\}/,unicode:""},{tex:/\\c t|\\c\{t\}/,unicode:""},{tex:/\\H O|\\H\{O\}/,unicode:""},{tex:/\\H o|\\H\{o\}/,unicode:""},{tex:/\\H U|\\H\{U\}/,unicode:""},{tex:/\\H u|\\H\{u\}/,unicode:""},{tex:/\\k A|\\k\{A\}/,unicode:""},{tex:/\\k a|\\k\{a\}/,unicode:""},{tex:/\\k E|\\k\{E\}/,unicode:""},{tex:/\\k e|\\k\{e\}/,unicode:""},{tex:/\\k I|\\k\{I\}/,unicode:""},{tex:/\\k i|\\k\{i\}/,unicode:""},{tex:/\\k U|\\k\{U\}/,unicode:""},{tex:/\\k u|\\k\{u\}/,unicode:""},{tex:/\\r U|\\r\{U\}/,unicode:""},{tex:/\\r u|\\r\{u\}/,unicode:""},{tex:/\\u A|\\u\{A\}/,unicode:""},{tex:/\\u a|\\u\{a\}/,unicode:""},{tex:/\\u E|\\u\{E\}/,unicode:""},{tex:/\\u e|\\u\{e\}/,unicode:""},{tex:/\\u G|\\u\{G\}/,unicode:""},{tex:/\\u g|\\u\{g\}/,unicode:""},{tex:/\\u I|\\u\{I\}/,unicode:""},{tex:/\\u \\i/,unicode:""},{tex:/\\u O|\\u\{O\}/,unicode:""},{tex:/\\u o|\\u\{o\}/,unicode:""},{tex:/\\u U|\\u\{U\}/,unicode:""},{tex:/\\u u|\\u\{u\}/,unicode:""},{tex:/\\v A|\\v\{A\}/,unicode:""},{tex:/\\v a|\\v\{a\}/,unicode:""},{tex:/\\v C|\\v\{C\}/,unicode:""},{tex:/\\v c|\\v\{c\}/,unicode:""},{tex:/\\v D|\\v\{D\}/,unicode:""},{tex:/\\v d|\\v\{d\}/,unicode:""},{tex:/\\v E|\\v\{E\}/,unicode:""},{tex:/\\v e|\\v\{e\}/,unicode:""},{tex:/\\v I|\\v\{I\}/,unicode:""},{tex:/\\v i|\\v\{i\}/,unicode:""},{tex:/\\v L|\\v\{L\}/,unicode:""},{tex:/\\v l|\\v\{l\}/,unicode:""},{tex:/\\v N|\\v\{N\}/,unicode:""},{tex:/\\v n|\\v\{n\}/,unicode:""},{tex:/\\v O|\\v\{O\}/,unicode:""},{tex:/\\v o|\\v\{o\}/,unicode:""},{tex:/\\v R|\\v\{R\}/,unicode:""},{tex:/\\v r|\\v\{r\}/,unicode:""},{tex:/\\v S|\\v\{S\}/,unicode:""},{tex:/\\v s|\\v\{s\}/,unicode:""},{tex:/\\v T|\\v\{T\}/,unicode:""},{tex:/\\v t|\\v\{t\}/,unicode:""},{tex:/\\v U|\\v\{U\}/,unicode:""},{tex:/\\v u|\\v\{u\}/,unicode:""},{tex:/\\v Z|\\v\{Z\}/,unicode:""},{tex:/\\v z|\\v\{z\}/,unicode:""},{tex:/\\texteuro|\{\\mbox\{\\texteuro\}\}|\\mbox\{\\texteuro\}/,unicode:""},{tex:/\{\\fontencoding\{LECO\}\\selectfont\\char220\}|\\fontencoding\{LECO\}\\selectfont\\char220/,unicode:""},{tex:/\{\\fontencoding\{LECO\}\\selectfont\\char225\}|\\fontencoding\{LECO\}\\selectfont\\char225/,unicode:""},{tex:/\{\\fontencoding\{LELA\}\\selectfont\\char201\}|\\fontencoding\{LELA\}\\selectfont\\char201/,unicode:""},{tex:/\{\\fontencoding\{LECO\}\\selectfont\\char218\}|\\fontencoding\{LECO\}\\selectfont\\char218/,unicode:""},{tex:/\{\\fontencoding\{LELA\}\\selectfont\\char202\}|\\fontencoding\{LELA\}\\selectfont\\char202/,unicode:""},{tex:/\{\\fontencoding\{LECO\}\\selectfont\\char207\}|\\fontencoding\{LECO\}\\selectfont\\char207/,unicode:""},{tex:/\{\\fontencoding\{LECO\}\\selectfont\\char203\}|\\fontencoding\{LECO\}\\selectfont\\char203/,unicode:""},{tex:/\{\\fontencoding\{LECO\}\\selectfont\\char185\}|\\fontencoding\{LECO\}\\selectfont\\char185/,unicode:""},{tex:/\{\\fontencoding\{LEIP\}\\selectfont\\char202\}|\\fontencoding\{LEIP\}\\selectfont\\char202/,unicode:""},{tex:/\{\\fontencoding\{LECO\}\\selectfont\\char184\}|\\fontencoding\{LECO\}\\selectfont\\char184/,unicode:""},{tex:/\{\\fontencoding\{LECO\}\\selectfont\\char177\}|\\fontencoding\{LECO\}\\selectfont\\char177/,unicode:""},{tex:/\{\\fontencoding\{LELA\}\\selectfont\\char195\}|\\fontencoding\{LELA\}\\selectfont\\char195/,unicode:""},{tex:/\{\\fontencoding\{LECO\}\\selectfont\\char215\}|\\fontencoding\{LECO\}\\selectfont\\char215/,unicode:""},{tex:/\{\\fontencoding\{LECO\}\\selectfont\\char216\}|\\fontencoding\{LECO\}\\selectfont\\char216/,unicode:""},{tex:/\{\\fontencoding\{LECO\}\\selectfont\\char219\}|\\fontencoding\{LECO\}\\selectfont\\char219/,unicode:""},{tex:/\{\\fontencoding\{LECO\}\\selectfont\\char221\}|\\fontencoding\{LECO\}\\selectfont\\char221/,unicode:""},{tex:/\{\\fontencoding\{LEIP\}\\selectfont\\char61\}|\\fontencoding\{LEIP\}\\selectfont\\char61/,unicode:""},{tex:/\{\\fontencoding\{LELA\}\\selectfont\\char63\}|\\fontencoding\{LELA\}\\selectfont\\char63/,unicode:""},{tex:/\{\\fontencoding\{LELA\}\\selectfont\\char91\}|\\fontencoding\{LELA\}\\selectfont\\char91/,unicode:""},{tex:/\{\\fontencoding\{LELA\}\\selectfont\\char40\}|\\fontencoding\{LELA\}\\selectfont\\char40/,unicode:""},{tex:/\{\\fontencoding\{LELA\}\\selectfont\\char47\}|\\fontencoding\{LELA\}\\selectfont\\char47/,unicode:""},{tex:/\\mathbin\{\{:\}\\!\\!\{-\}\\!\\!\{:\}\}/,unicode:""},{tex:/\\mathbit\{A\}/,unicode:""},{tex:/\\mathbit\{a\}/,unicode:""},{tex:/\\mathbit\{B\}/,unicode:""},{tex:/\\mathbit\{b\}/,unicode:""},{tex:/\\mathbit\{C\}/,unicode:""},{tex:/\\mathbit\{c\}/,unicode:""},{tex:/\\mathbit\{\\Delta\}/,unicode:""},{tex:/\\mathbit\{D\}/,unicode:""},{tex:/\\mathbit\{d\}/,unicode:""},{tex:/\\mathbit\{E\}/,unicode:""},{tex:/\\mathbit\{e\}/,unicode:""},{tex:/\\mathbit\{F\}/,unicode:""},{tex:/\\mathbit\{f\}/,unicode:""},{tex:/\\mathbit\{\\Gamma\}/,unicode:""},{tex:/\\mathbit\{G\}/,unicode:""},{tex:/\\mathbit\{g\}/,unicode:""},{tex:/\\mathbit\{H\}/,unicode:""},{tex:/\\mathbit\{h\}/,unicode:""},{tex:/\\mathbit\{I\}/,unicode:""},{tex:/\\mathbit\{i\}/,unicode:""},{tex:/\\mathbit\{J\}/,unicode:""},{tex:/\\mathbit\{j\}/,unicode:""},{tex:/\\mathbit\{K\}/,unicode:""},{tex:/\\mathbit\{k\}/,unicode:""},{tex:/\\mathbit\{\\Lambda\}/,unicode:""},{tex:/\\mathbit\{L\}/,unicode:""},{tex:/\\mathbit\{l\}/,unicode:""},{tex:/\\mathbit\{M\}/,unicode:""},{tex:/\\mathbit\{m\}/,unicode:""},{tex:/\\mathbit\{\\nabla\}/,unicode:""},{tex:/\\mathbit\{N\}/,unicode:""},{tex:/\\mathbit\{n\}/,unicode:""},{tex:/\\mathbit\{\\Omega\}/,unicode:""},{tex:/\\mathbit\{O\}/,unicode:""},{tex:/\\mathbit\{o\}/,unicode:""},{tex:/\\mathbit\{\\Phi\}/,unicode:""},{tex:/\\mathbit\{\\phi\}/,unicode:""},{tex:/\\mathbit\{\\Pi\}/,unicode:""},{tex:/\\mathbit\{\\Psi\}/,unicode:""},{tex:/\\mathbit\{P\}/,unicode:""},{tex:/\\mathbit\{p\}/,unicode:""},{tex:/\\mathbit\{Q\}/,unicode:""},{tex:/\\mathbit\{q\}/,unicode:""},{tex:/\\mathbit\{R\}/,unicode:""},{tex:/\\mathbit\{r\}/,unicode:""},{tex:/\\mathbit\{\\Sigma\}/,unicode:""},{tex:/\\mathbit\{S\}/,unicode:""},{tex:/\\mathbit\{s\}/,unicode:""},{tex:/\\mathbit\{\\Theta\}/,unicode:""},{tex:/\\mathbit\{T\}/,unicode:""},{tex:/\\mathbit\{t\}/,unicode:""},{tex:/\\mathbit\{\\Upsilon\}/,unicode:""},{tex:/\\mathbit\{U\}/,unicode:""},{tex:/\\mathbit\{u\}/,unicode:""},{tex:/\\mathbit\{\\varkappa\}/,unicode:""},{tex:/\\mathbit\{\\varpi\}/,unicode:""},{tex:/\\mathbit\{\\varrho\}/,unicode:""},{tex:/\\mathbit\{\\varsigma\}/,unicode:""},{tex:/\\mathbit\{\\vartheta\}/,unicode:""},{tex:/\\mathbit\{V\}/,unicode:""},{tex:/\\mathbit\{v\}/,unicode:""},{tex:/\\mathbit\{W\}/,unicode:""},{tex:/\\mathbit\{w\}/,unicode:""},{tex:/\\mathbit\{\\Xi\}/,unicode:""},{tex:/\\mathbit\{X\}/,unicode:""},{tex:/\\mathbit\{x\}/,unicode:""},{tex:/\\mathbit\{Y\}/,unicode:""},{tex:/\\mathbit\{y\}/,unicode:""},{tex:/\\mathbit\{Z\}/,unicode:""},{tex:/\\mathbit\{z\}/,unicode:""},{tex:/\\mathsfbfsl\{A\}/,unicode:""},{tex:/\\mathsfbfsl\{a\}/,unicode:""},{tex:/\\mathsfbfsl\{B\}/,unicode:""},{tex:/\\mathsfbfsl\{b\}/,unicode:""},{tex:/\\mathsfbfsl\{C\}/,unicode:""},{tex:/\\mathsfbfsl\{c\}/,unicode:""},{tex:/\\mathsfbfsl\{\\Delta\}/,unicode:""},{tex:/\\mathsfbfsl\{D\}/,unicode:""},{tex:/\\mathsfbfsl\{d\}/,unicode:""},{tex:/\\mathsfbfsl\{E\}/,unicode:""},{tex:/\\mathsfbfsl\{e\}/,unicode:""},{tex:/\\mathsfbfsl\{F\}/,unicode:""},{tex:/\\mathsfbfsl\{f\}/,unicode:""},{tex:/\\mathsfbfsl\{\\Gamma\}/,unicode:""},{tex:/\\mathsfbfsl\{G\}/,unicode:""},{tex:/\\mathsfbfsl\{g\}/,unicode:""},{tex:/\\mathsfbfsl\{H\}/,unicode:""},{tex:/\\mathsfbfsl\{h\}/,unicode:""},{tex:/\\mathsfbfsl\{I\}/,unicode:""},{tex:/\\mathsfbfsl\{i\}/,unicode:""},{tex:/\\mathsfbfsl\{J\}/,unicode:""},{tex:/\\mathsfbfsl\{j\}/,unicode:""},{tex:/\\mathsfbfsl\{K\}/,unicode:""},{tex:/\\mathsfbfsl\{k\}/,unicode:""},{tex:/\\mathsfbfsl\{\\Lambda\}/,unicode:""},{tex:/\\mathsfbfsl\{L\}/,unicode:""},{tex:/\\mathsfbfsl\{l\}/,unicode:""},{tex:/\\mathsfbfsl\{M\}/,unicode:""},{tex:/\\mathsfbfsl\{m\}/,unicode:""},{tex:/\\mathsfbfsl\{\\nabla\}/,unicode:""},{tex:/\\mathsfbfsl\{N\}/,unicode:""},{tex:/\\mathsfbfsl\{n\}/,unicode:""},{tex:/\\mathsfbfsl\{\\Omega\}/,unicode:""},{tex:/\\mathsfbfsl\{O\}/,unicode:""},{tex:/\\mathsfbfsl\{o\}/,unicode:""},{tex:/\\mathsfbfsl\{\\Phi\}/,unicode:""},{tex:/\\mathsfbfsl\{\\phi\}/,unicode:""},{tex:/\\mathsfbfsl\{\\Pi\}/,unicode:""},{tex:/\\mathsfbfsl\{\\Psi\}/,unicode:""},{tex:/\\mathsfbfsl\{P\}/,unicode:""},{tex:/\\mathsfbfsl\{p\}/,unicode:""},{tex:/\\mathsfbfsl\{Q\}/,unicode:""},{tex:/\\mathsfbfsl\{q\}/,unicode:""},{tex:/\\mathsfbfsl\{R\}/,unicode:""},{tex:/\\mathsfbfsl\{r\}/,unicode:""},{tex:/\\mathsfbfsl\{\\Sigma\}/,unicode:""},{tex:/\\mathsfbfsl\{S\}/,unicode:""},{tex:/\\mathsfbfsl\{s\}/,unicode:""},{tex:/\\mathsfbfsl\{T\}/,unicode:""},{tex:/\\mathsfbfsl\{t\}/,unicode:""},{tex:/\\mathsfbfsl\{\\Upsilon\}/,unicode:""},{tex:/\\mathsfbfsl\{U\}/,unicode:""},{tex:/\\mathsfbfsl\{u\}/,unicode:""},{tex:/\\mathsfbfsl\{\\varkappa\}/,unicode:""},{tex:/\\mathsfbfsl\{\\varpi\}/,unicode:""},{tex:/\\mathsfbfsl\{\\varrho\}/,unicode:""},{tex:/\\mathsfbfsl\{\\varsigma\}/,unicode:""},{tex:/\\mathsfbfsl\{\\vartheta\}/,unicode:""},{tex:/\\mathsfbfsl\{V\}/,unicode:""},{tex:/\\mathsfbfsl\{v\}/,unicode:""},{tex:/\\mathsfbfsl\{W\}/,unicode:""},{tex:/\\mathsfbfsl\{w\}/,unicode:""},{tex:/\\mathsfbfsl\{\\Xi\}/,unicode:""},{tex:/\\mathsfbfsl\{X\}/,unicode:""},{tex:/\\mathsfbfsl\{x\}/,unicode:""},{tex:/\\mathsfbfsl\{Y\}/,unicode:""},{tex:/\\mathsfbfsl\{y\}/,unicode:""},{tex:/\\mathsfbfsl\{Z\}/,unicode:""},{tex:/\\mathsfbfsl\{z\}/,unicode:""},{tex:/\\mathsfbf\{0\}/,unicode:""},{tex:/\\mathsfbf\{1\}/,unicode:""},{tex:/\\mathsfbf\{2\}/,unicode:""},{tex:/\\mathsfbf\{3\}/,unicode:""},{tex:/\\mathsfbf\{4\}/,unicode:""},{tex:/\\mathsfbf\{5\}/,unicode:""},{tex:/\\mathsfbf\{6\}/,unicode:""},{tex:/\\mathsfbf\{7\}/,unicode:""},{tex:/\\mathsfbf\{8\}/,unicode:""},{tex:/\\mathsfbf\{9\}/,unicode:""},{tex:/\\mathsfbf\{A\}/,unicode:""},{tex:/\\mathsfbf\{a\}/,unicode:""},{tex:/\\mathsfbf\{B\}/,unicode:""},{tex:/\\mathsfbf\{b\}/,unicode:""},{tex:/\\mathsfbf\{C\}/,unicode:""},{tex:/\\mathsfbf\{c\}/,unicode:""},{tex:/\\mathsfbf\{\\Delta\}/,unicode:""},{tex:/\\mathsfbf\{D\}/,unicode:""},{tex:/\\mathsfbf\{d\}/,unicode:""},{tex:/\\mathsfbf\{E\}/,unicode:""},{tex:/\\mathsfbf\{e\}/,unicode:""},{tex:/\\mathsfbf\{F\}/,unicode:""},{tex:/\\mathsfbf\{f\}/,unicode:""},{tex:/\\mathsfbf\{\\Gamma\}/,unicode:""},{tex:/\\mathsfbf\{G\}/,unicode:""},{tex:/\\mathsfbf\{g\}/,unicode:""},{tex:/\\mathsfbf\{H\}/,unicode:""},{tex:/\\mathsfbf\{h\}/,unicode:""},{tex:/\\mathsfbf\{I\}/,unicode:""},{tex:/\\mathsfbf\{i\}/,unicode:""},{tex:/\\mathsfbf\{J\}/,unicode:""},{tex:/\\mathsfbf\{j\}/,unicode:""},{tex:/\\mathsfbf\{K\}/,unicode:""},{tex:/\\mathsfbf\{k\}/,unicode:""},{tex:/\\mathsfbf\{\\Lambda\}/,unicode:""},{tex:/\\mathsfbf\{L\}/,unicode:""},{tex:/\\mathsfbf\{l\}/,unicode:""},{tex:/\\mathsfbf\{M\}/,unicode:""},{tex:/\\mathsfbf\{m\}/,unicode:""},{tex:/\\mathsfbf\{\\nabla\}/,unicode:""},{tex:/\\mathsfbf\{N\}/,unicode:""},{tex:/\\mathsfbf\{n\}/,unicode:""},{tex:/\\mathsfbf\{\\Omega\}/,unicode:""},{tex:/\\mathsfbf\{O\}/,unicode:""},{tex:/\\mathsfbf\{o\}/,unicode:""},{tex:/\\mathsfbf\{\\Phi\}/,unicode:""},{tex:/\\mathsfbf\{\\phi\}/,unicode:""},{tex:/\\mathsfbf\{\\Pi\}/,unicode:""},{tex:/\\mathsfbf\{\\Psi\}/,unicode:""},{tex:/\\mathsfbf\{P\}/,unicode:""},{tex:/\\mathsfbf\{p\}/,unicode:""},{tex:/\\mathsfbf\{Q\}/,unicode:""},{tex:/\\mathsfbf\{q\}/,unicode:""},{tex:/\\mathsfbf\{R\}/,unicode:""},{tex:/\\mathsfbf\{r\}/,unicode:""},{tex:/\\mathsfbf\{\\Sigma\}/,unicode:""},{tex:/\\mathsfbf\{S\}/,unicode:""},{tex:/\\mathsfbf\{s\}/,unicode:""},{tex:/\\mathsfbf\{\\Theta\}/,unicode:""},{tex:/\\mathsfbf\{T\}/,unicode:""},{tex:/\\mathsfbf\{t\}/,unicode:""},{tex:/\\mathsfbf\{\\Upsilon\}/,unicode:""},{tex:/\\mathsfbf\{U\}/,unicode:""},{tex:/\\mathsfbf\{u\}/,unicode:""},{tex:/\\mathsfbf\{\\varkappa\}/,unicode:""},{tex:/\\mathsfbf\{\\varpi\}/,unicode:""},{tex:/\\mathsfbf\{\\varrho\}/,unicode:""},{tex:/\\mathsfbf\{\\varsigma\}/,unicode:""},{tex:/\\mathsfbf\{\\vartheta\}/,unicode:""},{tex:/\\mathsfbf\{V\}/,unicode:""},{tex:/\\mathsfbf\{v\}/,unicode:""},{tex:/\\mathsfbf\{W\}/,unicode:""},{tex:/\\mathsfbf\{w\}/,unicode:""},{tex:/\\mathsfbf\{\\Xi\}/,unicode:""},{tex:/\\mathsfbf\{X\}/,unicode:""},{tex:/\\mathsfbf\{x\}/,unicode:""},{tex:/\\mathsfbf\{Y\}/,unicode:""},{tex:/\\mathsfbf\{y\}/,unicode:""},{tex:/\\mathsfbf\{Z\}/,unicode:""},{tex:/\\mathsfbf\{z\}/,unicode:""},{tex:/\\mathrm\{\\ddot\{I\}\}/,unicode:""},{tex:/\\mathrm\{\\ddot\{Y\}\}/,unicode:""},{tex:/\\mathrm\{\\mu\}/,unicode:""},{tex:/\\mathrm\{'\\Omega\}/,unicode:""},{tex:/\\mathrm\{'Y\}/,unicode:""},{tex:/\\mathrm/,unicode:""},{tex:/\\mathsl\{A\}/,unicode:""},{tex:/\\mathsl\{a\}/,unicode:""},{tex:/\\mathsl\{B\}/,unicode:""},{tex:/\\mathsl\{b\}/,unicode:""},{tex:/\\mathsl\{C\}/,unicode:""},{tex:/\\mathsl\{c\}/,unicode:""},{tex:/\\mathsl\{\\Delta\}/,unicode:""},{tex:/\\mathsl\{D\}/,unicode:""},{tex:/\\mathsl\{d\}/,unicode:""},{tex:/\\mathsl\{E\}/,unicode:""},{tex:/\\mathsl\{e\}/,unicode:""},{tex:/\\mathsl\{F\}/,unicode:""},{tex:/\\mathsl\{f\}/,unicode:""},{tex:/\\mathsl\{\\Gamma\}/,unicode:""},{tex:/\\mathsl\{G\}/,unicode:""},{tex:/\\mathsl\{g\}/,unicode:""},{tex:/\\mathsl\{H\}/,unicode:""},{tex:/\\mathsl\{I\}/,unicode:""},{tex:/\\mathsl\{i\}/,unicode:""},{tex:/\\mathsl\{J\}/,unicode:""},{tex:/\\mathsl\{j\}/,unicode:""},{tex:/\\mathsl\{K\}/,unicode:""},{tex:/\\mathsl\{k\}/,unicode:""},{tex:/\\mathsl\{\\Lambda\}/,unicode:""},{tex:/\\mathsl\{L\}/,unicode:""},{tex:/\\mathsl\{l\}/,unicode:""},{tex:/\\mathsl\{M\}/,unicode:""},{tex:/\\mathsl\{m\}/,unicode:""},{tex:/\\mathsl\{\\nabla\}/,unicode:""},{tex:/\\mathsl\{N\}/,unicode:""},{tex:/\\mathsl\{n\}/,unicode:""},{tex:/\\mathsl\{\\Omega\}/,unicode:""},{tex:/\\mathsl\{O\}/,unicode:""},{tex:/\\mathsl\{o\}/,unicode:""},{tex:/\\mathsl\{\\Phi\}/,unicode:""},{tex:/\\mathsl\{\\phi\}/,unicode:""},{tex:/\\mathsl\{\\Pi\}/,unicode:""},{tex:/\\mathsl\{\\Psi\}/,unicode:""},{tex:/\\mathsl\{P\}/,unicode:""},{tex:/\\mathsl\{p\}/,unicode:""},{tex:/\\mathsl\{Q\}/,unicode:""},{tex:/\\mathsl\{q\}/,unicode:""},{tex:/\\mathsl\{R\}/,unicode:""},{tex:/\\mathsl\{r\}/,unicode:""},{tex:/\\mathsl\{\\Sigma\}/,unicode:""},{tex:/\\mathsl\{S\}/,unicode:""},{tex:/\\mathsl\{s\}/,unicode:""},{tex:/\\mathsl\{\\Theta\}/,unicode:""},{tex:/\\mathsl\{T\}/,unicode:""},{tex:/\\mathsl\{t\}/,unicode:""},{tex:/\\mathsl\{\\Upsilon\}/,unicode:""},{tex:/\\mathsl\{U\}/,unicode:""},{tex:/\\mathsl\{u\}/,unicode:""},{tex:/\\mathsl\{\\varkappa\}/,unicode:""},{tex:/\\mathsl\{\\varpi\}/,unicode:""},{tex:/\\mathsl\{\\varrho\}/,unicode:""},{tex:/\\mathsl\{\\varsigma\}/,unicode:""},{tex:/\\mathsl\{\\vartheta\}/,unicode:""},{tex:/\\mathsl\{V\}/,unicode:""},{tex:/\\mathsl\{v\}/,unicode:""},{tex:/\\mathsl\{W\}/,unicode:""},{tex:/\\mathsl\{w\}/,unicode:""},{tex:/\\mathsl\{\\Xi\}/,unicode:""},{tex:/\\mathsl\{X\}/,unicode:""},{tex:/\\mathsl\{x\}/,unicode:""},{tex:/\\mathsl\{Y\}/,unicode:""},{tex:/\\mathsl\{y\}/,unicode:""},{tex:/\\mathsl\{Z\}/,unicode:""},{tex:/\\mathsl\{z\}/,unicode:""},{tex:/\\mathbf\{0\}/,unicode:""},{tex:/\\mathbf\{1\}/,unicode:""},{tex:/\\mathbf\{2\}/,unicode:""},{tex:/\\mathbf\{3\}/,unicode:""},{tex:/\\mathbf\{4\}/,unicode:""},{tex:/\\mathbf\{5\}/,unicode:""},{tex:/\\mathbf\{6\}/,unicode:""},{tex:/\\mathbf\{7\}/,unicode:""},{tex:/\\mathbf\{8\}/,unicode:""},{tex:/\\mathbf\{9\}/,unicode:""},{tex:/\\mathbf\{A\}/,unicode:""},{tex:/\\mathbf\{a\}/,unicode:""},{tex:/\\mathbf\{B\}/,unicode:""},{tex:/\\mathbf\{b\}/,unicode:""},{tex:/\\mathbf\{C\}/,unicode:""},{tex:/\\mathbf\{c\}/,unicode:""},{tex:/\\mathbf\{\\Delta\}/,unicode:""},{tex:/\\mathbf\{D\}/,unicode:""},{tex:/\\mathbf\{d\}/,unicode:""},{tex:/\\mathbf\{E\}/,unicode:""},{tex:/\\mathbf\{e\}/,unicode:""},{tex:/\\mathbf\{F\}/,unicode:""},{tex:/\\mathbf\{f\}/,unicode:""},{tex:/\\mathbf\{\\Gamma\}/,unicode:""},{tex:/\\mathbf\{G\}/,unicode:""},{tex:/\\mathbf\{g\}/,unicode:""},{tex:/\\mathbf\{H\}/,unicode:""},{tex:/\\mathbf\{h\}/,unicode:""},{tex:/\\mathbf\{I\}/,unicode:""},{tex:/\\mathbf\{i\}/,unicode:""},{tex:/\\mathbf\{J\}/,unicode:""},{tex:/\\mathbf\{j\}/,unicode:""},{tex:/\\mathbf\{K\}/,unicode:""},{tex:/\\mathbf\{k\}/,unicode:""},{tex:/\\mathbf\{\\Lambda\}/,unicode:""},{tex:/\\mathbf\{L\}/,unicode:""},{tex:/\\mathbf\{l\}/,unicode:""},{tex:/\\mathbf\{M\}/,unicode:""},{tex:/\\mathbf\{m\}/,unicode:""},{tex:/\\mathbf\{\\nabla\}/,unicode:""},{tex:/\\mathbf\{N\}/,unicode:""},{tex:/\\mathbf\{n\}/,unicode:""},{tex:/\\mathbf\{\\Omega\}/,unicode:""},{tex:/\\mathbf\{O\}/,unicode:""},{tex:/\\mathbf\{o\}/,unicode:""},{tex:/\\mathbf\{\\Phi\}/,unicode:""},{tex:/\\mathbf\{\\phi\}/,unicode:""},{tex:/\\mathbf\{\\Pi\}/,unicode:""},{tex:/\\mathbf\{\\Psi\}/,unicode:""},{tex:/\\mathbf\{P\}/,unicode:""},{tex:/\\mathbf\{p\}/,unicode:""},{tex:/\\mathbf\{Q\}/,unicode:""},{tex:/\\mathbf\{q\}/,unicode:""},{tex:/\\mathbf\{R\}/,unicode:""},{tex:/\\mathbf\{r\}/,unicode:""},{tex:/\\mathbf\{\\Sigma\}/,unicode:""},{tex:/\\mathbf\{S\}/,unicode:""},{tex:/\\mathbf\{s\}/,unicode:""},{tex:/\\mathbf\{\\Theta\}/,unicode:""},{tex:/\\mathbf\{\\theta\}/,unicode:""},{tex:/\\mathbf\{T\}/,unicode:""},{tex:/\\mathbf\{t\}/,unicode:""},{tex:/\\mathbf\{\\Upsilon\}/,unicode:""},{tex:/\\mathbf\{U\}/,unicode:""},{tex:/\\mathbf\{u\}/,unicode:""},{tex:/\\mathbf\{\\varkappa\}/,unicode:""},{tex:/\\mathbf\{\\varpi\}/,unicode:""},{tex:/\\mathbf\{\\varrho\}/,unicode:""},{tex:/\\mathbf\{\\varsigma\}/,unicode:""},{tex:/\\mathbf\{\\vartheta\}/,unicode:""},{tex:/\\mathbf\{V\}/,unicode:""},{tex:/\\mathbf\{v\}/,unicode:""},{tex:/\\mathbf\{W\}/,unicode:""},{tex:/\\mathbf\{w\}/,unicode:""},{tex:/\\mathbf\{\\Xi\}/,unicode:""},{tex:/\\mathbf\{X\}/,unicode:""},{tex:/\\mathbf\{x\}/,unicode:""},{tex:/\\mathbf\{Y\}/,unicode:""},{tex:/\\mathbf\{y\}/,unicode:""},{tex:/\\mathbf\{Z\}/,unicode:""},{tex:/\\mathbf\{z\}/,unicode:""},{tex:/\\mathbb\{0\}/,unicode:""},{tex:/\\mathbb\{1\}/,unicode:""},{tex:/\\mathbb\{2\}/,unicode:""},{tex:/\\mathbb\{3\}/,unicode:""},{tex:/\\mathbb\{4\}/,unicode:""},{tex:/\\mathbb\{5\}/,unicode:""},{tex:/\\mathbb\{6\}/,unicode:""},{tex:/\\mathbb\{7\}/,unicode:""},{tex:/\\mathbb\{8\}/,unicode:""},{tex:/\\mathbb\{9\}/,unicode:""},{tex:/\\mathbb\{A\}/,unicode:""},{tex:/\\mathbb\{a\}/,unicode:""},{tex:/\\mathbb\{B\}/,unicode:""},{tex:/\\mathbb\{b\}/,unicode:""},{tex:/\\mathbb\{C\}/,unicode:""},{tex:/\\mathbb\{c\}/,unicode:""},{tex:/\\mathbb\{D\}/,unicode:""},{tex:/\\mathbb\{d\}/,unicode:""},{tex:/\\mathbb\{E\}/,unicode:""},{tex:/\\mathbb\{e\}/,unicode:""},{tex:/\\mathbb\{F\}/,unicode:""},{tex:/\\mathbb\{f\}/,unicode:""},{tex:/\\mathbb\{\\gamma\}/,unicode:""},{tex:/\\mathbb\{\\Gamma\}/,unicode:""},{tex:/\\mathbb\{G\}/,unicode:""},{tex:/\\mathbb\{g\}/,unicode:""},{tex:/\\mathbb\{H\}/,unicode:""},{tex:/\\mathbb\{h\}/,unicode:""},{tex:/\\mathbb\{I\}/,unicode:""},{tex:/\\mathbb\{i\}/,unicode:""},{tex:/\\mathbb\{J\}/,unicode:""},{tex:/\\mathbb\{j\}/,unicode:""},{tex:/\\mathbb\{K\}/,unicode:""},{tex:/\\mathbb\{k\}/,unicode:""},{tex:/\\mathbb\{L\}/,unicode:""},{tex:/\\mathbb\{l\}/,unicode:""},{tex:/\\mathbb\{M\}/,unicode:""},{tex:/\\mathbb\{m\}/,unicode:""},{tex:/\\mathbb\{N\}/,unicode:""},{tex:/\\mathbb\{n\}/,unicode:""},{tex:/\\mathbb\{O\}/,unicode:""},{tex:/\\mathbb\{o\}/,unicode:""},{tex:/\\mathbb\{\\pi\}/,unicode:""},{tex:/\\mathbb\{\\Pi\}/,unicode:""},{tex:/\\mathbb\{P\}/,unicode:""},{tex:/\\mathbb\{p\}/,unicode:""},{tex:/\\mathbb\{Q\}/,unicode:""},{tex:/\\mathbb\{q\}/,unicode:""},{tex:/\\mathbb\{R\}/,unicode:""},{tex:/\\mathbb\{r\}/,unicode:""},{tex:/\\mathbb\{\\Sigma\}/,unicode:""},{tex:/\\mathbb\{S\}/,unicode:""},{tex:/\\mathbb\{s\}/,unicode:""},{tex:/\\mathbb\{T\}/,unicode:""},{tex:/\\mathbb\{t\}/,unicode:""},{tex:/\\mathbb\{U\}/,unicode:""},{tex:/\\mathbb\{u\}/,unicode:""},{tex:/\\mathbb\{V\}/,unicode:""},{tex:/\\mathbb\{v\}/,unicode:""},{tex:/\\mathbb\{W\}/,unicode:""},{tex:/\\mathbb\{w\}/,unicode:""},{tex:/\\mathbb\{X\}/,unicode:""},{tex:/\\mathbb\{x\}/,unicode:""},{tex:/\\mathbb\{Y\}/,unicode:""},{tex:/\\mathbb\{y\}/,unicode:""},{tex:/\\mathbb\{Z\}/,unicode:""},{tex:/\\mathbb\{z\}/,unicode:""},{tex:/\\mathslbb\{A\}/,unicode:""},{tex:/\\mathslbb\{a\}/,unicode:""},{tex:/\\mathslbb\{B\}/,unicode:""},{tex:/\\mathslbb\{b\}/,unicode:""},{tex:/\\mathslbb\{C\}/,unicode:""},{tex:/\\mathslbb\{c\}/,unicode:""},{tex:/\\mathslbb\{D\}/,unicode:""},{tex:/\\mathslbb\{d\}/,unicode:""},{tex:/\\mathslbb\{E\}/,unicode:""},{tex:/\\mathslbb\{e\}/,unicode:""},{tex:/\\mathslbb\{F\}/,unicode:""},{tex:/\\mathslbb\{f\}/,unicode:""},{tex:/\\mathslbb\{G\}/,unicode:""},{tex:/\\mathslbb\{g\}/,unicode:""},{tex:/\\mathslbb\{H\}/,unicode:""},{tex:/\\mathslbb\{h\}/,unicode:""},{tex:/\\mathslbb\{I\}/,unicode:""},{tex:/\\mathslbb\{i\}/,unicode:""},{tex:/\\mathslbb\{J\}/,unicode:""},{tex:/\\mathslbb\{j\}/,unicode:""},{tex:/\\mathslbb\{K\}/,unicode:""},{tex:/\\mathslbb\{k\}/,unicode:""},{tex:/\\mathslbb\{L\}/,unicode:""},{tex:/\\mathslbb\{l\}/,unicode:""},{tex:/\\mathslbb\{M\}/,unicode:""},{tex:/\\mathslbb\{m\}/,unicode:""},{tex:/\\mathslbb\{N\}/,unicode:""},{tex:/\\mathslbb\{n\}/,unicode:""},{tex:/\\mathslbb\{O\}/,unicode:""},{tex:/\\mathslbb\{o\}/,unicode:""},{tex:/\\mathslbb\{P\}/,unicode:""},{tex:/\\mathslbb\{p\}/,unicode:""},{tex:/\\mathslbb\{Q\}/,unicode:""},{tex:/\\mathslbb\{q\}/,unicode:""},{tex:/\\mathslbb\{R\}/,unicode:""},{tex:/\\mathslbb\{r\}/,unicode:""},{tex:/\\mathslbb\{S\}/,unicode:""},{tex:/\\mathslbb\{s\}/,unicode:""},{tex:/\\mathslbb\{T\}/,unicode:""},{tex:/\\mathslbb\{t\}/,unicode:""},{tex:/\\mathslbb\{U\}/,unicode:""},{tex:/\\mathslbb\{u\}/,unicode:""},{tex:/\\mathslbb\{V\}/,unicode:""},{tex:/\\mathslbb\{v\}/,unicode:""},{tex:/\\mathslbb\{W\}/,unicode:""},{tex:/\\mathslbb\{w\}/,unicode:""},{tex:/\\mathslbb\{X\}/,unicode:""},{tex:/\\mathslbb\{x\}/,unicode:""},{tex:/\\mathslbb\{Y\}/,unicode:""},{tex:/\\mathslbb\{y\}/,unicode:""},{tex:/\\mathslbb\{Z\}/,unicode:""},{tex:/\\mathslbb\{z\}/,unicode:""},{tex:/\\mathfrak\{A\}/,unicode:""},{tex:/\\mathfrak\{a\}/,unicode:""},{tex:/\\mathfrak\{B\}/,unicode:""},{tex:/\\mathfrak\{b\}/,unicode:""},{tex:/\\mathfrak\{C\}/,unicode:""},{tex:/\\mathfrak\{c\}/,unicode:""},{tex:/\\mathfrak\{D\}/,unicode:""},{tex:/\\mathfrak\{d\}/,unicode:""},{tex:/\\mathfrak\{E\}/,unicode:""},{tex:/\\mathfrak\{e\}/,unicode:""},{tex:/\\mathfrak\{F\}/,unicode:""},{tex:/\\mathfrak\{f\}/,unicode:""},{tex:/\\mathfrak\{G\}/,unicode:""},{tex:/\\mathfrak\{g\}/,unicode:""},{tex:/\\mathfrak\{H\}/,unicode:""},{tex:/\\mathfrak\{h\}/,unicode:""},{tex:/\\mathfrak\{I\}/,unicode:""},{tex:/\\mathfrak\{i\}/,unicode:""},{tex:/\\mathfrak\{J\}/,unicode:""},{tex:/\\mathfrak\{j\}/,unicode:""},{tex:/\\mathfrak\{K\}/,unicode:""},{tex:/\\mathfrak\{k\}/,unicode:""},{tex:/\\mathfrak\{L\}/,unicode:""},{tex:/\\mathfrak\{l\}/,unicode:""},{tex:/\\mathfrak\{M\}/,unicode:""},{tex:/\\mathfrak\{m\}/,unicode:""},{tex:/\\mathfrak\{N\}/,unicode:""},{tex:/\\mathfrak\{n\}/,unicode:""},{tex:/\\mathfrak\{O\}/,unicode:""},{tex:/\\mathfrak\{o\}/,unicode:""},{tex:/\\mathfrak\{P\}/,unicode:""},{tex:/\\mathfrak\{p\}/,unicode:""},{tex:/\\mathfrak\{Q\}/,unicode:""},{tex:/\\mathfrak\{q\}/,unicode:""},{tex:/\\mathfrak\{R\}/,unicode:""},{tex:/\\mathfrak\{r\}/,unicode:""},{tex:/\\mathfrak\{S\}/,unicode:""},{tex:/\\mathfrak\{s\}/,unicode:""},{tex:/\\mathfrak\{T\}/,unicode:""},{tex:/\\mathfrak\{t\}/,unicode:""},{tex:/\\mathfrak\{U\}/,unicode:""},{tex:/\\mathfrak\{u\}/,unicode:""},{tex:/\\mathfrak\{V\}/,unicode:""},{tex:/\\mathfrak\{v\}/,unicode:""},{tex:/\\mathfrak\{W\}/,unicode:""},{tex:/\\mathfrak\{w\}/,unicode:""},{tex:/\\mathfrak\{X\}/,unicode:""},{tex:/\\mathfrak\{x\}/,unicode:""},{tex:/\\mathfrak\{Y\}/,unicode:""},{tex:/\\mathfrak\{y\}/,unicode:""},{tex:/\\mathfrak\{Z\}/,unicode:""},{tex:/\\mathfrak\{z\}/,unicode:""},{tex:/\\mathsfsl\{A\}/,unicode:""},{tex:/\\mathsfsl\{a\}/,unicode:""},{tex:/\\mathsfsl\{B\}/,unicode:""},{tex:/\\mathsfsl\{b\}/,unicode:""},{tex:/\\mathsfsl\{C\}/,unicode:""},{tex:/\\mathsfsl\{c\}/,unicode:""},{tex:/\\mathsfsl\{D\}/,unicode:""},{tex:/\\mathsfsl\{d\}/,unicode:""},{tex:/\\mathsfsl\{E\}/,unicode:""},{tex:/\\mathsfsl\{e\}/,unicode:""},{tex:/\\mathsfsl\{F\}/,unicode:""},{tex:/\\mathsfsl\{f\}/,unicode:""},{tex:/\\mathsfsl\{G\}/,unicode:""},{tex:/\\mathsfsl\{g\}/,unicode:""},{tex:/\\mathsfsl\{H\}/,unicode:""},{tex:/\\mathsfsl\{h\}/,unicode:""},{tex:/\\mathsfsl\{I\}/,unicode:""},{tex:/\\mathsfsl\{i\}/,unicode:""},{tex:/\\mathsfsl\{J\}/,unicode:""},{tex:/\\mathsfsl\{j\}/,unicode:""},{tex:/\\mathsfsl\{K\}/,unicode:""},{tex:/\\mathsfsl\{k\}/,unicode:""},{tex:/\\mathsfsl\{L\}/,unicode:""},{tex:/\\mathsfsl\{l\}/,unicode:""},{tex:/\\mathsfsl\{M\}/,unicode:""},{tex:/\\mathsfsl\{m\}/,unicode:""},{tex:/\\mathsfsl\{N\}/,unicode:""},{tex:/\\mathsfsl\{n\}/,unicode:""},{tex:/\\mathsfsl\{O\}/,unicode:""},{tex:/\\mathsfsl\{o\}/,unicode:""},{tex:/\\mathsfsl\{P\}/,unicode:""},{tex:/\\mathsfsl\{p\}/,unicode:""},{tex:/\\mathsfsl\{Q\}/,unicode:""},{tex:/\\mathsfsl\{q\}/,unicode:""},{tex:/\\mathsfsl\{R\}/,unicode:""},{tex:/\\mathsfsl\{r\}/,unicode:""},{tex:/\\mathsfsl\{S\}/,unicode:""},{tex:/\\mathsfsl\{s\}/,unicode:""},{tex:/\\mathsfsl\{T\}/,unicode:""},{tex:/\\mathsfsl\{t\}/,unicode:""},{tex:/\\mathsfsl\{U\}/,unicode:""},{tex:/\\mathsfsl\{u\}/,unicode:""},{tex:/\\mathsfsl\{V\}/,unicode:""},{tex:/\\mathsfsl\{v\}/,unicode:""},{tex:/\\mathsfsl\{W\}/,unicode:""},{tex:/\\mathsfsl\{w\}/,unicode:""},{tex:/\\mathsfsl\{X\}/,unicode:""},{tex:/\\mathsfsl\{x\}/,unicode:""},{tex:/\\mathsfsl\{Y\}/,unicode:""},{tex:/\\mathsfsl\{y\}/,unicode:""},{tex:/\\mathsfsl\{Z\}/,unicode:""},{tex:/\\mathsfsl\{z\}/,unicode:""},{tex:/\\mathscr\{A\}/,unicode:""},{tex:/\\mathscr\{a\}/,unicode:""},{tex:/\\mathscr\{B\}/,unicode:""},{tex:/\\mathscr\{b\}/,unicode:""},{tex:/\\mathscr\{C\}/,unicode:""},{tex:/\\mathscr\{c\}/,unicode:""},{tex:/\\mathscr\{D\}/,unicode:""},{tex:/\\mathscr\{d\}/,unicode:""},{tex:/\\mathscr\{e\}/,unicode:""},{tex:/\\mathscr\{E\}/,unicode:""},{tex:/\\mathscr\{F\}/,unicode:""},{tex:/\\mathscr\{f\}/,unicode:""},{tex:/\\mathscr\{g\}/,unicode:""},{tex:/\\mathscr\{G\}/,unicode:""},{tex:/\\mathscr\{H\}/,unicode:""},{tex:/\\mathscr\{h\}/,unicode:""},{tex:/\\mathscr\{I\}/,unicode:""},{tex:/\\mathscr\{i\}/,unicode:""},{tex:/\\mathscr\{J\}/,unicode:""},{tex:/\\mathscr\{j\}/,unicode:""},{tex:/\\mathscr\{K\}/,unicode:""},{tex:/\\mathscr\{k\}/,unicode:""},{tex:/\\mathscr\{L\}/,unicode:""},{tex:/\\mathscr\{l\}/,unicode:""},{tex:/\\mathscr\{M\}/,unicode:""},{tex:/\\mathscr\{m\}/,unicode:""},{tex:/\\mathscr\{N\}/,unicode:""},{tex:/\\mathscr\{n\}/,unicode:""},{tex:/\\mathscr\{o\}/,unicode:""},{tex:/\\mathscr\{O\}/,unicode:""},{tex:/\\mathscr\{P\}/,unicode:""},{tex:/\\mathscr\{p\}/,unicode:""},{tex:/\\mathscr\{Q\}/,unicode:""},{tex:/\\mathscr\{q\}/,unicode:""},{tex:/\\mathscr\{R\}/,unicode:""},{tex:/\\mathscr\{r\}/,unicode:""},{tex:/\\mathscr\{S\}/,unicode:""},{tex:/\\mathscr\{s\}/,unicode:""},{tex:/\\mathscr\{T\}/,unicode:""},{tex:/\\mathscr\{t\}/,unicode:""},{tex:/\\mathscr\{U\}/,unicode:""},{tex:/\\mathscr\{u\}/,unicode:""},{tex:/\\mathscr\{V\}/,unicode:""},{tex:/\\mathscr\{v\}/,unicode:""},{tex:/\\mathscr\{W\}/,unicode:""},{tex:/\\mathscr\{w\}/,unicode:""},{tex:/\\mathscr\{X\}/,unicode:""},{tex:/\\mathscr\{x\}/,unicode:""},{tex:/\\mathscr\{Y\}/,unicode:""},{tex:/\\mathscr\{y\}/,unicode:""},{tex:/\\mathscr\{Z\}/,unicode:""},{tex:/\\mathscr\{z\}/,unicode:""},{tex:/\\mathmit\{A\}/,unicode:""},{tex:/\\mathmit\{a\}/,unicode:""},{tex:/\\mathmit\{B\}/,unicode:""},{tex:/\\mathmit\{b\}/,unicode:""},{tex:/\\mathmit\{C\}/,unicode:""},{tex:/\\mathmit\{c\}/,unicode:""},{tex:/\\mathmit\{D\}/,unicode:""},{tex:/\\mathmit\{d\}/,unicode:""},{tex:/\\mathmit\{E\}/,unicode:""},{tex:/\\mathmit\{e\}/,unicode:""},{tex:/\\mathmit\{F\}/,unicode:""},{tex:/\\mathmit\{f\}/,unicode:""},{tex:/\\mathmit\{G\}/,unicode:""},{tex:/\\mathmit\{g\}/,unicode:""},{tex:/\\mathmit\{H\}/,unicode:""},{tex:/\\mathmit\{h\}/,unicode:""},{tex:/\\mathmit\{I\}/,unicode:""},{tex:/\\mathmit\{i\}/,unicode:""},{tex:/\\mathmit\{J\}/,unicode:""},{tex:/\\mathmit\{j\}/,unicode:""},{tex:/\\mathmit\{K\}/,unicode:""},{tex:/\\mathmit\{k\}/,unicode:""},{tex:/\\mathmit\{L\}/,unicode:""},{tex:/\\mathmit\{l\}/,unicode:""},{tex:/\\mathmit\{M\}/,unicode:""},{tex:/\\mathmit\{m\}/,unicode:""},{tex:/\\mathmit\{N\}/,unicode:""},{tex:/\\mathmit\{n\}/,unicode:""},{tex:/\\mathmit\{O\}/,unicode:""},{tex:/\\mathmit\{o\}/,unicode:""},{tex:/\\mathmit\{P\}/,unicode:""},{tex:/\\mathmit\{p\}/,unicode:""},{tex:/\\mathmit\{Q\}/,unicode:""},{tex:/\\mathmit\{q\}/,unicode:""},{tex:/\\mathmit\{R\}/,unicode:""},{tex:/\\mathmit\{r\}/,unicode:""},{tex:/\\mathmit\{S\}/,unicode:""},{tex:/\\mathmit\{s\}/,unicode:""},{tex:/\\mathmit\{T\}/,unicode:""},{tex:/\\mathmit\{t\}/,unicode:""},{tex:/\\mathmit\{U\}/,unicode:""},{tex:/\\mathmit\{u\}/,unicode:""},{tex:/\\mathmit\{V\}/,unicode:""},{tex:/\\mathmit\{v\}/,unicode:""},{tex:/\\mathmit\{W\}/,unicode:""},{tex:/\\mathmit\{w\}/,unicode:""},{tex:/\\mathmit\{X\}/,unicode:""},{tex:/\\mathmit\{x\}/,unicode:""},{tex:/\\mathmit\{Y\}/,unicode:""},{tex:/\\mathmit\{y\}/,unicode:""},{tex:/\\mathmit\{Z\}/,unicode:""},{tex:/\\mathmit\{z\}/,unicode:""},{tex:/\\mathtt\{0\}/,unicode:""},{tex:/\\mathtt\{1\}/,unicode:""},{tex:/\\mathtt\{2\}/,unicode:""},{tex:/\\mathtt\{3\}/,unicode:""},{tex:/\\mathtt\{4\}/,unicode:""},{tex:/\\mathtt\{5\}/,unicode:""},{tex:/\\mathtt\{6\}/,unicode:""},{tex:/\\mathtt\{7\}/,unicode:""},{tex:/\\mathtt\{8\}/,unicode:""},{tex:/\\mathtt\{9\}/,unicode:""},{tex:/\\mathtt\{A\}/,unicode:""},{tex:/\\mathtt\{a\}/,unicode:""},{tex:/\\mathtt\{B\}/,unicode:""},{tex:/\\mathtt\{b\}/,unicode:""},{tex:/\\mathtt\{C\}/,unicode:""},{tex:/\\mathtt\{c\}/,unicode:""},{tex:/\\mathtt\{D\}/,unicode:""},{tex:/\\mathtt\{d\}/,unicode:""},{tex:/\\mathtt\{E\}/,unicode:""},{tex:/\\mathtt\{e\}/,unicode:""},{tex:/\\mathtt\{F\}/,unicode:""},{tex:/\\mathtt\{f\}/,unicode:""},{tex:/\\mathtt\{G\}/,unicode:""},{tex:/\\mathtt\{g\}/,unicode:""},{tex:/\\mathtt\{H\}/,unicode:""},{tex:/\\mathtt\{h\}/,unicode:""},{tex:/\\mathtt\{I\}/,unicode:""},{tex:/\\mathtt\{i\}/,unicode:""},{tex:/\\mathtt\{J\}/,unicode:""},{tex:/\\mathtt\{j\}/,unicode:""},{tex:/\\mathtt\{K\}/,unicode:""},{tex:/\\mathtt\{k\}/,unicode:""},{tex:/\\mathtt\{L\}/,unicode:""},{tex:/\\mathtt\{l\}/,unicode:""},{tex:/\\mathtt\{M\}/,unicode:""},{tex:/\\mathtt\{m\}/,unicode:""},{tex:/\\mathtt\{N\}/,unicode:""},{tex:/\\mathtt\{n\}/,unicode:""},{tex:/\\mathtt\{O\}/,unicode:""},{tex:/\\mathtt\{o\}/,unicode:""},{tex:/\\mathtt\{P\}/,unicode:""},{tex:/\\mathtt\{p\}/,unicode:""},{tex:/\\mathtt\{Q\}/,unicode:""},{tex:/\\mathtt\{q\}/,unicode:""},{tex:/\\mathtt\{R\}/,unicode:""},{tex:/\\mathtt\{r\}/,unicode:""},{tex:/\\mathtt\{S\}/,unicode:""},{tex:/\\mathtt\{s\}/,unicode:""},{tex:/\\mathtt\{T\}/,unicode:""},{tex:/\\mathtt\{t\}/,unicode:""},{tex:/\\mathtt\{U\}/,unicode:""},{tex:/\\mathtt\{u\}/,unicode:""},{tex:/\\mathtt\{V\}/,unicode:""},{tex:/\\mathtt\{v\}/,unicode:""},{tex:/\\mathtt\{W\}/,unicode:""},{tex:/\\mathtt\{w\}/,unicode:""},{tex:/\\mathtt\{X\}/,unicode:""},{tex:/\\mathtt\{x\}/,unicode:""},{tex:/\\mathtt\{Y\}/,unicode:""},{tex:/\\mathtt\{y\}/,unicode:""},{tex:/\\mathtt\{Z\}/,unicode:""},{tex:/\\mathtt\{z\}/,unicode:""},{tex:/\\mathsf\{0\}/,unicode:""},{tex:/\\mathsf\{1\}/,unicode:""},{tex:/\\mathsf\{2\}/,unicode:""},{tex:/\\mathsf\{3\}/,unicode:""},{tex:/\\mathsf\{4\}/,unicode:""},{tex:/\\mathsf\{5\}/,unicode:""},{tex:/\\mathsf\{6\}/,unicode:""},{tex:/\\mathsf\{7\}/,unicode:""},{tex:/\\mathsf\{8\}/,unicode:""},{tex:/\\mathsf\{9\}/,unicode:""},{tex:/\\mathsf\{A\}/,unicode:""},{tex:/\\mathsf\{a\}/,unicode:""},{tex:/\\mathsf\{B\}/,unicode:""},{tex:/\\mathsf\{b\}/,unicode:""},{tex:/\\mathsf\{C\}/,unicode:""},{tex:/\\mathsf\{c\}/,unicode:""},{tex:/\\mathsf\{D\}/,unicode:""},{tex:/\\mathsf\{d\}/,unicode:""},{tex:/\\mathsf\{E\}/,unicode:""},{tex:/\\mathsf\{e\}/,unicode:""},{tex:/\\mathsf\{F\}/,unicode:""},{tex:/\\mathsf\{f\}/,unicode:""},{tex:/\\mathsf\{G\}/,unicode:""},{tex:/\\mathsf\{g\}/,unicode:""},{tex:/\\mathsf\{H\}/,unicode:""},{tex:/\\mathsf\{h\}/,unicode:""},{tex:/\\mathsf\{I\}/,unicode:""},{tex:/\\mathsf\{i\}/,unicode:""},{tex:/\\mathsf\{J\}/,unicode:""},{tex:/\\mathsf\{j\}/,unicode:""},{tex:/\\mathsf\{K\}/,unicode:""},{tex:/\\mathsf\{k\}/,unicode:""},{tex:/\\mathsf\{L\}/,unicode:""},{tex:/\\mathsf\{l\}/,unicode:""},{tex:/\\mathsf\{M\}/,unicode:""},{tex:/\\mathsf\{m\}/,unicode:""},{tex:/\\mathsf\{N\}/,unicode:""},{tex:/\\mathsf\{n\}/,unicode:""},{tex:/\\mathsf\{O\}/,unicode:""},{tex:/\\mathsf\{o\}/,unicode:""},{tex:/\\mathsf\{P\}/,unicode:""},{tex:/\\mathsf\{p\}/,unicode:""},{tex:/\\mathsf\{Q\}/,unicode:""},{tex:/\\mathsf\{q\}/,unicode:""},{tex:/\\mathsf\{R\}/,unicode:""},{tex:/\\mathsf\{r\}/,unicode:""},{tex:/\\mathsf\{S\}/,unicode:""},{tex:/\\mathsf\{s\}/,unicode:""},{tex:/\\mathsf\{T\}/,unicode:""},{tex:/\\mathsf\{t\}/,unicode:""},{tex:/\\mathsf\{U\}/,unicode:""},{tex:/\\mathsf\{u\}/,unicode:""},{tex:/\\mathsf\{V\}/,unicode:""},{tex:/\\mathsf\{v\}/,unicode:""},{tex:/\\mathsf\{W\}/,unicode:""},{tex:/\\mathsf\{w\}/,unicode:""},{tex:/\\mathsf\{X\}/,unicode:""},{tex:/\\mathsf\{x\}/,unicode:""},{tex:/\\mathsf\{Y\}/,unicode:""},{tex:/\\mathsf\{y\}/,unicode:""},{tex:/\\mathsf\{Z\}/,unicode:""},{tex:/\\mathsf\{z\}/,unicode:""},{tex:/\\mathchar"2208/,unicode:""},{tex:/\\cyrchar\\C/,unicode:""},{tex:/\\cyrchar\\CYRABHCHDSC/,unicode:""},{tex:/\\cyrchar\\cyrabhchdsc/,unicode:""},{tex:/\\cyrchar\\CYRABHCH/,unicode:""},{tex:/\\cyrchar\\cyrabhch/,unicode:""},{tex:/\\cyrchar\\CYRABHDZE/,unicode:""},{tex:/\\cyrchar\\cyrabhdze/,unicode:""},{tex:/\\cyrchar\\CYRABHHA/,unicode:""},{tex:/\\cyrchar\\cyrabhha/,unicode:""},{tex:/\\cyrchar\\CYRAE/,unicode:""},{tex:/\\cyrchar\\cyrae/,unicode:""},{tex:/\\cyrchar\\CYRA/,unicode:""},{tex:/\\cyrchar\\cyra/,unicode:""},{tex:/\\cyrchar\\CYRB/,unicode:""},{tex:/\\cyrchar\\cyrb/,unicode:""},{tex:/\\cyrchar\\CYRBYUS/,unicode:""},{tex:/\\cyrchar\\CYRCHLDSC/,unicode:""},{tex:/\\cyrchar\\cyrchldsc/,unicode:""},{tex:/\\cyrchar\\CYRCHRDSC/,unicode:""},{tex:/\\cyrchar\\cyrchrdsc/,unicode:""},{tex:/\\cyrchar\\CYRCH/,unicode:""},{tex:/\\cyrchar\\cyrch/,unicode:""},{tex:/\\cyrchar\\CYRCHVCRS/,unicode:""},{tex:/\\cyrchar\\cyrchvcrs/,unicode:""},{tex:/\\cyrchar\\CYRC/,unicode:""},{tex:/\\cyrchar\\cyrc/,unicode:""},{tex:/\\cyrchar\\CYRDJE/,unicode:""},{tex:/\\cyrchar\\cyrdje/,unicode:""},{tex:/\\cyrchar\\CYRD/,unicode:""},{tex:/\\cyrchar\\cyrd/,unicode:""},{tex:/\\cyrchar\\CYRDZE/,unicode:""},{tex:/\\cyrchar\\cyrdze/,unicode:""},{tex:/\\cyrchar\\CYRDZHE/,unicode:""},{tex:/\\cyrchar\\cyrdzhe/,unicode:""},{tex:/\\cyrchar\\CYREREV/,unicode:""},{tex:/\\cyrchar\\cyrerev/,unicode:""},{tex:/\\cyrchar\\CYRERY/,unicode:""},{tex:/\\cyrchar\\cyrery/,unicode:""},{tex:/\\cyrchar\\CYRE/,unicode:""},{tex:/\\cyrchar\\cyre/,unicode:""},{tex:/\\cyrchar\\CYRFITA/,unicode:""},{tex:/\\cyrchar\\CYRF/,unicode:""},{tex:/\\cyrchar\\cyrf/,unicode:""},{tex:/\\cyrchar\\CYRGHCRS/,unicode:""},{tex:/\\cyrchar\\cyrghcrs/,unicode:""},{tex:/\\cyrchar\\CYRGHK/,unicode:""},{tex:/\\cyrchar\\cyrghk/,unicode:""},{tex:/\\cyrchar\{\\'\\CYRG\}/,unicode:""},{tex:/\\cyrchar\\CYRG/,unicode:""},{tex:/\\cyrchar\\cyrg/,unicode:""},{tex:/\\cyrchar\{\\'\\cyrg\}/,unicode:""},{tex:/\\cyrchar\\CYRGUP/,unicode:""},{tex:/\\cyrchar\\cyrgup/,unicode:""},{tex:/\\cyrchar\\CYRHDSC/,unicode:""},{tex:/\\cyrchar\\cyrhdsc/,unicode:""},{tex:/\\cyrchar\\CYRHRDSN/,unicode:""},{tex:/\\cyrchar\\cyrhrdsn/,unicode:""},{tex:/\\cyrchar\\cyrhundredthousands/,unicode:""},{tex:/\\cyrchar\\CYRH/,unicode:""},{tex:/\\cyrchar\\cyrh/,unicode:""},{tex:/\\cyrchar\\CYRIE/,unicode:""},{tex:/\\cyrchar\\cyrie/,unicode:""},{tex:/\\cyrchar\\CYRII/,unicode:""},{tex:/\\cyrchar\\cyrii/,unicode:""},{tex:/\\cyrchar\\CYRIOTBYUS/,unicode:""},{tex:/\\cyrchar\\cyriotbyus/,unicode:""},{tex:/\\cyrchar\\CYRIOTE/,unicode:""},{tex:/\\cyrchar\\cyriote/,unicode:""},{tex:/\\cyrchar\\CYRIOTLYUS/,unicode:""},{tex:/\\cyrchar\\cyriotlyus/,unicode:""},{tex:/\\cyrchar\\CYRISHRT/,unicode:""},{tex:/\\cyrchar\\cyrishrt/,unicode:""},{tex:/\\cyrchar\\CYRI/,unicode:""},{tex:/\\cyrchar\\cyri/,unicode:""},{tex:/\\cyrchar\\CYRIZH/,unicode:""},{tex:/\\cyrchar\\CYRJE/,unicode:""},{tex:/\\cyrchar\\cyrje/,unicode:""},{tex:/\\cyrchar\\CYRKBEAK/,unicode:""},{tex:/\\cyrchar\\cyrkbeak/,unicode:""},{tex:/\\cyrchar\\CYRKDSC/,unicode:""},{tex:/\\cyrchar\\cyrkdsc/,unicode:""},{tex:/\\cyrchar\\CYRKHCRS/,unicode:""},{tex:/\\cyrchar\\cyrkhcrs/,unicode:""},{tex:/\\cyrchar\\CYRKHK/,unicode:""},{tex:/\\cyrchar\\cyrkhk/,unicode:""},{tex:/\\cyrchar\\CYRKOPPA/,unicode:""},{tex:/\\cyrchar\\cyrkoppa/,unicode:""},{tex:/\\cyrchar\\CYRKSI/,unicode:""},{tex:/\\cyrchar\\cyrksi/,unicode:""},{tex:/\\cyrchar\{\\'\\CYRK\}/,unicode:""},{tex:/\\cyrchar\\CYRK/,unicode:""},{tex:/\\cyrchar\\cyrk/,unicode:""},{tex:/\\cyrchar\{\\'\\cyrk\}/,unicode:""},{tex:/\\cyrchar\\CYRKVCRS/,unicode:""},{tex:/\\cyrchar\\cyrkvcrs/,unicode:""},{tex:/\\cyrchar\\CYRLJE/,unicode:""},{tex:/\\cyrchar\\cyrlje/,unicode:""},{tex:/\\cyrchar\\CYRL/,unicode:""},{tex:/\\cyrchar\\cyrl/,unicode:""},{tex:/\\cyrchar\\CYRLYUS/,unicode:""},{tex:/\\cyrchar\\cyrlyus/,unicode:""},{tex:/\\cyrchar\\cyrmillions/,unicode:""},{tex:/\\cyrchar\\CYRM/,unicode:""},{tex:/\\cyrchar\\cyrm/,unicode:""},{tex:/\\cyrchar\\CYRNDSC/,unicode:""},{tex:/\\cyrchar\\cyrndsc/,unicode:""},{tex:/\\cyrchar\\CYRNG/,unicode:""},{tex:/\\cyrchar\\cyrng/,unicode:""},{tex:/\\cyrchar\\CYRNHK/,unicode:""},{tex:/\\cyrchar\\cyrnhk/,unicode:""},{tex:/\\cyrchar\\CYRNJE/,unicode:""},{tex:/\\cyrchar\\cyrnje/,unicode:""},{tex:/\\cyrchar\\CYRN/,unicode:""},{tex:/\\cyrchar\\cyrn/,unicode:""},{tex:/\\cyrchar\\CYROMEGARND/,unicode:""},{tex:/\\cyrchar\\cyromegarnd/,unicode:""},{tex:/\\cyrchar\\CYROMEGATITLO/,unicode:""},{tex:/\\cyrchar\\cyromegatitlo/,unicode:""},{tex:/\\cyrchar\\CYROMEGA/,unicode:""},{tex:/\\cyrchar\\cyromega/,unicode:""},{tex:/\\cyrchar\\CYROTLD/,unicode:""},{tex:/\\cyrchar\\cyrotld/,unicode:""},{tex:/\\cyrchar\\CYROT/,unicode:""},{tex:/\\cyrchar\\cyrot/,unicode:""},{tex:/\\cyrchar\\CYRO/,unicode:""},{tex:/\\cyrchar\\cyro/,unicode:""},{tex:/\\cyrchar\\CYRpalochka/,unicode:""},{tex:/\\cyrchar\\CYRPHK/,unicode:""},{tex:/\\cyrchar\\cyrphk/,unicode:""},{tex:/\\cyrchar\\CYRPSI/,unicode:""},{tex:/\\cyrchar\\cyrpsi/,unicode:""},{tex:/\\cyrchar\\CYRP/,unicode:""},{tex:/\\cyrchar\\cyrp/,unicode:""},{tex:/\\cyrchar\\CYRRTICK/,unicode:""},{tex:/\\cyrchar\\cyrrtick/,unicode:""},{tex:/\\cyrchar\\CYRR/,unicode:""},{tex:/\\cyrchar\\cyrr/,unicode:""},{tex:/\\cyrchar\\CYRSCHWA/,unicode:""},{tex:/\\cyrchar\\cyrschwa/,unicode:""},{tex:/\\cyrchar\\CYRSDSC/,unicode:""},{tex:/\\cyrchar\\cyrsdsc/,unicode:""},{tex:/\\cyrchar\\CYRSEMISFTSN/,unicode:""},{tex:/\\cyrchar\\cyrsemisftsn/,unicode:""},{tex:/\\cyrchar\\CYRSFTSN/,unicode:""},{tex:/\\cyrchar\\cyrsftsn/,unicode:""},{tex:/\\cyrchar\\CYRSHCH/,unicode:""},{tex:/\\cyrchar\\cyrshch/,unicode:""},{tex:/\\cyrchar\\CYRSHHA/,unicode:""},{tex:/\\cyrchar\\cyrshha/,unicode:""},{tex:/\\cyrchar\\CYRSH/,unicode:""},{tex:/\\cyrchar\\cyrsh/,unicode:""},{tex:/\\cyrchar\\CYRS/,unicode:""},{tex:/\\cyrchar\\cyrs/,unicode:""},{tex:/\\cyrchar\\CYRTDSC/,unicode:""},{tex:/\\cyrchar\\cyrtdsc/,unicode:""},{tex:/\\cyrchar\\CYRTETSE/,unicode:""},{tex:/\\cyrchar\\cyrtetse/,unicode:""},{tex:/\\cyrchar\\cyrthousands/,unicode:""},{tex:/\\cyrchar\\CYRTSHE/,unicode:""},{tex:/\\cyrchar\\cyrtshe/,unicode:""},{tex:/\\cyrchar\\CYRT/,unicode:""},{tex:/\\cyrchar\\cyrt/,unicode:""},{tex:/\\cyrchar\\CYRUK/,unicode:""},{tex:/\\cyrchar\\cyruk/,unicode:""},{tex:/\\cyrchar\\CYRUSHRT/,unicode:""},{tex:/\\cyrchar\\cyrushrt/,unicode:""},{tex:/\\cyrchar\\CYRU/,unicode:""},{tex:/\\cyrchar\\cyru/,unicode:""},{tex:/\\cyrchar\\CYRV/,unicode:""},{tex:/\\cyrchar\\cyrv/,unicode:""},{tex:/\\cyrchar\\CYRYAT/,unicode:""},{tex:/\\cyrchar\\CYRYA/,unicode:""},{tex:/\\cyrchar\\cyrya/,unicode:""},{tex:/\\cyrchar\\CYRYHCRS/,unicode:""},{tex:/\\cyrchar\\cyryhcrs/,unicode:""},{tex:/\\cyrchar\\CYRYI/,unicode:""},{tex:/\\cyrchar\\cyryi/,unicode:""},{tex:/\\cyrchar\\CYRYO/,unicode:""},{tex:/\\cyrchar\\cyryo/,unicode:""},{tex:/\\cyrchar\\CYRY/,unicode:""},{tex:/\\cyrchar\\cyry/,unicode:""},{tex:/\\cyrchar\\CYRYU/,unicode:""},{tex:/\\cyrchar\\cyryu/,unicode:""},{tex:/\\cyrchar\\CYRZDSC/,unicode:""},{tex:/\\cyrchar\\cyrzdsc/,unicode:""},{tex:/\\cyrchar\\CYRZHDSC/,unicode:""},{tex:/\\cyrchar\\cyrzhdsc/,unicode:""},{tex:/\\cyrchar\\CYRZH/,unicode:""},{tex:/\\cyrchar\\cyrzh/,unicode:""},{tex:/\\cyrchar\\CYRZ/,unicode:""},{tex:/\\cyrchar\\cyrz/,unicode:""},{tex:/\\cyrchar\\textnumero/,unicode:""},{tex:/\\acute\{\\ddot\{\\iota\}\}/,unicode:""},{tex:/\\acute\{\\ddot\{\\upsilon\}\}/,unicode:""},{tex:/\\acute\{\\epsilon\}/,unicode:""},{tex:/\\acute\{\\eta\}/,unicode:""},{tex:/\\acute\{\\iota\}/,unicode:""},{tex:/\\acute\{\\omega\}/,unicode:""},{tex:/\\acute\{\\upsilon\}/,unicode:""},{tex:/\\AA|\\A\{A\}/,unicode:""},{tex:/\\AC|\\A\{C\}/,unicode:""},{tex:/\\accurrent/,unicode:""},{tex:/\\acidfree/,unicode:""},{tex:/\\acwgapcirclearrow/,unicode:""},{tex:/\\acwleftarcarrow/,unicode:""},{tex:/\\acwoverarcarrow/,unicode:""},{tex:/\\acwunderarcarrow/,unicode:""},{tex:/\\AE|\\A\{E\}/,unicode:""},{tex:/\\allequal/,unicode:""},{tex:/\\'\$\\alpha\$/,unicode:""},{tex:/\\angdnr/,unicode:""},{tex:/\\angles/,unicode:""},{tex:/\\angleubar/,unicode:""},{tex:/\\annuity/,unicode:""},{tex:/\\APLboxquestion/,unicode:""},{tex:/\\APLboxupcaret/,unicode:""},{tex:/\\APLcomment/,unicode:""},{tex:/\\APLdownarrowbox/,unicode:""},{tex:/\\APLinput/,unicode:""},{tex:/\\APLleftarrowbox/,unicode:""},{tex:/\\APLrightarrowbox/,unicode:""},{tex:/\\APLuparrowbox/,unicode:""},{tex:/\\approxeqq/,unicode:""},{tex:/\\approxeq/,unicode:""},{tex:/\\approxnotequal/,unicode:""},{tex:/\\approx/,unicode:""},{tex:/\\aquarius/,unicode:""},{tex:/\\arrowwaveleft|\\arrowwaveright/,unicode:""},{tex:/\\assert/,unicode:""},{tex:/\\asteraccent/,unicode:""},{tex:/\\backdprime/,unicode:""},{tex:/\\backepsilon/,unicode:""},{tex:/\\backprime/,unicode:""},{tex:/\\backsimeq/,unicode:""},{tex:/\\backsim/,unicode:""},{tex:/\\backtrprime/,unicode:""},{tex:/\\bagmember/,unicode:""},{tex:/\\barcap/,unicode:""},{tex:/\\barcup/,unicode:""},{tex:/\\barleftarrowrightarrowba/,unicode:""},{tex:/\\barleftharpoon/,unicode:""},{tex:/\\barovernorthwestarrow/,unicode:""},{tex:/\\barrightarrowdiamond/,unicode:""},{tex:/\\barrightharpoon/,unicode:""},{tex:/\\barvee/,unicode:""},{tex:/\\barwedge/,unicode:""},{tex:/\\bbrktbrk/,unicode:""},{tex:/\\because/,unicode:""},{tex:/\\benzenr/,unicode:""},{tex:/\\between/,unicode:""},{tex:/\\bigcap/,unicode:""},{tex:/\\bigcirc/,unicode:""},{tex:/\\bigcupdot/,unicode:""},{tex:/\\bigcup/,unicode:""},{tex:/\\biginterleave/,unicode:""},{tex:/\\bigodot/,unicode:""},{tex:/\\bigoplus/,unicode:""},{tex:/\\bigotimes/,unicode:""},{tex:/\\bigslopedvee/,unicode:""},{tex:/\\bigslopedwedge/,unicode:""},{tex:/\\bigtalloblong/,unicode:""},{tex:/\\bigtop/,unicode:""},{tex:/\\bigtriangledown/,unicode:""},{tex:/\\bigtriangleleft/,unicode:""},{tex:/\\bigtriangleup/,unicode:""},{tex:/\\biohazard/,unicode:""},{tex:/\\blackcircledownarrow/,unicode:""},{tex:/\\blackcircledrightdot/,unicode:""},{tex:/\\blackcircledtwodots/,unicode:""},{tex:/\\blackcircleulquadwhite/,unicode:""},{tex:/\\blackdiamonddownarrow/,unicode:""},{tex:/\\blackhourglass/,unicode:""},{tex:/\\blackinwhitediamond/,unicode:""},{tex:/\\blackinwhitesquare/,unicode:""},{tex:/\\blacklozenge/,unicode:""},{tex:/\\blackpointerleft/,unicode:""},{tex:/\\blackpointerright/,unicode:""},{tex:/\\blacksmiley/,unicode:""},{tex:/\\blacksquare/,unicode:""},{tex:/\\blacktriangledown/,unicode:""},{tex:/\\blacktriangleleft/,unicode:""},{tex:/\\blacktriangleright/,unicode:""},{tex:/\\blacktriangle/,unicode:""},{tex:/\\blkhorzoval/,unicode:""},{tex:/\\blkvertoval/,unicode:""},{tex:/\\blockfull/,unicode:""},{tex:/\\blockhalfshaded/,unicode:""},{tex:/\\blocklefthalf/,unicode:""},{tex:/\\blocklowhalf/,unicode:""},{tex:/\\blockqtrshaded/,unicode:""},{tex:/\\blockrighthalf/,unicode:""},{tex:/\\blockthreeqtrshaded/,unicode:""},{tex:/\\blockuphalf/,unicode:""},{tex:/\\botsemicircle/,unicode:""},{tex:/\\boxast/,unicode:""},{tex:/\\boxbox/,unicode:""},{tex:/\\boxbslash/,unicode:""},{tex:/\\boxcircle/,unicode:""},{tex:/\\boxdot/,unicode:""},{tex:/\\boxminus/,unicode:""},{tex:/\\boxonbox/,unicode:""},{tex:/\\boxplus/,unicode:""},{tex:/\\boxslash/,unicode:""},{tex:/\\boxtimes/,unicode:""},{tex:/\\bsimilarleftarrow/,unicode:""},{tex:/\\bsimilarrightarrow/,unicode:""},{tex:/\\bsolhsub/,unicode:""},{tex:/\\btimes/,unicode:""},{tex:/\\bullet/,unicode:""},{tex:/\\bullseye/,unicode:""},{tex:/\\bumpeqq/,unicode:""},{tex:/\\candra/,unicode:""},{tex:/\\capbarcup/,unicode:""},{tex:/\\capdot/,unicode:""},{tex:/\\CapitalDifferentialD/,unicode:""},{tex:/\\capovercup/,unicode:""},{tex:/\\capricornus/,unicode:""},{tex:/\\capwedge/,unicode:""},{tex:/\\caretinsert/,unicode:""},{tex:/\\carriagereturn/,unicode:""},{tex:/\\ccwundercurvearrow/,unicode:""},{tex:/\\CheckedBox/,unicode:""},{tex:/\\circlearrowleft/,unicode:""},{tex:/\\circlearrowright/,unicode:""},{tex:/\\circledast/,unicode:""},{tex:/\\circledbslash/,unicode:""},{tex:/\\circledbullet/,unicode:""},{tex:/\\circledcirc/,unicode:""},{tex:/\\circleddash/,unicode:""},{tex:/\\circledequal/,unicode:""},{tex:/\\circledgtr/,unicode:""},{tex:/\\circledless/,unicode:""},{tex:/\\circledownarrow/,unicode:""},{tex:/\\circledparallel/,unicode:""},{tex:/\\circledrightdot/,unicode:""},{tex:/\\circledS/,unicode:""},{tex:/\\circledtwodots/,unicode:""},{tex:/\\circledwhitebullet/,unicode:""},{tex:/\\circlellquad/,unicode:""},{tex:/\\circlelrquad/,unicode:""},{tex:/\\circleonleftarrow/,unicode:""},{tex:/\\circleonrightarrow/,unicode:""},{tex:/\\circletophalfblack/,unicode:""},{tex:/\\circleulquad/,unicode:""},{tex:/\\circleurquadblack/,unicode:""},{tex:/\\circleurquad/,unicode:""},{tex:/\\circlevertfill/,unicode:""},{tex:/\^\\circ|\\textdegree/,unicode:""},{tex:/\\cirmid/,unicode:""},{tex:/\\cirscir/,unicode:""},{tex:/\\clockoint/,unicode:""},{tex:/\\closedvarcap/,unicode:""},{tex:/\\closedvarcupsmashprod/,unicode:""},{tex:/\\closedvarcup/,unicode:""},{tex:/\\closure/,unicode:""},{tex:/\\clwintegral/,unicode:""},{tex:/\\Coloneqq/,unicode:""},{tex:/\\commaminus/,unicode:""},{tex:/\\complement/,unicode:""},{tex:/\\ComplexI/,unicode:""},{tex:/\\ComplexJ/,unicode:""},{tex:/\\concavediamondtickleft/,unicode:""},{tex:/\\concavediamondtickright/,unicode:""},{tex:/\\concavediamond/,unicode:""},{tex:/\\congdot/,unicode:""},{tex:/\\conictaper/,unicode:""},{tex:/\\coprod/,unicode:""},{tex:/\\cupbarcap/,unicode:""},{tex:/\\cupdot/,unicode:""},{tex:/\\cupleftarrow/,unicode:""},{tex:/\\cupovercap/,unicode:""},{tex:/\\cupvee/,unicode:""},{tex:/\\curlyeqprec/,unicode:""},{tex:/\\curlyeqsucc/,unicode:""},{tex:/\\curlyvee/,unicode:""},{tex:/\\curlywedge/,unicode:""},{tex:/\\curvearrowleftplus/,unicode:""},{tex:/\\curvearrowleft/,unicode:""},{tex:/\\curvearrowrightminus/,unicode:""},{tex:/\\curvearrowright/,unicode:""},{tex:/\\cwgapcirclearrow/,unicode:""},{tex:/\\cwrightarcarrow/,unicode:""},{tex:/\\cwundercurvearrow/,unicode:""},{tex:/\\dashleftarrow/,unicode:""},{tex:/\\dashrightarrow/,unicode:""},{tex:/\\DashVDash/,unicode:""},{tex:/\\dashVdash/,unicode:""},{tex:/\\dbkarow/,unicode:""},{tex:/\\dblarrowupdown/,unicode:""},{tex:/\\ddot\{\\iota\}/,unicode:""},{tex:/\\ddotseq/,unicode:""},{tex:/\\ddot\{\\upsilon\}/,unicode:""},{tex:/\\DDownarrow/,unicode:""},{tex:/\\Ddownarrow/,unicode:""},{tex:/\\DH|\\D\{H\}/,unicode:""},{tex:/\\diameter/,unicode:""},{tex:/\\diamondbotblack/,unicode:""},{tex:/\\Diamonddot/,unicode:""},{tex:/\\diamondleftarrowbar/,unicode:""},{tex:/\\diamondleftarrow/,unicode:""},{tex:/\\diamondleftblack/,unicode:""},{tex:/\\diamondrightblack/,unicode:""},{tex:/\\diamondtopblack/,unicode:""},{tex:/\\diamond/,unicode:""},{tex:/\\Diamond/,unicode:""},{tex:/\\diceiii/,unicode:""},{tex:/\\DifferentialD/,unicode:""},{tex:/\\Digamma/,unicode:""},{tex:/\\digamma/,unicode:""},{tex:/\\ding\{100\}/,unicode:""},{tex:/\\ding\{101\}/,unicode:""},{tex:/\\ding\{102\}/,unicode:""},{tex:/\\ding\{103\}/,unicode:""},{tex:/\\ding\{104\}/,unicode:""},{tex:/\\ding\{105\}/,unicode:""},{tex:/\\ding\{106\}/,unicode:""},{tex:/\\ding\{107\}/,unicode:""},{tex:/\\ding\{108\}/,unicode:""},{tex:/\\ding\{109\}/,unicode:""},{tex:/\\ding\{110\}/,unicode:""},{tex:/\\ding\{111\}/,unicode:""},{tex:/\\ding\{112\}/,unicode:""},{tex:/\\ding\{113\}/,unicode:""},{tex:/\\ding\{114\}/,unicode:""},{tex:/\\ding\{115\}/,unicode:""},{tex:/\\ding\{116\}/,unicode:""},{tex:/\\ding\{117\}/,unicode:""},{tex:/\\ding\{118\}/,unicode:""},{tex:/\\ding\{119\}/,unicode:""},{tex:/\\ding\{120\}/,unicode:""},{tex:/\\ding\{121\}/,unicode:""},{tex:/\\ding\{122\}/,unicode:""},{tex:/\\ding\{123\}/,unicode:""},{tex:/\\ding\{124\}/,unicode:""},{tex:/\\ding\{125\}/,unicode:""},{tex:/\\ding\{126\}/,unicode:""},{tex:/\\ding\{161\}/,unicode:""},{tex:/\\ding\{162\}/,unicode:""},{tex:/\\ding\{163\}/,unicode:""},{tex:/\\ding\{164\}/,unicode:""},{tex:/\\ding\{165\}/,unicode:""},{tex:/\\ding\{166\}/,unicode:""},{tex:/\\ding\{167\}/,unicode:""},{tex:/\\ding\{168\}/,unicode:""},{tex:/\\ding\{169\}/,unicode:""},{tex:/\\ding\{170\}/,unicode:""},{tex:/\\ding\{171\}/,unicode:""},{tex:/\\ding\{172\}/,unicode:""},{tex:/\\ding\{173\}/,unicode:""},{tex:/\\ding\{174\}/,unicode:""},{tex:/\\ding\{175\}/,unicode:""},{tex:/\\ding\{176\}/,unicode:""},{tex:/\\ding\{177\}/,unicode:""},{tex:/\\ding\{178\}/,unicode:""},{tex:/\\ding\{179\}/,unicode:""},{tex:/\\ding\{180\}/,unicode:""},{tex:/\\ding\{181\}/,unicode:""},{tex:/\\ding\{182\}/,unicode:""},{tex:/\\ding\{183\}/,unicode:""},{tex:/\\ding\{184\}/,unicode:""},{tex:/\\ding\{185\}/,unicode:""},{tex:/\\ding\{186\}/,unicode:""},{tex:/\\ding\{187\}/,unicode:""},{tex:/\\ding\{188\}/,unicode:""},{tex:/\\ding\{189\}/,unicode:""},{tex:/\\ding\{190\}/,unicode:""},{tex:/\\ding\{191\}/,unicode:""},{tex:/\\ding\{192\}/,unicode:""},{tex:/\\ding\{193\}/,unicode:""},{tex:/\\ding\{194\}/,unicode:""},{tex:/\\ding\{195\}/,unicode:""},{tex:/\\ding\{196\}/,unicode:""},{tex:/\\ding\{197\}/,unicode:""},{tex:/\\ding\{198\}/,unicode:""},{tex:/\\ding\{199\}/,unicode:""},{tex:/\\ding\{200\}/,unicode:""},{tex:/\\ding\{201\}/,unicode:""},{tex:/\\ding\{202\}/,unicode:""},{tex:/\\ding\{203\}/,unicode:""},{tex:/\\ding\{204\}/,unicode:""},{tex:/\\ding\{205\}/,unicode:""},{tex:/\\ding\{206\}/,unicode:""},{tex:/\\ding\{207\}/,unicode:""},{tex:/\\ding\{208\}/,unicode:""},{tex:/\\ding\{209\}/,unicode:""},{tex:/\\ding\{210\}/,unicode:""},{tex:/\\ding\{211\}/,unicode:""},{tex:/\\ding\{212\}/,unicode:""},{tex:/\\ding\{216\}/,unicode:""},{tex:/\\ding\{217\}/,unicode:""},{tex:/\\ding\{218\}/,unicode:""},{tex:/\\ding\{219\}/,unicode:""},{tex:/\\ding\{220\}/,unicode:""},{tex:/\\ding\{221\}/,unicode:""},{tex:/\\ding\{222\}/,unicode:""},{tex:/\\ding\{223\}/,unicode:""},{tex:/\\ding\{224\}/,unicode:""},{tex:/\\ding\{225\}/,unicode:""},{tex:/\\ding\{226\}/,unicode:""},{tex:/\\ding\{227\}/,unicode:""},{tex:/\\ding\{228\}/,unicode:""},{tex:/\\ding\{229\}/,unicode:""},{tex:/\\ding\{230\}/,unicode:""},{tex:/\\ding\{231\}/,unicode:""},{tex:/\\ding\{232\}/,unicode:""},{tex:/\\ding\{233\}/,unicode:""},{tex:/\\ding\{234\}/,unicode:""},{tex:/\\ding\{235\}/,unicode:""},{tex:/\\ding\{236\}/,unicode:""},{tex:/\\ding\{237\}/,unicode:""},{tex:/\\ding\{238\}/,unicode:""},{tex:/\\ding\{239\}/,unicode:""},{tex:/\\ding\{241\}/,unicode:""},{tex:/\\ding\{242\}/,unicode:""},{tex:/\\ding\{243\}/,unicode:""},{tex:/\\ding\{244\}/,unicode:""},{tex:/\\ding\{245\}/,unicode:""},{tex:/\\ding\{246\}/,unicode:""},{tex:/\\ding\{247\}/,unicode:""},{tex:/\\ding\{248\}/,unicode:""},{tex:/\\ding\{249\}/,unicode:""},{tex:/\\ding\{250\}/,unicode:""},{tex:/\\ding\{251\}/,unicode:""},{tex:/\\ding\{252\}/,unicode:""},{tex:/\\ding\{253\}/,unicode:""},{tex:/\\ding\{254\}/,unicode:""},{tex:/\\ding\{33\}/,unicode:""},{tex:/\\ding\{34\}/,unicode:""},{tex:/\\ding\{35\}/,unicode:""},{tex:/\\ding\{36\}/,unicode:""},{tex:/\\ding\{37\}/,unicode:""},{tex:/\\ding\{38\}/,unicode:""},{tex:/\\ding\{39\}/,unicode:""},{tex:/\\ding\{40\}/,unicode:""},{tex:/\\ding\{41\}/,unicode:""},{tex:/\\ding\{42\}/,unicode:""},{tex:/\\ding\{43\}/,unicode:""},{tex:/\\ding\{44\}/,unicode:""},{tex:/\\ding\{45\}/,unicode:""},{tex:/\\ding\{46\}/,unicode:""},{tex:/\\ding\{47\}/,unicode:""},{tex:/\\ding\{48\}/,unicode:""},{tex:/\\ding\{49\}/,unicode:""},{tex:/\\ding\{50\}/,unicode:""},{tex:/\\ding\{51\}/,unicode:""},{tex:/\\ding\{52\}/,unicode:""},{tex:/\\ding\{53\}/,unicode:""},{tex:/\\ding\{54\}/,unicode:""},{tex:/\\ding\{55\}/,unicode:""},{tex:/\\ding\{56\}/,unicode:""},{tex:/\\ding\{57\}/,unicode:""},{tex:/\\ding\{58\}/,unicode:""},{tex:/\\ding\{59\}/,unicode:""},{tex:/\\ding\{60\}/,unicode:""},{tex:/\\ding\{61\}/,unicode:""},{tex:/\\ding\{62\}/,unicode:""},{tex:/\\ding\{63\}/,unicode:""},{tex:/\\ding\{64\}/,unicode:""},{tex:/\\ding\{65\}/,unicode:""},{tex:/\\ding\{66\}/,unicode:""},{tex:/\\ding\{67\}/,unicode:""},{tex:/\\ding\{68\}/,unicode:""},{tex:/\\ding\{69\}/,unicode:""},{tex:/\\ding\{70\}/,unicode:""},{tex:/\\ding\{71\}/,unicode:""},{tex:/\\ding\{72\}/,unicode:""},{tex:/\\ding\{73\}/,unicode:""},{tex:/\\ding\{74\}/,unicode:""},{tex:/\\ding\{75\}/,unicode:""},{tex:/\\ding\{76\}/,unicode:""},{tex:/\\ding\{77\}/,unicode:""},{tex:/\\ding\{78\}/,unicode:""},{tex:/\\ding\{79\}/,unicode:""},{tex:/\\ding\{80\}/,unicode:""},{tex:/\\ding\{81\}/,unicode:""},{tex:/\\ding\{82\}/,unicode:""},{tex:/\\ding\{83\}/,unicode:""},{tex:/\\ding\{84\}/,unicode:""},{tex:/\\ding\{85\}/,unicode:""},{tex:/\\ding\{86\}/,unicode:""},{tex:/\\ding\{87\}/,unicode:""},{tex:/\\ding\{88\}/,unicode:""},{tex:/\\ding\{89\}/,unicode:""},{tex:/\\ding\{90\}/,unicode:""},{tex:/\\ding\{91\}/,unicode:""},{tex:/\\ding\{92\}/,unicode:""},{tex:/\\ding\{93\}/,unicode:""},{tex:/\\ding\{94\}/,unicode:""},{tex:/\\ding\{95\}/,unicode:""},{tex:/\\ding\{96\}/,unicode:""},{tex:/\\ding\{97\}/,unicode:""},{tex:/\\ding\{98\}/,unicode:""},{tex:/\\ding\{99\}/,unicode:""},{tex:/\\divideontimes/,unicode:""},{tex:/\\doteqdot/,unicode:""},{tex:/\\dotequiv/,unicode:""},{tex:/\\dotplus/,unicode:""},{tex:/\\dotsim/,unicode:""},{tex:/\\dottedcircle/,unicode:""},{tex:/\\dottedsquare/,unicode:""},{tex:/\\dottimes/,unicode:""},{tex:/\\doublebarvee/,unicode:""},{tex:/\\doubleplus/,unicode:""},{tex:/\\downarrowbarred/,unicode:""},{tex:/\\DownArrowBar/,unicode:""},{tex:/\\downarrow/,unicode:""},{tex:/\\Downarrow/,unicode:""},{tex:/\\DownArrowUpArrow/,unicode:""},{tex:/\\downdasharrow/,unicode:""},{tex:/\\downdownarrows/,unicode:""},{tex:/\\downdownharpoons/,unicode:""},{tex:/\\downfishtail/,unicode:""},{tex:/\\downharpoonleft/,unicode:""},{tex:/\\downharpoonright/,unicode:""},{tex:/\\DownLeftRightVector/,unicode:""},{tex:/\\DownLeftTeeVector/,unicode:""},{tex:/\\DownLeftVectorBar/,unicode:""},{tex:/\\downrightcurvedarrow/,unicode:""},{tex:/\\DownRightTeeVector/,unicode:""},{tex:/\\DownRightVectorBar/,unicode:""},{tex:/\\downslopeellipsis/,unicode:""},{tex:/\\downtriangleleftblack/,unicode:""},{tex:/\\downtrianglerightblack/,unicode:""},{tex:/\\downwhitearrow/,unicode:""},{tex:/\\drbkarow/,unicode:""},{tex:/\\droang/,unicode:""},{tex:/\\egsdot/,unicode:""},{tex:/\\eighthnote/,unicode:""},{tex:/\\elinters/,unicode:""},{tex:/\\Elolarr/,unicode:""},{tex:/\\Elorarr/,unicode:""},{tex:/\\Elroang/,unicode:""},{tex:/\\elsdot/,unicode:""},{tex:/\\ElsevierGlyph\{2129\}/,unicode:""},{tex:/\\ElsevierGlyph\{21B3\}/,unicode:""},{tex:/\\ElsevierGlyph\{2232\}/,unicode:""},{tex:/\\ElsevierGlyph\{2233\}/,unicode:""},{tex:/\\ElsevierGlyph\{2238\}/,unicode:""},{tex:/\\ElsevierGlyph\{2242\}/,unicode:""},{tex:/\\ElsevierGlyph\{225A\}/,unicode:""},{tex:/\\ElsevierGlyph\{225F\}/,unicode:""},{tex:/\\ElsevierGlyph\{2274\}/,unicode:""},{tex:/\\ElsevierGlyph\{2275\}/,unicode:""},{tex:/\\ElsevierGlyph\{22C0\}/,unicode:""},{tex:/\\ElsevierGlyph\{22C1\}/,unicode:""},{tex:/\\ElsevierGlyph\{300A\}/,unicode:""},{tex:/\\ElsevierGlyph\{300B\}/,unicode:""},{tex:/\\ElsevierGlyph\{3018\}/,unicode:""},{tex:/\\ElsevierGlyph\{3019\}/,unicode:""},{tex:/\\ElsevierGlyph\{E20A\}/,unicode:""},{tex:/\\ElsevierGlyph\{E20B\}/,unicode:""},{tex:/\\ElsevierGlyph\{E20C\}/,unicode:""},{tex:/\\ElsevierGlyph\{E20D\}/,unicode:""},{tex:/\\ElsevierGlyph\{E20E\}/,unicode:""},{tex:/\\ElsevierGlyph\{E20F\}/,unicode:""},{tex:/\\ElsevierGlyph\{E210\}/,unicode:""},{tex:/\\ElsevierGlyph\{E211\}/,unicode:""},{tex:/\\ElsevierGlyph\{E212\}/,unicode:""},{tex:/\\ElsevierGlyph\{E214\}/,unicode:""},{tex:/\\ElsevierGlyph\{E215\}/,unicode:""},{tex:/\\ElsevierGlyph\{E219\}/,unicode:""},{tex:/\\ElsevierGlyph\{E21A\}/,unicode:""},{tex:/\\ElsevierGlyph\{E21C\}/,unicode:""},{tex:/\\ElsevierGlyph\{E259\}/,unicode:""},{tex:/\\ElsevierGlyph\{E25A\}/,unicode:""},{tex:/\\ElsevierGlyph\{E25B\}/,unicode:""},{tex:/\\ElsevierGlyph\{E25C\}/,unicode:""},{tex:/\\ElsevierGlyph\{E25D\}/,unicode:""},{tex:/\\ElsevierGlyph\{E25E\}/,unicode:""},{tex:/\\ElsevierGlyph\{E260\}/,unicode:""},{tex:/\\ElsevierGlyph\{E291\}/,unicode:""},{tex:/\\ElsevierGlyph\{E30D\}/,unicode:""},{tex:/\\ElsevierGlyph\{E36E\}/,unicode:""},{tex:/\\ElsevierGlyph\{E372\}/,unicode:""},{tex:/\\ElsevierGlyph\{E381\}/,unicode:""},{tex:/\\ElsevierGlyph\{E395\}/,unicode:""},{tex:/\\ElsevierGlyph\{E61B\}/,unicode:""},{tex:/\\ElsevierGlyph\{E838\}/,unicode:""},{tex:/\\Elxsqcup/,unicode:""},{tex:/\\Elxuplus/,unicode:""},{tex:/\\ElzAnd/,unicode:""},{tex:/\\Elzbar/,unicode:""},{tex:/\\Elzbtdl/,unicode:""},{tex:/\\ElzCint/,unicode:""},{tex:/\\Elzcirfb/,unicode:""},{tex:/\\Elzcirfl/,unicode:""},{tex:/\\Elzcirfr/,unicode:""},{tex:/\\Elzclomeg/,unicode:""},{tex:/\\Elzddfnc/,unicode:""},{tex:/\\Elzdefas/,unicode:""},{tex:/\\Elzdlcorn/,unicode:""},{tex:/\\Elzdshfnc/,unicode:""},{tex:/\\Elzdyogh/,unicode:""},{tex:/\\Elzesh/,unicode:""},{tex:/\\Elzfhr/,unicode:""},{tex:/\\Elzglst/,unicode:""},{tex:/\\Elzhlmrk/,unicode:""},{tex:/\\ElzInf/,unicode:""},{tex:/\\Elzinglst/,unicode:""},{tex:/\\Elzinvv/,unicode:""},{tex:/\\Elzinvw/,unicode:""},{tex:/\\ElzLap/,unicode:""},{tex:/\\Elzlmrk/,unicode:""},{tex:/\\Elzlow/,unicode:""},{tex:/\\Elzlpargt/,unicode:""},{tex:/\\Elzltlmr/,unicode:""},{tex:/\\Elzltln/,unicode:""},{tex:/\\Elzminhat/,unicode:""},{tex:/\\Elzopeno/,unicode:""},{tex:/\\Elzpalh/,unicode:""},{tex:/\\Elzpbgam/,unicode:""},{tex:/\\Elzpgamma/,unicode:""},{tex:/\\Elzpscrv/,unicode:""},{tex:/\\Elzpupsil/,unicode:""},{tex:/\\Elzrais/,unicode:""},{tex:/\\Elzrarrx/,unicode:""},{tex:/\\Elzreapos/,unicode:""},{tex:/\\Elzreglst/,unicode:""},{tex:/\\ElzRlarr/,unicode:""},{tex:/\\ElzrLarr/,unicode:""},{tex:/\\Elzrtld/,unicode:""},{tex:/\\Elzrtll/,unicode:""},{tex:/\\Elzrtln/,unicode:""},{tex:/\\Elzrtlr/,unicode:""},{tex:/\\Elzrtls/,unicode:""},{tex:/\\Elzrtlt/,unicode:""},{tex:/\\Elzrtlz/,unicode:""},{tex:/\\Elzrttrnr/,unicode:""},{tex:/\\Elzrvbull/,unicode:""},{tex:/\\Elzsbbrg/,unicode:""},{tex:/\\Elzsblhr/,unicode:""},{tex:/\\Elzsbrhr/,unicode:""},{tex:/\\Elzschwa/,unicode:""},{tex:/\\Elzsqfl/,unicode:""},{tex:/\\Elzsqfnw/,unicode:""},{tex:/\\Elzsqfr/,unicode:""},{tex:/\\Elzsqfse/,unicode:""},{tex:/\\Elzsqspne/,unicode:""},{tex:/\\ElzSup/,unicode:""},{tex:/\\Elztdcol/,unicode:""},{tex:/\\Elztesh/,unicode:""},{tex:/\\Elztfnc/,unicode:""},{tex:/\\ElzThr/,unicode:""},{tex:/\\ElzTimes/,unicode:""},{tex:/\\Elztrna/,unicode:""},{tex:/\\Elztrnh/,unicode:""},{tex:/\\Elztrnmlr/,unicode:""},{tex:/\\Elztrnm/,unicode:""},{tex:/\\Elztrnrl/,unicode:""},{tex:/\\Elztrnr/,unicode:""},{tex:/\\Elztrnsa/,unicode:""},{tex:/\\Elztrnt/,unicode:""},{tex:/\\Elztrny/,unicode:""},{tex:/\\Elzverti/,unicode:""},{tex:/\\Elzverts/,unicode:""},{tex:/\\Elzvrecto/,unicode:""},{tex:/\\Elzxrat/,unicode:""},{tex:/\\Elzyogh/,unicode:""},{tex:/\\emptysetoarrl/,unicode:""},{tex:/\\emptysetoarr/,unicode:""},{tex:/\\emptysetobar/,unicode:""},{tex:/\\emptysetocirc/,unicode:""},{tex:/\\enclosecircle/,unicode:""},{tex:/\\enclosediamond/,unicode:""},{tex:/\\enclosesquare/,unicode:""},{tex:/\\enclosetriangle/,unicode:""},{tex:/\\ensuremath\{\\Elzpes\}/,unicode:""},{tex:/\\eparsl/,unicode:""},{tex:/\\epsilon/,unicode:""},{tex:/\\eqcolon/,unicode:""},{tex:/\\eqqgtr/,unicode:""},{tex:/\\eqqless/,unicode:""},{tex:/\\eqqplus/,unicode:""},{tex:/\\eqqsim/,unicode:""},{tex:/\\eqqslantgtr/,unicode:""},{tex:/\\eqqslantless/,unicode:""},{tex:/\\eqslantgtr/,unicode:""},{tex:/\\eqslantless/,unicode:""},{tex:/\\equalleftarrow/,unicode:""},{tex:/\\equalrightarrow/,unicode:""},{tex:/\\equivDD/,unicode:""},{tex:/\\equivVert/,unicode:""},{tex:/\\equivVvert/,unicode:""},{tex:/\\eqvparsl/,unicode:""},{tex:/\\errbarblackcircle/,unicode:""},{tex:/\\errbarblackdiamond/,unicode:""},{tex:/\\errbarblacksquare/,unicode:""},{tex:/\\errbarcircle/,unicode:""},{tex:/\\errbardiamond/,unicode:""},{tex:/\\errbarsquare/,unicode:""},{tex:/\\estimates/,unicode:""},{tex:/\\exists/,unicode:""},{tex:/\\ExponetialE/,unicode:""},{tex:/\\fallingdotseq/,unicode:""},{tex:/\\fbowtie/,unicode:""},{tex:/\\fbox\{~~\}/,unicode:""},{tex:/\\fdiagovnearrow/,unicode:""},{tex:/\\fdiagovrdiag/,unicode:""},{tex:/\\fisheye/,unicode:""},{tex:/\\forall/,unicode:""},{tex:/\\forcesextra/,unicode:""},{tex:/\\forksnot/,unicode:""},{tex:/\\fracslash/,unicode:""},{tex:/\\frownie/,unicode:""},{tex:/\\fullouterjoin/,unicode:""},{tex:/\\geqqslant/,unicode:""},{tex:/\\geqslant/,unicode:""},{tex:/\\gesdotol/,unicode:""},{tex:/\\gesdoto/,unicode:""},{tex:/\\gesdot/,unicode:""},{tex:/\\gesles/,unicode:""},{tex:/\\ggcurly/,unicode:""},{tex:/\\gggnest/,unicode:""},{tex:/\\gleichstark/,unicode:""},{tex:/\\gnapprox/,unicode:""},{tex:/\\greaterequivlnt/,unicode:""},{tex:/\\gtquest/,unicode:""},{tex:/\\gtrapprox/,unicode:""},{tex:/\\gtrarr/,unicode:""},{tex:/\\gtreqless/,unicode:""},{tex:/\\gtreqqless/,unicode:""},{tex:/\\gtrless/,unicode:""},{tex:/\\guillemotleft/,unicode:""},{tex:/\\guillemotright/,unicode:""},{tex:/\\guilsinglleft/,unicode:""},{tex:/\\guilsinglright/,unicode:""},{tex:/\\harrowextender/,unicode:""},{tex:/\\hatapprox/,unicode:""},{tex:/\\heartsuit/,unicode:""},{tex:/\\Hermaphrodite/,unicode:""},{tex:/\\hermitconjmatrix/,unicode:""},{tex:/\\hexagonblack/,unicode:""},{tex:/\\hexagon/,unicode:""},{tex:/\\homothetic/,unicode:""},{tex:/\\hookleftarrow/,unicode:""},{tex:/\\hookrightarrow/,unicode:""},{tex:/\\hourglass/,unicode:""},{tex:/\\hphantom\{0\}/,unicode:""},{tex:/\\hphantom\{,\}/,unicode:""},{tex:/\\hrectangleblack/,unicode:""},{tex:/\\hspace\{0\.166em\}/,unicode:""},{tex:/\\,|\\hspace\{0\.167em\}/,unicode:""},{tex:/\\hspace\{0\.25em\}/,unicode:""},{tex:/\\hspace\{0\.33em\}/,unicode:""},{tex:/\\hspace\{0\.6em\}/,unicode:""},{tex:/\\hspace\{1em\}/,unicode:""},{tex:/\\hyphenbullet/,unicode:""},{tex:/\\hzigzag/,unicode:""},{tex:/\\iiiint/,unicode:""},{tex:/\\increment/,unicode:""},{tex:/\\intBar/,unicode:""},{tex:/\\intbottom/,unicode:""},{tex:/\\intcap/,unicode:""},{tex:/\\intcup/,unicode:""},{tex:/\\intercal/,unicode:""},{tex:/\\interleave/,unicode:""},{tex:/\\intextender/,unicode:""},{tex:/\\int\\!\\int\\!\\int/,unicode:""},{tex:/\\int\\!\\int/,unicode:""},{tex:/\\intlarhk/,unicode:""},{tex:/\\intprodr/,unicode:""},{tex:/\\inversewhitecircle/,unicode:""},{tex:/\\invwhitelowerhalfcircle/,unicode:""},{tex:/\\invwhiteupperhalfcircle/,unicode:""},{tex:/\\isindot/,unicode:""},{tex:/\\isinobar/,unicode:""},{tex:/\\'\{\}\{I\}/,unicode:""},{tex:/\\jupiter/,unicode:""},{tex:/<\\kern-0\.58em\(/,unicode:""},{tex:/\\Lambda/,unicode:""},{tex:/\\lambda/,unicode:""},{tex:/\\langledot/,unicode:""},{tex:/\\laplac/,unicode:""},{tex:/\\lazysinv/,unicode:""},{tex:/\\lblkbrbrak/,unicode:""},{tex:/\\lbracelend/,unicode:""},{tex:/\\lbracemid/,unicode:""},{tex:/\\lbraceuend/,unicode:""},{tex:/\\lbrace/,unicode:"\\{"},{tex:/\\lBrace/,unicode:""},{tex:/\\lbrackextender/,unicode:""},{tex:/\\lbracklltick/,unicode:""},{tex:/\\lbrackubar/,unicode:""},{tex:/\\lbrackuend/,unicode:""},{tex:/\\lbrackultick/,unicode:""},{tex:/\\lbrbrak/,unicode:""},{tex:/\\Lbrbrak/,unicode:""},{tex:/\\lcurvyangle/,unicode:""},{tex:/\\leftarrowapprox/,unicode:""},{tex:/\\leftarrowbackapprox/,unicode:""},{tex:/\\LeftArrowBar/,unicode:""},{tex:/\\leftarrowbsimilar/,unicode:""},{tex:/\\leftarrowless/,unicode:""},{tex:/\\leftarrowonoplus/,unicode:""},{tex:/\\leftarrowplus/,unicode:""},{tex:/\\leftarrowshortrightarrow/,unicode:""},{tex:/\\leftarrowsimilar/,unicode:""},{tex:/\\leftarrowsubset/,unicode:""},{tex:/\\leftarrowtail/,unicode:""},{tex:/\\leftarrowtriangle/,unicode:""},{tex:/\\leftarrow/,unicode:""},{tex:/\\Leftarrow/,unicode:""},{tex:/\\leftarrowx/,unicode:""},{tex:/\\leftbarharpoon/,unicode:""},{tex:/\\leftbkarrow/,unicode:""},{tex:/\\LEFTCIRCLE/,unicode:""},{tex:/\\leftcurvedarrow/,unicode:""},{tex:/\\leftdbkarrow/,unicode:""},{tex:/\\leftdbltail/,unicode:""},{tex:/\\leftdotarrow/,unicode:""},{tex:/\\LeftDownTeeVector/,unicode:""},{tex:/\\LeftDownVectorBar/,unicode:""},{tex:/\\leftharpoondown/,unicode:""},{tex:/\\leftharpoonup/,unicode:""},{tex:/\\leftleftarrows/,unicode:""},{tex:/\\leftleftharpoons/,unicode:""},{tex:/\\leftouterjoin/,unicode:""},{tex:/\\leftrightarrowcircle/,unicode:""},{tex:/\\leftrightarrows/,unicode:""},{tex:/\\leftrightarrowtriangle/,unicode:""},{tex:/\\leftrightarrow/,unicode:""},{tex:/\\Leftrightarrow/,unicode:""},{tex:/\\leftrightharpoonsdown/,unicode:""},{tex:/\\leftrightharpoons/,unicode:""},{tex:/\\leftrightharpoonsup/,unicode:""},{tex:/\\leftrightharpoon/,unicode:""},{tex:/\\leftrightsquigarrow/,unicode:""},{tex:/\\LeftRightVector/,unicode:""},{tex:/\\leftslice/,unicode:""},{tex:/\\leftsquigarrow/,unicode:""},{tex:/\\lefttail/,unicode:""},{tex:/\\LeftTeeVector/,unicode:""},{tex:/\\leftthreearrows/,unicode:""},{tex:/\\leftthreetimes/,unicode:""},{tex:/\\LeftTriangleBar/,unicode:""},{tex:/\\LeftUpDownVector/,unicode:""},{tex:/\\LeftUpTeeVector/,unicode:""},{tex:/\\LeftUpVectorBar/,unicode:""},{tex:/\\LeftVectorBar/,unicode:""},{tex:/\\leftwhitearrow/,unicode:""},{tex:/\\leqqslant/,unicode:""},{tex:/\\leqslant/,unicode:""},{tex:/\\lesdotor/,unicode:""},{tex:/\\lesdoto/,unicode:""},{tex:/\\lesdot/,unicode:""},{tex:/\\lesges/,unicode:""},{tex:/\\lessapprox/,unicode:""},{tex:/\\lessdot/,unicode:""},{tex:/\\lesseqgtr/,unicode:""},{tex:/\\lesseqqgtr/,unicode:""},{tex:/\\lessequivlnt/,unicode:""},{tex:/\\lessgtr/,unicode:""},{tex:/\\lfbowtie/,unicode:""},{tex:/\\lftimes/,unicode:""},{tex:/\\lgblkcircle/,unicode:""},{tex:/\\lgroup/,unicode:""},{tex:/\\lightning/,unicode:""},{tex:/\\linefeed/,unicode:""},{tex:/\\llblacktriangle/,unicode:""},{tex:/\\llbracket/,unicode:""},{tex:/\\llcorner/,unicode:""},{tex:/\\llcurly/,unicode:""},{tex:/\\Lleftarrow/,unicode:""},{tex:/\\LLeftarrow/,unicode:""},{tex:/\\lllnest/,unicode:""},{tex:/\\lltriangle/,unicode:""},{tex:/\\lmoustache/,unicode:""},{tex:/\\lnapprox/,unicode:""},{tex:/\\longdashv/,unicode:""},{tex:/\\longdivision/,unicode:""},{tex:/\\longleftarrow/,unicode:""},{tex:/\\Longleftarrow/,unicode:""},{tex:/\\longleftrightarrow/,unicode:""},{tex:/\\Longleftrightarrow/,unicode:""},{tex:/\\longleftsquigarrow/,unicode:""},{tex:/\\longmapsfrom/,unicode:""},{tex:/\\Longmapsfrom/,unicode:""},{tex:/\\longmapsto/,unicode:""},{tex:/\\Longmapsto/,unicode:""},{tex:/\\longrightarrow/,unicode:""},{tex:/\\Longrightarrow/,unicode:""},{tex:/\\looparrowleft/,unicode:""},{tex:/\\looparrowright/,unicode:""},{tex:/\\lowint/,unicode:""},{tex:/\\lozengeminus/,unicode:""},{tex:/\\lozenge/,unicode:""},{tex:/\\lparenextender/,unicode:""},{tex:/\\Lparengtr/,unicode:""},{tex:/\\lparenlend/,unicode:""},{tex:/\\lparenuend/,unicode:""},{tex:/\\lrblacktriangle/,unicode:""},{tex:/\\lrcorner/,unicode:""},{tex:/\\lrtriangleeq/,unicode:""},{tex:/\\lrtriangle/,unicode:""},{tex:/\\lsqhook/,unicode:""},{tex:/\\ltlarr/,unicode:""},{tex:/\\ltquest/,unicode:""},{tex:/\\lvboxline/,unicode:""},{tex:/\\lvzigzag/,unicode:""},{tex:/\\Lvzigzag/,unicode:""},{tex:/\\MapsDown/,unicode:""},{tex:/\\mapsfrom/,unicode:""},{tex:/\\Mapsfrom/,unicode:""},{tex:/\\Mapsto/,unicode:""},{tex:/\\mbfDigamma/,unicode:""},{tex:/\\mbfdigamma/,unicode:""},{tex:/\\mdblkdiamond/,unicode:""},{tex:/\\mdblklozenge/,unicode:""},{tex:/\\mdsmblksquare/,unicode:""},{tex:/\\mdsmwhtcircle/,unicode:""},{tex:/\\mdsmwhtsquare/,unicode:""},{tex:/\\mdwhtdiamond/,unicode:""},{tex:/\\mdwhtlozenge/,unicode:""},{tex:/\\measangledltosw/,unicode:""},{tex:/\\measangledrtose/,unicode:""},{tex:/\\measangleldtosw/,unicode:""},{tex:/\\measanglelutonw/,unicode:""},{tex:/\\measanglerdtose/,unicode:""},{tex:/\\measanglerutone/,unicode:""},{tex:/\\measangleultonw/,unicode:""},{tex:/\\measangleurtone/,unicode:""},{tex:/\\measeq/,unicode:""},{tex:/\\measuredangleleft/,unicode:""},{tex:/\\measuredangle/,unicode:""},{tex:/\\medblackstar/,unicode:""},{tex:/\\medbullet/,unicode:""},{tex:/\\medcirc/,unicode:""},{tex:/\\medwhitestar/,unicode:""},{tex:/\\mercury/,unicode:""},{tex:/\\midbarvee/,unicode:""},{tex:/\\midbarwedge/,unicode:""},{tex:/\\midcir/,unicode:""},{tex:/\\minusfdots/,unicode:""},{tex:/\\minusrdots/,unicode:""},{tex:/\\mkern1mu/,unicode:""},{tex:/\\:|\\mkern4mu/,unicode:""},{tex:/\\modtwosum/,unicode:""},{tex:/\\multimapboth/,unicode:""},{tex:/\\multimapinv/,unicode:""},{tex:/\\multimap/,unicode:""},{tex:/\\natural/,unicode:""},{tex:/\\nearrow/,unicode:""},{tex:/\\Nearrow/,unicode:""},{tex:/\\neovnwarrow/,unicode:""},{tex:/\\neovsearrow/,unicode:""},{tex:/\\neptune/,unicode:""},{tex:/\\NestedGreaterGreater/,unicode:""},{tex:/\\NestedLessLess/,unicode:""},{tex:/\\neswarrow/,unicode:""},{tex:/\\nexists/,unicode:""},{tex:/\\nHdownarrow/,unicode:""},{tex:/\\nHuparrow/,unicode:""},{tex:/\\nhVvert/,unicode:""},{tex:/\\nleftarrow/,unicode:""},{tex:/\\nLeftarrow/,unicode:""},{tex:/\\nleftrightarrow/,unicode:""},{tex:/\\nLeftrightarrow/,unicode:""},{tex:/\\nolinebreak/,unicode:""},{tex:/\\not\\approx/,unicode:""},{tex:/\\notbackslash/,unicode:""},{tex:/\\not\\cong/,unicode:""},{tex:/\\not\\equiv/,unicode:""},{tex:/\\not\\geq/,unicode:""},{tex:/\\notgreaterless/,unicode:""},{tex:/\\not\\in/,unicode:""},{tex:/\\not\\kern-0\.3em\\times/,unicode:""},{tex:/\\not\\leq/,unicode:""},{tex:/\\notlessgreater/,unicode:""},{tex:/\\not\\ni/,unicode:""},{tex:/\\not\\prec/,unicode:""},{tex:/\\not\\simeq/,unicode:""},{tex:/\\not\\sim/,unicode:""},{tex:/\\notslash/,unicode:""},{tex:/\\not\\sqsubseteq/,unicode:""},{tex:/\\not\\sqsupseteq/,unicode:""},{tex:/\\not\\subseteq/,unicode:""},{tex:/\\not\\subset/,unicode:""},{tex:/\\not\\succ/,unicode:""},{tex:/\\not\\supseteq/,unicode:""},{tex:/\\not\\supset/,unicode:""},{tex:/\\not =/,unicode:""},{tex:/\\nparallel/,unicode:""},{tex:/\\npolint/,unicode:""},{tex:/\\npreceq/,unicode:""},{tex:/\\nrightarrow/,unicode:""},{tex:/\\nRightarrow/,unicode:""},{tex:/\\nsucceq/,unicode:""},{tex:/\\ntrianglelefteq/,unicode:""},{tex:/\\ntriangleleft/,unicode:""},{tex:/\\ntrianglerighteq/,unicode:""},{tex:/\\ntriangleright/,unicode:""},{tex:/\\nvdash/,unicode:""},{tex:/\\nvDash/,unicode:""},{tex:/\\nVdash/,unicode:""},{tex:/\\nVDash/,unicode:""},{tex:/\\nvinfty/,unicode:""},{tex:/\\nvleftarrowtail/,unicode:""},{tex:/\\nVleftarrowtail/,unicode:""},{tex:/\\nvleftarrow/,unicode:""},{tex:/\\nVleftarrow/,unicode:""},{tex:/\\nvLeftarrow/,unicode:""},{tex:/\\nvleftrightarrow/,unicode:""},{tex:/\\nVleftrightarrow/,unicode:""},{tex:/\\nvLeftrightarrow/,unicode:""},{tex:/\\nvRightarrow/,unicode:""},{tex:/\\nvtwoheadleftarrowtail/,unicode:""},{tex:/\\nVtwoheadleftarrowtail/,unicode:""},{tex:/\\nvtwoheadleftarrow/,unicode:""},{tex:/\\nVtwoheadleftarrow/,unicode:""},{tex:/\\nvtwoheadrightarrowtail/,unicode:""},{tex:/\\nVtwoheadrightarrowtail/,unicode:""},{tex:/\\nVtwoheadrightarrow/,unicode:""},{tex:/\\nwarrow/,unicode:""},{tex:/\\Nwarrow/,unicode:""},{tex:/\\nwovnearrow/,unicode:""},{tex:/\\nwsearrow/,unicode:""},{tex:/\\obrbrak/,unicode:""},{tex:/\\ocommatopright/,unicode:""},{tex:/\\odotslashdot/,unicode:""},{tex:/\\olcross/,unicode:""},{tex:/\\ominus/,unicode:""},{tex:/\{\\'\{\}O\}|\\'\{\}O/,unicode:""},{tex:/\\openbracketleft/,unicode:""},{tex:/\\openbracketright/,unicode:""},{tex:/\\original/,unicode:""},{tex:/\\oslash/,unicode:""},{tex:/\\otimeshat/,unicode:""},{tex:/\\otimes/,unicode:""},{tex:/\\Otimes/,unicode:""},{tex:/\\oturnedcomma/,unicode:""},{tex:/\\overbrace/,unicode:""},{tex:/\\overbracket/,unicode:""},{tex:/\\overleftrightarrow/,unicode:""},{tex:/\\overline/,unicode:""},{tex:/\\overparen/,unicode:""},{tex:/\\ovhook/,unicode:""},{tex:/\\parallelogramblack/,unicode:""},{tex:/\\parallel/,unicode:""},{tex:/\\parsim/,unicode:""},{tex:/\\partialmeetcontraction/,unicode:""},{tex:/\\partial/,unicode:""},{tex:/\\pentagonblack/,unicode:""},{tex:/\\pentagon/,unicode:""},{tex:/\\perspcorrespond/,unicode:""},{tex:/\\Pi|\\P\{i\}/,unicode:""},{tex:/\\Pisymbol\{ppi020\}\{105\}/,unicode:""},{tex:/\\Pisymbol\{ppi020\}\{117\}/,unicode:""},{tex:/\\Pisymbol\{ppi022\}\{87\}/,unicode:""},{tex:/\\pitchfork/,unicode:""},{tex:/\\Planckconst/,unicode:""},{tex:/\\pluseqq/,unicode:""},{tex:/\\plushat/,unicode:""},{tex:/\\plussim/,unicode:""},{tex:/\\plussubtwo/,unicode:""},{tex:/\\plustrif/,unicode:""},{tex:/\\pointint/,unicode:""},{tex:/\\postalmark/,unicode:""},{tex:/\\precapprox/,unicode:""},{tex:/\\preccurlyeq/,unicode:""},{tex:/\\precedesnotsimilar/,unicode:""},{tex:/\\preceqq/,unicode:""},{tex:/\\preceq/,unicode:""},{tex:/\\precnapprox/,unicode:""},{tex:/\\precneqq/,unicode:""},{tex:/\\precneq/,unicode:""},{tex:/\\profline/,unicode:""},{tex:/\\profsurf/,unicode:""},{tex:/\\PropertyLine/,unicode:""},{tex:/\\propto/,unicode:""},{tex:/\\prurel/,unicode:""},{tex:/\\pullback/,unicode:""},{tex:/\\pushout/,unicode:""},{tex:/\\quarternote/,unicode:""},{tex:/\\Question/,unicode:""},{tex:/\\radiation/,unicode:""},{tex:/\\rangledot/,unicode:""},{tex:/\\rangledownzigzagarrow/,unicode:""},{tex:/\\rblkbrbrak/,unicode:""},{tex:/\\rbracelend/,unicode:""},{tex:/\\rbracemid/,unicode:""},{tex:/\\rbraceuend/,unicode:""},{tex:/\\rbrace/,unicode:"\\}"},{tex:/\\rBrace/,unicode:""},{tex:/\\rbrackextender/,unicode:""},{tex:/\\rbracklend/,unicode:""},{tex:/\\rbracklrtick/,unicode:""},{tex:/\\rbrackubar/,unicode:""},{tex:/\\rbrackuend/,unicode:""},{tex:/\\rbrackurtick/,unicode:""},{tex:/\\rbrbrak/,unicode:""},{tex:/\\Rbrbrak/,unicode:""},{tex:/\\rcurvyangle/,unicode:""},{tex:/\\rdiagovfdiag/,unicode:""},{tex:/\\rdiagovsearrow/,unicode:""},{tex:/\\recorder/,unicode:""},{tex:/\\recycle/,unicode:""},{tex:/\\revangleubar/,unicode:""},{tex:/\\revangle/,unicode:""},{tex:/\\revemptyset/,unicode:""},{tex:/\\ReverseUpEquilibrium/,unicode:""},{tex:/\\revnmid/,unicode:""},{tex:/\\rfbowtie/,unicode:""},{tex:/\\rftimes/,unicode:""},{tex:/\\rgroup/,unicode:""},{tex:/\\rightanglearc/,unicode:""},{tex:/\\rightanglemdot/,unicode:""},{tex:/\\rightangle/,unicode:""},{tex:/\\rightarrowapprox/,unicode:""},{tex:/\\rightarrowbackapprox/,unicode:""},{tex:/\\RightArrowBar/,unicode:""},{tex:/\\rightarrowbsimilar/,unicode:""},{tex:/\\rightarrowdiamond/,unicode:""},{tex:/\\rightarrowgtr/,unicode:""},{tex:/\\rightarrowonoplus/,unicode:""},{tex:/\\rightarrowplus/,unicode:""},{tex:/\\rightarrowsimilar/,unicode:""},{tex:/\\rightarrowsupset/,unicode:""},{tex:/\\rightarrowtail/,unicode:""},{tex:/\\rightarrowtriangle/,unicode:""},{tex:/\\rightarrow/,unicode:""},{tex:/\\Rightarrow/,unicode:""},{tex:/\\rightbarharpoon/,unicode:""},{tex:/\\rightbkarrow/,unicode:""},{tex:/\\rightdbltail/,unicode:""},{tex:/\\rightdotarrow/,unicode:""},{tex:/\\RightDownTeeVector/,unicode:""},{tex:/\\RightDownVectorBar/,unicode:""},{tex:/\\rightharpoondown/,unicode:""},{tex:/\\rightharpoonup/,unicode:""},{tex:/\\rightleftarrows/,unicode:""},{tex:/\\rightleftharpoonsdown/,unicode:""},{tex:/\\rightleftharpoons/,unicode:""},{tex:/\\rightleftharpoonsup/,unicode:""},{tex:/\\rightleftharpoon/,unicode:""},{tex:/\\rightmoon/,unicode:""},{tex:/\\rightouterjoin/,unicode:""},{tex:/\\rightpentagonblack/,unicode:""},{tex:/\\rightpentagon/,unicode:""},{tex:/\\rightrightarrows/,unicode:""},{tex:/\\rightrightharpoons/,unicode:""},{tex:/\\rightslice/,unicode:""},{tex:/\\rightsquigarrow/,unicode:""},{tex:/\\righttail/,unicode:""},{tex:/\\RightTeeVector/,unicode:""},{tex:/\\rightthreearrows/,unicode:""},{tex:/\\rightthreetimes/,unicode:""},{tex:/\\RightTriangleBar/,unicode:""},{tex:/\\RightUpDownVector/,unicode:""},{tex:/\\RightUpTeeVector/,unicode:""},{tex:/\\RightUpVectorBar/,unicode:""},{tex:/\\RightVectorBar/,unicode:""},{tex:/\\rightwhitearrow/,unicode:""},{tex:/\\ringplus/,unicode:""},{tex:/\\risingdotseq/,unicode:""},{tex:/\\rmoustache/,unicode:""},{tex:/\\RoundImplies/,unicode:""},{tex:/\\rparenextender/,unicode:""},{tex:/\\rparenlend/,unicode:""},{tex:/\\Rparenless/,unicode:""},{tex:/\\rparenuend/,unicode:""},{tex:/\\rppolint/,unicode:""},{tex:/\\rrbracket/,unicode:""},{tex:/\\Rrightarrow/,unicode:""},{tex:/\\RRightarrow/,unicode:""},{tex:/\\rsolbar/,unicode:""},{tex:/\\rsqhook/,unicode:""},{tex:/\\rtriltri/,unicode:""},{tex:/\\rule\{1em\}\{1pt\}/,unicode:""},{tex:/\\RuleDelayed/,unicode:""},{tex:/\\rvboxline/,unicode:""},{tex:/\\rvzigzag/,unicode:""},{tex:/\\Rvzigzag/,unicode:""},{tex:/\\sagittarius/,unicode:""},{tex:/\\sansLmirrored/,unicode:""},{tex:/\\sansLturned/,unicode:""},{tex:/\\scorpio/,unicode:""},{tex:/\\scpolint/,unicode:""},{tex:/\\scurel/,unicode:""},{tex:/\\searrow/,unicode:""},{tex:/\\Searrow/,unicode:""},{tex:/\\seovnearrow/,unicode:""},{tex:/\\setminus/,unicode:""},{tex:/\\shortdowntack/,unicode:""},{tex:/\\shortlefttack/,unicode:""},{tex:/\\shortuptack/,unicode:""},{tex:/\\shuffle/,unicode:""},{tex:/\\similarleftarrow/,unicode:""},{tex:/\\similarrightarrow/,unicode:""},{tex:/\\sim\\joinrel\\leadsto/,unicode:""},{tex:/\\simminussim/,unicode:""},{tex:/\\simplus/,unicode:""},{tex:/\\simrdots/,unicode:""},{tex:/\\sixteenthnote/,unicode:""},{tex:/\\smallin/,unicode:""},{tex:/\\smallni/,unicode:""},{tex:/\\smashtimes/,unicode:""},{tex:/\\smblkdiamond/,unicode:""},{tex:/\\smblklozenge/,unicode:""},{tex:/\\smeparsl/,unicode:""},{tex:/\\smwhitestar/,unicode:""},{tex:/\\smwhtcircle/,unicode:""},{tex:/\\smwhtlozenge/,unicode:""},{tex:/\\smwhtsquare/,unicode:""},{tex:/\\sphericalangle/,unicode:""},{tex:/\\sphericalangleup/,unicode:""},{tex:/\\sqrint/,unicode:""},{tex:/\\sqrt\[3\]/,unicode:""},{tex:/\\sqrt\[4\]/,unicode:""},{tex:/\\sqrtbottom/,unicode:""},{tex:/\\sqsubseteq/,unicode:""},{tex:/\\sqsubsetneq/,unicode:""},{tex:/\\sqsubset/,unicode:""},{tex:/\\sqsupseteq/,unicode:""},{tex:/\\sqsupset/,unicode:""},{tex:/\\squarebotblack/,unicode:""},{tex:/\\squarecrossfill/,unicode:""},{tex:/\\squarehfill/,unicode:""},{tex:/\\squarehvfill/,unicode:""},{tex:/\\squarellblack/,unicode:""},{tex:/\\squarellquad/,unicode:""},{tex:/\\squarelrquad/,unicode:""},{tex:/\\squareneswfill/,unicode:""},{tex:/\\squarenwsefill/,unicode:""},{tex:/\\squaretopblack/,unicode:""},{tex:/\\squareulblack/,unicode:""},{tex:/\\squareulquad/,unicode:""},{tex:/\\squareurblack/,unicode:""},{tex:/\\squareurquad/,unicode:""},{tex:/\\squarevfill/,unicode:""},{tex:/\\squoval/,unicode:""},{tex:/\\stackrel\{\*\}\{=\}/,unicode:""},{tex:/\\starequal/,unicode:""},{tex:/\\steaming/,unicode:""},{tex:/\\Stigma/,unicode:""},{tex:/\\stigma/,unicode:""},{tex:/\\subedot/,unicode:""},{tex:/\\submult/,unicode:""},{tex:/\\subrarr/,unicode:""},{tex:/\\subsetapprox/,unicode:""},{tex:/\\subsetcirc/,unicode:""},{tex:/\\subsetdot/,unicode:""},{tex:/\\subseteqq/,unicode:""},{tex:/\\subseteq/,unicode:""},{tex:/\\subsetneqq/,unicode:""},{tex:/\\subsetneq/,unicode:""},{tex:/\\subsetplus/,unicode:""},{tex:/\\subset/,unicode:""},{tex:/\\subsim/,unicode:""},{tex:/\\subsub/,unicode:""},{tex:/\\subsup/,unicode:""},{tex:/\\succapprox/,unicode:""},{tex:/\\succcurlyeq/,unicode:""},{tex:/\\succeqq/,unicode:""},{tex:/\\succeq/,unicode:""},{tex:/\\succnapprox/,unicode:""},{tex:/\\succneqq/,unicode:""},{tex:/\\succneq/,unicode:""},{tex:/\\succnsim/,unicode:""},{tex:/\\sumbottom/,unicode:""},{tex:/\\sumint/,unicode:""},{tex:/\\supdsub/,unicode:""},{tex:/\\supedot/,unicode:""},{tex:/\\suphsol/,unicode:""},{tex:/\\suphsub/,unicode:""},{tex:/\\suplarr/,unicode:""},{tex:/\\supmult/,unicode:""},{tex:/\\supsetapprox/,unicode:""},{tex:/\\supsetcirc/,unicode:""},{tex:/\\supsetdot/,unicode:""},{tex:/\\supseteqq/,unicode:""},{tex:/\\supseteq/,unicode:""},{tex:/\\supsetneqq/,unicode:""},{tex:/\\supsetneq/,unicode:""},{tex:/\\supsetplus/,unicode:""},{tex:/\\supset/,unicode:""},{tex:/\\supsim/,unicode:""},{tex:/\\supsub/,unicode:""},{tex:/\\supsup/,unicode:""},{tex:/\\surfintegral/,unicode:""},{tex:/\\swarrow/,unicode:""},{tex:/\\Swarrow/,unicode:""},{tex:/\\talloblong/,unicode:""},{tex:/\\textasciiacute/,unicode:""},{tex:/\\textasciibreve/,unicode:""},{tex:/\\textasciicaron/,unicode:""},{tex:/\\textasciidieresis/,unicode:""},{tex:/\\textasciigrave/,unicode:"`"},{tex:/\\textasciimacron/,unicode:""},{tex:/\\textbrokenbar/,unicode:""},{tex:/\\textbullet/,unicode:""},{tex:/\\textcent/,unicode:""},{tex:/\\textcopyright/,unicode:""},{tex:/\\textcurrency/,unicode:""},{tex:/\\textdaggerdbl/,unicode:""},{tex:/\\textdagger/,unicode:""},{tex:/\\textdollar/,unicode:"\\$"},{tex:/\\textdoublepipe/,unicode:""},{tex:/\\textemdash/,unicode:""},{tex:/\\textendash/,unicode:""},{tex:/\\textexclamdown/,unicode:""},{tex:/\\textfrac\{1\}\{3\}/,unicode:""},{tex:/\\textfrac\{1\}\{5\}/,unicode:""},{tex:/\\textfrac\{1\}\{6\}/,unicode:""},{tex:/\\textfrac\{1\}\{8\}/,unicode:""},{tex:/\\textfrac\{2\}\{3\}/,unicode:""},{tex:/\\textfrac\{2\}\{5\}/,unicode:""},{tex:/\\textfrac\{3\}\{5\}/,unicode:""},{tex:/\\textfrac\{3\}\{8\}/,unicode:""},{tex:/\\textfrac\{4\}\{5\}/,unicode:""},{tex:/\\textfrac\{5\}\{6\}/,unicode:""},{tex:/\\textfrac\{5\}\{8\}/,unicode:""},{tex:/\\textfrac\{7\}\{8\}/,unicode:""},{tex:/\\texthvlig/,unicode:""},{tex:/\\textmu/,unicode:""},{tex:/\\textnrleg/,unicode:""},{tex:/\\textonehalf/,unicode:""},{tex:/\\textonequarter/,unicode:""},{tex:/\\textordfeminine/,unicode:""},{tex:/\\textordmasculine/,unicode:""},{tex:/\\textparagraph/,unicode:""},{tex:/\\textperiodcentered/,unicode:""},{tex:/\\textpertenthousand/,unicode:""},{tex:/\\textperthousand/,unicode:""},{tex:/\\textphi/,unicode:""},{tex:/\\textquestiondown/,unicode:""},{tex:/\\textquotedblleft/,unicode:""},{tex:/\\textquotedblright/,unicode:""},{tex:/\\textquotesingle/,unicode:"'"},{tex:/\\textregistered/,unicode:""},{tex:/\\textsection/,unicode:""},{tex:/\\textsterling/,unicode:""},{tex:/\\texttheta/,unicode:""},{tex:/\\textTheta/,unicode:""},{tex:/\\textthreequarters/,unicode:""},{tex:/\\texttildelow/,unicode:""},{tex:/\\texttimes/,unicode:""},{tex:/\\texttrademark/,unicode:""},{tex:/\\textturnk/,unicode:""},{tex:/\\textvartheta/,unicode:""},{tex:/\\textvisiblespace/,unicode:""},{tex:/\\textyen/,unicode:""},{tex:/\\therefore/,unicode:""},{tex:/\\thermod/,unicode:""},{tex:/\\threedangle/,unicode:""},{tex:/\\threeunderdot/,unicode:""},{tex:/\\TH|\\T\{H\}/,unicode:""},{tex:/\\tieinfty/,unicode:""},{tex:/\\tildetrpl/,unicode:""},{tex:/\\timesbar/,unicode:""},{tex:/\\tminus/,unicode:""},{tex:/\\tone\{11\}/,unicode:""},{tex:/\\tone\{22\}/,unicode:""},{tex:/\\tone\{33\}/,unicode:""},{tex:/\\tone\{44\}/,unicode:""},{tex:/\\tone\{55\}/,unicode:""},{tex:/\\topcir/,unicode:""},{tex:/\\topfork/,unicode:""},{tex:/\\topsemicircle/,unicode:""},{tex:/\\trapezium/,unicode:""},{tex:/\\trianglecdot/,unicode:""},{tex:/\\triangledown/,unicode:""},{tex:/\\triangleleftblack/,unicode:""},{tex:/\\trianglelefteq/,unicode:""},{tex:/\\triangleleft/,unicode:""},{tex:/\\triangleminus/,unicode:""},{tex:/\\triangleplus/,unicode:""},{tex:/\\triangleq/,unicode:""},{tex:/\\trianglerightblack/,unicode:""},{tex:/\\trianglerighteq/,unicode:""},{tex:/\\triangleright/,unicode:""},{tex:/\\triangleserifs/,unicode:""},{tex:/\\triangles/,unicode:""},{tex:/\\triangletimes/,unicode:""},{tex:/\\tripleplus/,unicode:""},{tex:/\\trslash/,unicode:""},{tex:/\\truestate/,unicode:""},{tex:/\\turnangle/,unicode:""},{tex:/\\turnednot/,unicode:""},{tex:/\\twocaps/,unicode:""},{tex:/\\twocups/,unicode:""},{tex:/\\twoheaddownarrow/,unicode:""},{tex:/\\twoheadleftarrowtail/,unicode:""},{tex:/\\twoheadleftarrow/,unicode:""},{tex:/\\twoheadleftdbkarrow/,unicode:""},{tex:/\\twoheadmapsfrom/,unicode:""},{tex:/\\twoheadrightarrow/,unicode:""},{tex:/\\twoheaduparrowcircle/,unicode:""},{tex:/\\twoheaduparrow/,unicode:""},{tex:/\\twolowline/,unicode:""},{tex:/\\twonotes/,unicode:""},{tex:/\\typecolon/,unicode:""},{tex:/\\ubrbrak/,unicode:""},{tex:/\\ulblacktriangle/,unicode:""},{tex:/\\ulcorner/,unicode:""},{tex:/\\ultriangle/,unicode:""},{tex:/\\uminus/,unicode:""},{tex:/\\underbar/,unicode:""},{tex:/\\underbrace/,unicode:""},{tex:/\\underbracket/,unicode:""},{tex:/\\underleftarrow/,unicode:""},{tex:/\\underleftharpoondown/,unicode:""},{tex:/\\underline/,unicode:""},{tex:/\\underparen/,unicode:""},{tex:/\\underrightarrow/,unicode:""},{tex:/\\underrightharpoondown/,unicode:""},{tex:/\{\{\/\}\\!\\!\{\/\}\}/,unicode:""},{tex:/\\uparrowbarred/,unicode:""},{tex:/\\UpArrowBar/,unicode:""},{tex:/\\uparrowoncircle/,unicode:""},{tex:/\\uparrow/,unicode:""},{tex:/\\Uparrow/,unicode:""},{tex:/\\updasharrow/,unicode:""},{tex:/\\updownarrowbar/,unicode:""},{tex:/\\updownarrow/,unicode:""},{tex:/\\Updownarrow/,unicode:""},{tex:/\\updownharpoonleftright/,unicode:""},{tex:/\\updownharpoonrightleft/,unicode:""},{tex:/\\UpEquilibrium/,unicode:""},{tex:/\\upfishtail/,unicode:""},{tex:/\\upharpoonleft/,unicode:""},{tex:/\\upharpoonright/,unicode:""},{tex:/\\uprightcurvearrow/,unicode:""},{tex:/\\Upsilon/,unicode:""},{tex:/\\upsilon/,unicode:""},{tex:/\\upslopeellipsis/,unicode:""},{tex:/\\upuparrows/,unicode:""},{tex:/\\upupharpoons/,unicode:""},{tex:/\\upwhitearrow/,unicode:""},{tex:/\\urblacktriangle/,unicode:""},{tex:/\\urcorner/,unicode:""},{tex:/\\urtriangle/,unicode:""},{tex:/\\utilde/,unicode:""},{tex:/\\UUparrow/,unicode:""},{tex:/\\Uuparrow/,unicode:""},{tex:/\\varcarriagereturn/,unicode:""},{tex:/\\varclubsuit/,unicode:""},{tex:/\\varepsilon/,unicode:""},{tex:/\\varhexagonblack/,unicode:""},{tex:/\\varhexagonlrbonds/,unicode:""},{tex:/\\varhexagon/,unicode:""},{tex:/\\varisins/,unicode:""},{tex:/\\varkappa/,unicode:""},{tex:/\\varlrtriangle/,unicode:""},{tex:/\\varniobar/,unicode:""},{tex:/\\varnothing/,unicode:""},{tex:/\\varphi/,unicode:""},{tex:/\\varprod/,unicode:""},{tex:/\\varrho/,unicode:""},{tex:/\\varsigma/,unicode:""},{tex:/\\varspadesuit/,unicode:""},{tex:/\\vartriangleleft/,unicode:""},{tex:/\\vartriangleright/,unicode:""},{tex:/\\vartriangle/,unicode:""},{tex:/\\varVdash/,unicode:""},{tex:/\\varveebar/,unicode:""},{tex:/\\vbraceextender/,unicode:""},{tex:/\\vDdash/,unicode:""},{tex:/\\veebar/,unicode:""},{tex:/\\veemidvert/,unicode:""},{tex:/\\veeodot/,unicode:""},{tex:/\\veeonwedge/,unicode:""},{tex:/\\vertoverlay/,unicode:""},{tex:/\\verymuchgreater/,unicode:""},{tex:/\\verymuchless/,unicode:""},{tex:/\\viewdata/,unicode:""},{tex:/\\vlongdash/,unicode:""},{tex:/\\volintegral/,unicode:""},{tex:/\\vphantom\\{/,unicode:""},{tex:/\\vrectangleblack/,unicode:""},{tex:/\\Vvdash/,unicode:""},{tex:/\\vysmblksquare/,unicode:""},{tex:/\\vysmwhtsquare/,unicode:""},{tex:/\\vzigzag/,unicode:""},{tex:/\\warning/,unicode:""},{tex:/\\wasylozenge/,unicode:""},{tex:/\\wedgedot/,unicode:""},{tex:/\\wedgedoublebar/,unicode:""},{tex:/\\wedgemidvert/,unicode:""},{tex:/\\wedgeodot/,unicode:""},{tex:/\\whitearrowupfrombar/,unicode:""},{tex:/\\whiteinwhitetriangle/,unicode:""},{tex:/\\whitepointerleft/,unicode:""},{tex:/\\whitepointerright/,unicode:""},{tex:/\\whitesquaretickleft/,unicode:""},{tex:/\\whitesquaretickright/,unicode:""},{tex:/\\whthorzoval/,unicode:""},{tex:/\\whtvertoval/,unicode:""},{tex:/\\wideangledown/,unicode:""},{tex:/\\wideangleup/,unicode:""},{tex:/\\widebridgeabove/,unicode:""},{tex:/\\Xi|\\X\{i\}/,unicode:""},{tex:/\\yinyang/,unicode:""},{tex:/\\zproject/,unicode:""},{tex:/\\circeq/,unicode:""},{tex:/\\OE|\\O\{E\}/,unicode:""},{tex:/\\NG|\\N\{G\}/,unicode:""},{tex:/\\eqcirc/,unicode:""},{tex:/\\lfloor/,unicode:""},{tex:/\\rfloor/,unicode:""},{tex:/\\invneg/,unicode:""},{tex:/\\niobar/,unicode:""},{tex:/\\varnis/,unicode:""},{tex:/\\invamp/,unicode:""},{tex:/\\inttop/,unicode:""},{tex:/\\isinvb/,unicode:""},{tex:/\\langle/,unicode:""},{tex:/\\rangle/,unicode:""},{tex:/\\topbot/,unicode:""},{tex:/\\APLinv/,unicode:""},{tex:/\\MapsUp/,unicode:""},{tex:/\\mapsto/,unicode:""},{tex:/\\APLlog/,unicode:""},{tex:/\\daleth/,unicode:""},{tex:/\\sumtop/,unicode:""},{tex:/\\diagup/,unicode:""},{tex:/\\square/,unicode:""},{tex:/\\hslash/,unicode:""},{tex:/\\bumpeq/,unicode:""},{tex:/\\boxbar/,unicode:""},{tex:/\\Square/,unicode:""},{tex:/\\danger/,unicode:""},{tex:/\\Bumpeq/,unicode:""},{tex:/\\ddddot/,unicode:""},{tex:/\\smiley/,unicode:""},{tex:/\\eqless/,unicode:""},{tex:/\\gtrdot/,unicode:""},{tex:/\\Exclam/,unicode:""},{tex:/\\saturn/,unicode:""},{tex:/\\uranus/,unicode:""},{tex:/\\taurus/,unicode:""},{tex:/\\gemini/,unicode:""},{tex:/\\cancer/,unicode:""},{tex:/\\pisces/,unicode:""},{tex:/\\Supset/,unicode:""},{tex:/\\Subset/,unicode:""},{tex:/\\diceii/,unicode:""},{tex:/\\diceiv/,unicode:""},{tex:/\\dicevi/,unicode:""},{tex:/\\anchor/,unicode:""},{tex:/\\swords/,unicode:""},{tex:/\\DJ|\\D\{J\}/,unicode:""},{tex:/\\neuter/,unicode:""},{tex:/\\veedot/,unicode:""},{tex:/\\rtimes/,unicode:""},{tex:/\\ltimes/,unicode:""},{tex:/\\bowtie/,unicode:""},{tex:/\\bigbot/,unicode:""},{tex:/\\cirbot/,unicode:""},{tex:/\\LaTeX/,unicode:"L$^A$T$_E$X"},{tex:/\\delta/,unicode:""},{tex:/\\image/,unicode:""},{tex:/\\llarc/,unicode:""},{tex:/\\simeq/,unicode:""},{tex:/\\eqdef/,unicode:""},{tex:/\\vBarv/,unicode:""},{tex:/\\ElzOr/,unicode:""},{tex:/\\equiv/,unicode:""},{tex:/\\space/,unicode:" "},{tex:/\\isins/,unicode:""},{tex:/\\lnsim/,unicode:""},{tex:/\\Elzxl/,unicode:""},{tex:/\\Theta/,unicode:""},{tex:/\\barin/,unicode:""},{tex:/\\kappa/,unicode:""},{tex:/\\lblot/,unicode:""},{tex:/\\rblot/,unicode:""},{tex:/\\frown/,unicode:""},{tex:/\\earth/,unicode:""},{tex:/\\Angle/,unicode:""},{tex:/\\Sqcup/,unicode:""},{tex:/\\Sqcap/,unicode:""},{tex:/\\nhpar/,unicode:""},{tex:/\\operp/,unicode:""},{tex:/\\sigma/,unicode:""},{tex:/\\csube/,unicode:""},{tex:/\\csupe/,unicode:""},{tex:/\\house/,unicode:""},{tex:/\\forks/,unicode:""},{tex:/\\Elzxh/,unicode:""},{tex:/\\strns/,unicode:""},{tex:/\\eqgtr/,unicode:""},{tex:/\\forkv/,unicode:""},{tex:/\\relax/,unicode:""},{tex:/\\amalg/,unicode:""},{tex:/\\infty/,unicode:""},{tex:/\\VDash/,unicode:""},{tex:/\\fltns/,unicode:""},{tex:/\\disin/,unicode:""},{tex:/\\uplus/,unicode:""},{tex:/\\angle/,unicode:""},{tex:/\\pluto/,unicode:""},{tex:/\\Vdash/,unicode:""},{tex:/\\cdots/,unicode:""},{tex:/\\lceil/,unicode:""},{tex:/\\sqcap/,unicode:""},{tex:/\\smile/,unicode:""},{tex:/\\omega/,unicode:""},{tex:/\\vdots/,unicode:""},{tex:/\\arceq/,unicode:""},{tex:/\\dashv/,unicode:""},{tex:/\\vdash/,unicode:""},{tex:/\\skull/,unicode:""},{tex:/\\rceil/,unicode:""},{tex:/\\virgo/,unicode:""},{tex:/\\perps/,unicode:""},{tex:/\\zhide/,unicode:""},{tex:/\\tplus/,unicode:""},{tex:/\\ldots/,unicode:""},{tex:/\\zpipe/,unicode:""},{tex:/\\dicei/,unicode:""},{tex:/\\venus/,unicode:""},{tex:/\\varpi/,unicode:""},{tex:/\\Elzrh/,unicode:""},{tex:/\\Qoppa/,unicode:""},{tex:/\\aries/,unicode:""},{tex:/\\upint/,unicode:""},{tex:/\\dddot/,unicode:""},{tex:/\\sqcup/,unicode:""},{tex:/\\qoppa/,unicode:""},{tex:/\\Koppa/,unicode:""},{tex:/\\awint/,unicode:""},{tex:/\\koppa/,unicode:""},{tex:/\\Colon/,unicode:""},{tex:/\\gescc/,unicode:""},{tex:/\\oplus/,unicode:""},{tex:/\\asymp/,unicode:""},{tex:/\\isinE/,unicode:""},{tex:/\\Elzrl/,unicode:""},{tex:/\\Sampi/,unicode:""},{tex:/\\sampi/,unicode:""},{tex:/\\doteq/,unicode:""},{tex:/\\slash/,unicode:""},{tex:/\\gnsim/,unicode:""},{tex:/\\libra/,unicode:""},{tex:/\\gsiml/,unicode:""},{tex:/\\wedge/,unicode:""},{tex:/\\dbend/,unicode:""},{tex:/\\dashV/,unicode:""},{tex:/\\Dashv/,unicode:""},{tex:/\\DashV/,unicode:""},{tex:/\\Sigma/,unicode:""},{tex:/\\lsimg/,unicode:""},{tex:/\\gsime/,unicode:""},{tex:/\\lsime/,unicode:""},{tex:/\\Equiv/,unicode:""},{tex:/\\dicev/,unicode:""},{tex:/\\Gamma/,unicode:""},{tex:/\\gtcir/,unicode:""},{tex:/\\ltcir/,unicode:""},{tex:/\\jmath/,unicode:""},{tex:/\\ularc/,unicode:""},{tex:/\\gneqq/,unicode:""},{tex:/\\gimel/,unicode:""},{tex:/\\lneqq/,unicode:""},{tex:/\\Omega/,unicode:""},{tex:/\\Equal/,unicode:""},{tex:/\\aleph/,unicode:""},{tex:/\\nabla/,unicode:""},{tex:/\\lescc/,unicode:""},{tex:/\\simgE/,unicode:""},{tex:/\\sharp/,unicode:""},{tex:/\\imath/,unicode:""},{tex:/\\simlE/,unicode:""},{tex:/\\Delta/,unicode:""},{tex:/\\urarc/,unicode:""},{tex:/\\alpha/,unicode:""},{tex:/\\gamma/,unicode:""},{tex:/\\eqdot/,unicode:""},{tex:/\\Euler/,unicode:""},{tex:/\\lrarc/,unicode:""},{tex:/\\late/,unicode:""},{tex:/\\hash/,unicode:""},{tex:/\\circ/,unicode:""},{tex:/\\Game/,unicode:""},{tex:/\\surd/,unicode:""},{tex:/\\Lbag/,unicode:""},{tex:/\\beth/,unicode:""},{tex:/\\lnot/,unicode:""},{tex:/\\Finv/,unicode:""},{tex:/\\csub/,unicode:""},{tex:/\\csup/,unicode:""},{tex:/\\succ/,unicode:""},{tex:/\\prec/,unicode:""},{tex:/\\Vert/,unicode:""},{tex:/\\nmid/,unicode:""},{tex:/\\not</,unicode:""},{tex:/\\dlsh/,unicode:""},{tex:/\\Barv/,unicode:""},{tex:/\\cdot/,unicode:""},{tex:/\\vBar/,unicode:""},{tex:/\\lang/,unicode:""},{tex:/\\rang/,unicode:""},{tex:/\\Zbar/,unicode:""},{tex:/\\star/,unicode:""},{tex:/\\psur/,unicode:""},{tex:/\\pinj/,unicode:""},{tex:/\\finj/,unicode:""},{tex:/\\bNot/,unicode:""},{tex:/\\spot/,unicode:""},{tex:/\\limg/,unicode:""},{tex:/\\rimg/,unicode:""},{tex:/\\obot/,unicode:""},{tex:/\\cirE/,unicode:""},{tex:/\\XBox/,unicode:""},{tex:/\\perp/,unicode:""},{tex:/\\leqq/,unicode:""},{tex:/\\dsol/,unicode:""},{tex:/\\Rbag/,unicode:""},{tex:/\\xsol/,unicode:""},{tex:/\\odot/,unicode:""},{tex:/\\flat/,unicode:""},{tex:/\\LVec/,unicode:""},{tex:/\\intx/,unicode:""},{tex:/\\lvec/,unicode:""},{tex:/\\Join/,unicode:""},{tex:/\\zcmp/,unicode:""},{tex:/\\pfun/,unicode:""},{tex:/\\cong/,unicode:""},{tex:/\\smte/,unicode:""},{tex:/\\ffun/,unicode:""},{tex:/\\odiv/,unicode:""},{tex:/\\fcmp/,unicode:""},{tex:/\\mlcp/,unicode:""},{tex:/\\ElOr/,unicode:""},{tex:/\\dsub/,unicode:""},{tex:/\\rsub/,unicode:""},{tex:/\\oint/,unicode:""},{tex:/\\Same/,unicode:""},{tex:/\\geqq/,unicode:""},{tex:/\\prod/,unicode:""},{tex:/\\lneq/,unicode:""},{tex:/\\gneq/,unicode:""},{tex:/\\upin/,unicode:""},{tex:/\\not>/,unicode:""},{tex:/_\\ast/,unicode:""},{tex:/\\iota/,unicode:""},{tex:/\\zeta/,unicode:""},{tex:/\\beta/,unicode:""},{tex:/\\male/,unicode:""},{tex:/\\nisd/,unicode:""},{tex:/\\quad/,unicode:""},{tex:/\\text/,unicode:""},{tex:/\\glj/,unicode:""},{tex:/\\int/,unicode:""},{tex:/\\cup/,unicode:""},{tex:/\\QED/,unicode:""},{tex:/\\cap/,unicode:""},{tex:/\\gla/,unicode:""},{tex:/\\Psi/,unicode:""},{tex:/\\Phi/,unicode:""},{tex:/\\sum/,unicode:""},{tex:/\\Rsh/,unicode:""},{tex:/\\vee/,unicode:""},{tex:/\\Lsh/,unicode:""},{tex:/\\sim/,unicode:""},{tex:/\\lhd/,unicode:""},{tex:/\\LHD/,unicode:""},{tex:/\\rhd/,unicode:""},{tex:/\\phi/,unicode:""},{tex:/\\lgE/,unicode:""},{tex:/\\glE/,unicode:""},{tex:/\\RHD/,unicode:""},{tex:/\\cat/,unicode:""},{tex:/\\Yup/,unicode:""},{tex:/\\vec/,unicode:""},{tex:/\\div/,unicode:""},{tex:/\\mid/,unicode:""},{tex:/\\mho/,unicode:""},{tex:/\\psi/,unicode:""},{tex:/\\chi/,unicode:""},{tex:/\\top/,unicode:""},{tex:/\\Not/,unicode:""},{tex:/\\tau/,unicode:""},{tex:/\\smt/,unicode:""},{tex:/\\rho/,unicode:""},{tex:/\\sun/,unicode:""},{tex:/\\Cap/,unicode:""},{tex:/\\lat/,unicode:""},{tex:/\\leo/,unicode:""},{tex:/\\Sun/,unicode:""},{tex:/\\Cup/,unicode:""},{tex:/\\eta/,unicode:""},{tex:/\\Top/,unicode:""},{tex:/\\bij/,unicode:""},{tex:/\\eth/,unicode:""},{tex:/\\geq/,unicode:""},{tex:/\\nis/,unicode:""},{tex:/\\leq/,unicode:""},{tex:/\\le/,unicode:""},{tex:/\\ll/,unicode:""},{tex:/\\dj/,unicode:""},{tex:/\\in/,unicode:""},{tex:/\\-/,unicode:""},{tex:/\\th/,unicode:""},{tex:/\\wp/,unicode:""},{tex:/\\aa/,unicode:""},{tex:/\\ss/,unicode:""},{tex:/\\ae/,unicode:""},{tex:/\\ng/,unicode:""},{tex:/\\mu/,unicode:""},{tex:/''''/,unicode:""},{tex:/\\pi/,unicode:""},{tex:/\\gg/,unicode:""},{tex:/\\xi/,unicode:""},{tex:/\\ni/,unicode:""},{tex:/\\nu/,unicode:""},{tex:/\\pm/,unicode:""},{tex:/\\mp/,unicode:""},{tex:/\\wr/,unicode:""},{tex:/\\\./,unicode:""},{tex:/\\dh/,unicode:""},{tex:/\\oe/,unicode:""},{tex:/\\url/,unicode:"\\XXurl"},{tex:/\\u/,unicode:""},{tex:/\\XXurl/,unicode:"\\url"},{tex:/\\L/,unicode:""},{tex:/\\c/,unicode:""},{tex:/\\i/,unicode:""},{tex:/\\k/,unicode:""},{tex:/\\H/,unicode:""},{tex:/\\"/,unicode:""},{tex:/\\v/,unicode:""},{tex:/\\o/,unicode:""},{tex:/\\`/,unicode:""},{tex:/\\'/,unicode:""},{tex:/\\~/,unicode:""},{tex:/\\r/,unicode:""},{tex:/\\O/,unicode:""},{tex:/\\=/,unicode:""},{tex:/\\l/,unicode:""},{tex:/'''/,unicode:""},{tex:/\\textasciitilde/,unicode:"\\~"},{tex:/\\backslash|\\textbackslash/,unicode:""}].map((e=>{const t=e.tex.source;return{tex:/^[a-zA-Z\\]+$/.test(t)?new RegExp(`{(${t})}|${t}\\s|${t}(?=\\W|\\_)`,"g"):new RegExp(`{(${t})}|${t}{}|${t}`,"g"),unicode:e.unicode}})),Ys=[{source:["mvbook","book"],target:["inbook","bookinbook","suppbook"],fields:[{source:"author",target:"author"},{source:"author",target:"bookauthor"}]},{source:["mvbook"],target:["book","inbook","bookinbook","suppbook"],fields:[{source:"title",target:"maintitle"},{source:"subtitle",target:"mainsubtitle"},{source:"titleaddon",target:"maintitleaddon"}]},{source:["mvcollection","mvreference"],target:["collection","reference","incollection","inreference","suppcollection"],fields:[{source:"title",target:"maintitle"},{source:"subtitle",target:"mainsubtitle"},{source:"titleaddon",target:"maintitleaddon"}]},{source:["mvproceedings"],target:["proceedings","inproceedings"],fields:[{source:"title",target:"maintitle"},{source:"subtitle",target:"mainsubtitle"},{source:"titleaddon",target:"maintitleaddon"}]},{source:["book"],target:["inbook","bookinbook","suppbook"],fields:[{source:"title",target:"booktitle"},{source:"subtitle",target:"booksubtitle"},{source:"titleaddon",target:"booktitleaddon"}]},{source:["collection","reference"],target:["incollection","inreference","suppcollection"],fields:[{source:"title",target:"booktitle"},{source:"subtitle",target:"booksubtitle"},{source:"titleaddon",target:"booktitleaddon"}]},{source:["proceedings"],target:["inproceedings"],fields:[{source:"title",target:"booktitle"},{source:"subtitle",target:"booksubtitle"},{source:"titleaddon",target:"booktitleaddon"}]},{source:["periodical"],target:["article","suppperiodical"],fields:[{source:"title",target:"journaltitle"},{source:"subtitle",target:"journalsubtitle"}]}],Gs=[["\\textbf{","strong"],["\\mkbibbold{","strong"],["\\mkbibitalic{","em"],["\\mkbibemph{","em"],["\\textit{","em"],["\\emph{","em"],["\\textsc{","smallcaps"],["\\enquote{","enquote"],["\\mkbibquote{","enquote"],["\\textsubscript{","sub"],["\\textsuperscript{","sup"]],Ks=[["\\scshape","smallcaps"],["\\sc","smallcaps"],["\\bfseries","strong"],["\\bf","strong"],["\\itshape","em"],["\\it","em"]],Xs=[["\\url{","url"]],Js={"&":"&","%":"%",$:"$","#":"#",_:"_","{":"{","}":"}",",":",","~":"~","^":"^","'":"'",";":"","\\":"\n"};class Zs{constructor(e,t=!1){this.string=e,this.cpMode=t,this.braceLevel=0,this.slen=e.length,this.si=0,this.json=[],this.braceClosings=[],this.currentMarks=[],this.inCasePreserve=null,this.addNewTextNode()}removeIfEmptyTextNode(){this.textNode&&0===this.textNode.text.length&&this.json.pop()}checkAndAddNewTextNode(){this.textNode&&this.textNode.text.length>0&&this.addNewTextNode()}addNewTextNode(){const e={type:"text",text:""};this.json.push(e),this.textNode=e}stringParser(){let e,t;e:for(;this.si<this.slen;)switch(this.string[this.si]){case"\\":for(let e of Gs)if(this.string.substring(this.si,this.si+e[0].length)===e[0]){this.braceLevel++,this.si+=e[0].length,this.checkAndAddNewTextNode(),this.cpMode&&(this.inCasePreserve===this.braceLevel-1&&"{"===this.string[this.si-1]&&"nocase"===this.currentMarks[this.currentMarks.length-1].type?(this.currentMarks.pop(),this.inCasePreserve=null):(this.currentMarks.push({type:"nocase"}),this.inCasePreserve=this.braceLevel)),this.currentMarks.push({type:e[1]}),this.textNode.marks=this.currentMarks.slice(),this.braceClosings.push(!0);continue e}for(let e of Ks)if(this.string.substring(this.si,this.si+e[0].length)===e[0]&&[" ","\\"].includes(this.string.substring(this.si+e[0].length,this.si+e[0].length+1))){this.si+=e[0].length," "===this.string.substring(this.si,this.si+1)&&this.si++,this.currentMarks.push({type:e[1]}),this.textNode.marks=this.currentMarks.slice();continue e}for(let e of Xs)if(this.string.substring(this.si,this.si+e[0].length)===e[0]){this.checkAndAddNewTextNode(),this.textNode.marks=this.currentMarks.slice(),this.textNode.marks.push({type:e[1]}),this.si+=e[0].length;let t=this.si,n=0;for(;t<this.slen&&("}"!==this.string[t]||n>0);){switch(this.string[t]){case"{":n++;break;case"}":n--}t++}this.textNode.text=this.string.substring(this.si,t),this.addNewTextNode(),this.si=t+1;continue e}if(Js[this.string[this.si+1]])this.textNode.text+=Js[this.string[this.si+1]],this.si+=2;else{for(this.si++;this.si<this.slen&&this.string[this.si].match("[a-zA-Z0-9]");)this.si++;"{"===this.string[this.si]&&(this.braceLevel++,this.braceClosings.push(!1),this.si++)}break;case"_":switch(this.string[this.si+1]){case"{":this.checkAndAddNewTextNode(),this.braceLevel++,this.si+=2,this.currentMarks.push({type:"sub"}),this.textNode.marks=this.currentMarks.slice(),this.braceClosings.push(!0);break;case"\\":this.si++;break;default:this.checkAndAddNewTextNode(),this.textNode.marks=this.currentMarks.slice(),this.textNode.marks.push({type:"sub"}),this.textNode.text=this.string[this.si+1],this.addNewTextNode(),this.currentMarks.length&&(this.textNode.marks=this.currentMarks.slice()),this.si+=2}break;case"`":"`"===this.string[this.si+1]?(this.checkAndAddNewTextNode(),this.braceLevel++,this.si+=2,this.currentMarks.push({type:"enquote"}),this.textNode.marks=this.currentMarks.slice(),this.braceClosings.push(!0)):(this.textNode.text+=this.string[this.si],this.si++);break;case"'":if("'"===this.string[this.si+1]){if(this.braceLevel--,!(this.braceLevel>-1))return[{type:"text",text:this.string}];this.braceClosings.pop()&&(this.checkAndAddNewTextNode(),this.currentMarks.pop(),this.currentMarks.length?this.textNode.marks=this.currentMarks.slice():delete this.textNode.marks),this.si+=2}else this.textNode.text+=this.string[this.si],this.si++;break;case"^":switch(this.string[this.si+1]){case"{":this.checkAndAddNewTextNode(),this.braceLevel++,this.si+=2,this.currentMarks.push({type:"sup"}),this.textNode.marks=this.currentMarks.slice(),this.braceClosings.push(!0);break;case"\\":this.si++;break;default:this.checkAndAddNewTextNode(),this.textNode.marks=this.currentMarks.slice(),this.textNode.marks.push({type:"sup"}),this.textNode.text=this.string[this.si+1],this.addNewTextNode(),this.currentMarks.length&&(this.textNode.marks=this.currentMarks.slice()),this.si+=2}break;case"{":if("}"===this.string[this.si+1]){this.si+=2;continue}this.braceLevel++,this.inCasePreserve||!this.cpMode?this.braceClosings.push(!1):(this.inCasePreserve=this.braceLevel,this.checkAndAddNewTextNode(),this.currentMarks.push({type:"nocase"}),this.textNode.marks=this.currentMarks.slice(),this.braceClosings.push(!0)),this.si++;break;case"}":if(this.braceLevel--,!(this.braceLevel>-1))return[{type:"text",text:this.string}];if(this.braceClosings.pop()){this.checkAndAddNewTextNode();let e=this.currentMarks.pop();if(this.inCasePreserve===this.braceLevel+1)for(this.inCasePreserve=null;"nocase"!==e.type&&this.currentMarks.length;)e=this.currentMarks.pop();this.currentMarks.length?this.textNode.marks=this.currentMarks.slice():delete this.textNode.marks}this.si++;break;case"$":this.si++;break;case"~":this.textNode.text+="",this.si++;break;case"":for(this.removeIfEmptyTextNode(),t=this.si+1;t<this.slen&&""!==this.string[t];)t++;e=this.string.substring(this.si+1,t),this.json.push({type:"variable",attrs:{variable:e}}),this.addNewTextNode(),this.si=t+1;break;case"":this.textNode.text+="\\",this.si++;break;case"\r":this.si++;break;case"\n":["\r","\n"].includes(this.string[this.si+1])&&"\n"!==this.string[this.si-1]?this.textNode.text+="\n\n":/\S/.test(this.string[this.si-1])&&/\S/.test(this.string[this.si+1])&&(this.textNode.text+=" "),this.si++;break;default:this.textNode.text+=this.string[this.si],this.si++}return this.braceLevel>0?[{type:"text",text:this.string}]:(this.removeIfEmptyTextNode(),this.json)}get output(){return this.stringParser()}}class Qs{constructor(e){this.nameString=e.trim(),this.nameDict={},this._particle=[],this._suffix=[]}parseName(){let e=this.splitTexString(this.nameString,",");if(e.length>1&&this.nameString.includes("="))this.parseExtendedName(e);else if(3===e.length)this.processVonLast(this.splitTexString(e[0].replace(/[{}]/g,"")),this.splitTexString(e[1])),this.processFirstMiddle(this.splitTexString(e[2]));else if(2===e.length)this.processVonLast(this.splitTexString(e[0].replace(/[{}]/g,""))),this.processFirstMiddle(this.splitTexString(e[1]));else if(1===e.length){let t=this.splitTexString(this.nameString);if(1===t.length)if("{"===this.nameString[0]&&"}"===this.nameString[this.nameString.length-1]&&this.nameString.includes("=")&&this.nameString.includes(",")&&this.nameString.includes(" ")&&(this.nameString.includes("given")||this.nameString.includes("family")))e=this.splitTexString(this.nameString.slice(1,this.nameString.length-1),","),this.parseExtendedName(e);else{let e=this._reformLiteral(t[0]);e.length&&(this.nameDict.literal=e)}else{let e=this.splitAt(t),n=e[0],i=e[1];if(0===i.length&&n.length>1){let e=n.pop();i.push(e)}this.processFirstMiddle(n),this.processVonLast(i)}}else this.nameDict.literal=this._reformLiteral(this.nameString.trim())}parseExtendedName(e){e.forEach((e=>{let t=e.trim().replace(/^"|"$/g,"").split("="),n=t.shift().trim().toLowerCase();["family","given","prefix","suffix"].includes(n)?this.nameDict[n]=this._reformLiteral(t.join("=").trim()):"useprefix"===n&&("true"===t.join("").trim().toLowerCase()?this.nameDict.useprefix=!0:this.nameDict.useprefix=!1)}))}get output(){return this.parseName(),!!Object.keys(this.nameDict).length&&this.nameDict}splitTexString(e,t="[\\s~]+"){let n=0,i=!1,r=0,o=[],a=e.length,s=0;for(;s<a;){switch(e.charAt(s)){case"{":n+=1;break;case"}":n-=1;break;case'"':i=!i;break;case"\\":s++;break;default:if(0===n&&!1===i&&s>0){let n=e.slice(s).match(RegExp(`^${t}`));if(n){let t=n[0].length;s+t<a&&(o.push(e.slice(r,s)),r=s+t)}}}s++}return r<a&&o.push(e.slice(r)),o}processFirstMiddle(e){this.nameDict.given=this._reformLiteral(e.join(" ").trim())}processVonLast(e,t=[]){let n=this.rsplitAt(e),i=n[0],r=n[1];i.length>0&&0===r.length&&r.push(i.pop()),i.length&&(this.nameDict.prefix=this._reformLiteral(i.join(" ").trim()),this.nameDict.useprefix=!0),t.length&&(this.nameDict.suffix=this._reformLiteral(t.join(" ").trim())),this.nameDict.family=this._reformLiteral(r.join(" ").trim())}findFirstLowerCaseWord(e){for(let t=0;t<e.length;t++){let n=e[t];if(n===n.toLowerCase())return t}return e.length}splitAt(e){const t=this.findFirstLowerCaseWord(e);return[e.slice(0,t),e.slice(t)]}rsplitAt(e){const t=this.findFirstLowerCaseWord(e.slice().reverse()),n=e.length-t;return[e.slice(0,n),e.slice(n)]}_reformLiteral(e){return new Zs(e).output}}class ec{constructor(e){this.groups=[],this.groupType="jabref4",this.warnings=[],this.entries=e,this.pos=0,this.fileDirectory="",this.input="",this.stringStarts=[["jabref-meta: databaseType:bibtex;",()=>{this.groupType="jabref4"}],["jabref-meta: databaseType:biblatex;",()=>{this.groupType="jabref4"}],["jabref-meta: groupsversion:3;",()=>{this.groupType="jabref3"}],["jabref-meta: grouping:",()=>this.readGroupInfo("jabref4.1")],["jabref-meta: groupstree:",()=>this.readGroupInfo("")],["jabref-meta: fileDirectory:",()=>this.readFileDirectory()]]}checkString(e){this.input=e,this.pos=0,this.stringStarts.find((t=>{let n=e.indexOf(t[0],this.pos);return!(n<0||(this.pos=n+t[0].length,t[1](),0))}))}readGroupInfo(e){switch(e&&(this.groupType=e),this.groupType){case"jabref3":this.readJabref3();break;case"jabref4":case"jabref4.1":this.readJabref4()}}readFileDirectory(){let e="",t=this.input?this.input:"",n=this.pos;for(;t.length>n&&";"!==t[n];)e+=t[n],n++;this.fileDirectory=e,this.pos=n}readJabref3(){for(;this.input.length>this.pos&&"\r\n ".indexOf(this.input[this.pos])>=0;)this.pos++;let e=this.input.substring(this.pos).replace(/[\r\n]/g,"").replace(/\\\\\\;/g,"").replace(/\\;/g,"").split(";");e=e.map((e=>e.replace(/\u2005/g,";")));let t={0:{name:"",references:[],groups:[]}};for(let n of e){if(""===n)continue;let e=n.match(/^([0-9])\s+([^:]+):(.*)/);if(!e)return;let i=parseInt(e[1]),r=e[2],o=e[3];const a=o?o.split("").filter((e=>e)):[];let s=a.shift(),c=a.shift();if(0!==i)switch(t[i]={name:s,groups:[],references:a},t[i-1].groups.push(t[i]),"ExplicitGroup"!=r&&this.warnings.push({type:"unsupported_jabref_group",group_type:r}),c){case"0":break;case"1":t[i].references=t[i].references.filter((e=>t[i-1].references.includes(e)));break;case"2":t[i].references=[...new Set([...t[i].references,...t[i-1].references])]}}this.groups=t[0].groups}clearGroups(e){for(const t of e)t.references=[],this.clearGroups(t.groups||[])}readJabref4(){this.readJabref3(),"jabref4.1"===this.groupType&&this.clearGroups(this.groups),this.entries.forEach((e=>{if(!e.unknown_fields||!e.unknown_fields.groups||!e.entry_key)return;let t=e.unknown_fields.groups.reduce(((e,t)=>{if("text"in t){const n=t.text;e+=((t.marks||[]).find((e=>"sub"===e.type))?"_":"")+n}return e}),"").trim();e.unknown_fields&&delete e.unknown_fields.groups,t.length&&t.split(/\s*,\s*/).forEach((t=>{let n=this.find(t);n&&n.references.push(e.entry_key)}))}))}find(e,t){if(!(t=t||this.groups))return!1;for(let n=0;n<t.length;n++){if(t[n].name===e)return t[n];let i=this.find(e,t[n].groups);if(i)return i}return!1}}function tc(e,t="and"){let n,i=[],r=/([^\s{}]+|\s|{|})/g,o=0,a=0;for(;null!==(n=r.exec(e));){const e=!(!n||!n.length)&&n[0];if(!1===e)break;switch(a===i.length&&i.push(""),e){case"{":o+=1,i[a]+=e;break;case"}":o-=1,i[a]+=e;break;case t:0===o?a++:i[a]+=e;break;default:i[a]+=e}}return i}class nc{constructor(e){"string"!=typeof e&&(console.warn("Wrong format for EDTFParser",e),e=""),this.string=e,this.type="None",this.valid=!0,this.values=[],this.uncertain=!1,this.approximate=!1,this.parts=[]}init(){return this.checkCertainty(),this.splitInterval(),{type:this.type,valid:this.valid,values:"Interval"===this.type?this.getPartValues():this.values,cleanedString:this.cleanString(),uncertain:this.uncertain,approximate:this.approximate}}getPartValues(){return 0===this.parts.length?[]:1===this.parts.length?this.parts[0].values:[this.parts[0].values,this.parts[1].values]}cleanString(){let e="";return this.parts.length?e=this.parts.map((e=>e.cleanString())).join("/"):this.values&&(e=this.values.reduce(((e,t,n)=>0===n?"number"==typeof t&&t>0?String(t).padStart(4,"0"):String(t):n<3?`${e}-${String(t).padStart(2,"0")}`:3===n?`${e}T${String(t).padStart(2,"0")}`:n<6?`${e}:${String(t).padStart(2,"0")}`:`${e}${t}`),"")),this.uncertain&&(e+="?"),this.approximate&&(e+="~"),e}checkCertainty(){"~"===this.string.slice(-1)&&(this.approximate=!0,this.string=this.string.slice(0,-1)),"?"===this.string.slice(-1)&&(this.uncertain=!0,this.string=this.string.slice(0,-1))}splitInterval(){let e=this.string.split("/");if(e.length>2)this.valid=!1;else if(2===e.length){this.type="Interval";let t=!1;e.forEach((e=>{let n=new nc(e);n.init(),n.valid||"Open"===n.type?(this.parts.push(n),n.valid&&(t=!0)):this.valid=!1})),t||(this.valid=!1)}else this.splitDateParts()}splitDateParts(){if(["",".."].includes(this.string))return this.valid=!1,this.values=[],void(this.type="Open");let e=this.string.replace(/^y/,"").split(/(?!^)-/);if(e.length>3)return void(this.valid=!1);let t=!0,n=e[0];if(!/^-?[0-9]*u{0,4}$/.test(n))return void(this.valid=!1);if("u"===n.slice(-1)){t=!1,this.type="Interval";let e=new nc(n.replace(/u/g,"0"));e.init();let i=new nc(n.replace(/u/g,"9"));i.init(),this.parts=[e,i],e.valid&&i.valid||(this.valid=!1)}else this.values=[parseInt(n)],this.type="Date";if(e.length<2)return;let i=e[1];if(!t&&"uu"!==i)return void(this.valid=!1);let r=parseInt(i.replace("uu","01"));if(!/^[0-2][0-9]|uu$/.test(i)||r<1||r>12&&r<21||r>24)return void(this.valid=!1);if("uu"===i&&(t=!1),t&&this.values.push(r),e.length<3)return void(r>12&&(this.type="Season"));if(r>12)return void(this.valid=!1);let o=e[2].split("T"),a=o[0];if(!t&&"uu"!==a)return void(this.valid=!1);let s=parseInt(a.replace("uu","01"));if(!/^[0-3][0-9]$|uu/.test(i)||s<1||s>31)return void(this.valid=!1);if("uu"===a&&(t=!1),t){let e=new Date(`${n}/${i}/${a}`);if(e.getFullYear()!==parseInt(n)||e.getMonth()+1!==r||e.getDate()!==s)return void(this.valid=!1);this.values.push(s)}if(o.length<2)return;if(!t)return void(this.valid=!1);let c=o[1].slice(0,8).split(":").map((e=>parseInt(e)));if(3!==c.length||c[0]<0||c[0]>23||c[1]<0||c[1]>59||c[2]<0||c[2]>59)return void(this.valid=!1);if(this.values=this.values.concat(c),8===o[1].length)return;let u=o[1].slice(8);if("Z"===u)return void this.values.push("Z");let l=RegExp("^[+-][0-1][0-9]:[0-1][0-9]$"),d=u.split(":").map((e=>parseInt(e)));!l.test(u)||d[0]<-11||d[0]>14||d[1]<0||d[1]>59?this.valid=!1:this.values.push(u)}}function ic(e){return new nc(e).init()}const rc=/\\/;class oc{constructor(e,t={}){this.startPosition=-1,this.endPosition=-1,this.input=e,this.config=t,this.pos=0,this.entries=[],this.bibDB={},this.currentKey=!1,this.currentType="",this.errors=[],this.warnings=[],this.comments=[],this.strings={},this.months={JAN:"01",FEB:"02",MAR:"03",APR:"04",MAY:"05",JUN:"06",JUL:"07",AUG:"08",SEP:"09",OCT:"10",NOV:"11",DEC:"12"},this.groupParser=new ec(this.entries),this.groups=!1,this.jabrefMeta={},this.crossrefs={}}isWhitespace(e){return" "==e||"\r"==e||"\t"==e||"\n"==e}error(e){this.errors.push(Object.assign({},e,{line:this.input.slice(0,this.pos).split("\n").length}))}warning(e){this.warnings.push(Object.assign({},e,{line:this.input.slice(0,this.pos).split("\n").length}))}match(e,t={skipWhitespace:!0}){!0!==t.skipWhitespace&&"leading"!==t.skipWhitespace||this.skipWhitespace(),this.input.substring(this.pos,this.pos+e.length)==e?this.pos+=e.length:this.error({type:"token_mismatch",expected:e,found:this.input.substring(this.pos,this.pos+e.length)}),!0!==t.skipWhitespace&&"trailing"!==t.skipWhitespace||this.skipWhitespace()}tryMatch(e){return this.skipWhitespace(),this.input.substring(this.pos,this.pos+e.length)==e}skipWhitespace(){for(;this.isWhitespace(this.input[this.pos]);)this.pos++;if("%"==this.input[this.pos]){for(;"\n"!=this.input[this.pos];)this.pos++;this.skipWhitespace()}}skipToNext(){for(;this.input.length>this.pos&&"@"!=this.input[this.pos];)this.pos++;return this.input.length!=this.pos}valueBraces(){let e=0;this.match("{",{skipWhitespace:"leading"});let t="";for(;this.pos<this.input.length;){switch(this.input[this.pos]){case"\\":t+=this.input.substring(this.pos,this.pos+2),this.pos++;break;case"}":if(0===e)return this.match("}"),t;t+="}",e--;break;case"{":t+="{",e++;break;default:t+=this.input[this.pos]}this.pos++}return this.errors.push({type:"unexpected_eof"}),t}valueQuotes(){this.match('"',{skipWhitespace:"leading"});let e="";for(;this.pos<this.input.length;){switch(this.input[this.pos]){case"\\":e+=this.input.substring(this.pos,this.pos+2),this.pos++;break;case'"':return this.match('"'),e;default:e+=this.input[this.pos]}this.pos++}return this.errors.push({type:"unexpected_eof"}),e}singleValue(){if(this.tryMatch("{"))return this.valueBraces();if(this.tryMatch('"'))return this.valueQuotes();{let e=this.key();const t=e.toUpperCase();if(this.strings[e.toUpperCase()])return this.strings[e.toUpperCase()];if(t in this.months)return this.months[t];if(e.match("^[0-9]+$"))return e;{const t={type:"undefined_variable",variable:e};return this.currentEntry&&(t.entry=this.currentEntry.entry_key),this.currentKey&&(t.key=this.currentKey),this.warning(t),`${e}`}}}value(e=!1){let t=[];for(t.push(this.singleValue());this.tryMatch("#");)this.match("#"),t.push(this.singleValue());let n=t.join("");return e||(n=n.replace(/[\t ]+/g," ").trim()),n}key(e=!1){let t=this.pos;for(;;){if(this.pos==this.input.length){this.error({type:"runaway_key"});break}if(["(",")",",","{","}"," ","=","\t","\n"].includes(this.input[this.pos])){let n=this.input.substring(t,this.pos);return e&&","!=this.input[this.pos]&&(this.skipWhitespace(),","!=this.input[this.pos])?(this.pos=t,""):n}this.pos++}return""}keyEqualsValue(e=!1){let t=this.key();if(!t.length){const e={type:"cut_off_citation"};return this.currentEntry&&(e.entry=this.currentEntry.entry_key,this.currentEntry.incomplete=!0),this.error(e),!1}if(this.currentKey=t.toLowerCase(),this.tryMatch("=")){this.match("=");const t=this.value(e);return!!this.currentKey&&[this.currentKey,t]}{const e={type:"missing_equal_sign"};this.currentEntry&&(e.entry=this.currentEntry.entry_key),this.currentKey&&(e.key=this.currentKey),this.error(e)}return!1}keyValueList(){let e=this.keyEqualsValue();if(!e||!this.currentRawFields)return void this.entries.pop();let t=this.currentRawFields;for(t[e[0]]=e[1];this.tryMatch(",")&&(this.match(","),!this.tryMatch("}")&&!this.tryMatch(")"));){if(e=this.keyEqualsValue(),!e){const e={type:"key_value_error"};this.currentEntry&&(e.entry=this.currentEntry.entry_key),this.error(e);break}t[e[0]]=e[1]}}processFields(){if(!this.currentEntry)return;let e,t,n=this.currentRawFields,i=this.currentEntry.fields;if("crossref"in n&&(this.crossrefs[this.currentEntry.entry_key]=n.crossref,delete n.crossref),n.date?e=n.date:n.year&&n.month?(t=n.month,isNaN(parseInt(t))&&t.toUpperCase()in this.months?t=this.months[t.toUpperCase()]:void 0===t.split("~").find((e=>isNaN(parseInt(e))))&&(t=t.replace(/~/g,"-")),e=`${n.year}-${t}`):n.year&&(e=`${n.year}`),e){let t=ic(e);if(t.valid)i.date=t.cleanedString,delete n.year,delete n.month;else{let e,t,i;n.date?(e="date",t=n.date,i=this.errors):n.year&&n.month?(e="year,month",t=[n.year,n.month],i=this.warnings):(e="year",t=n.year,i=this.warnings);const r={type:"unknown_date",field_name:e,value:t};this.currentEntry&&(r.entry=this.currentEntry.entry_key),i.push(r)}}let r=!0;if(n.langid&&n.langid.length){let e=n.langid.toLowerCase().trim();["english","american","british","usenglish","ukenglish","canadian","australian","newzealand"].some((t=>e===t))||(r=!1)}else if(n.language){let e=this._reformKey(n.language,"langid");e.length&&(i.langid=e,"string"!=typeof e||["usenglish","ukenglish","caenglish","auenglish","nzenglish"].includes(e)||(r=!1))}e:for(let o in n){if("date"===o||["year","month"].includes(o)&&!this.config.processUnknown)continue e;let e;o in $s&&(e=$s[o]);let t,a,s="";if(e){if(n[e]){const t={type:"alias_creates_duplicate_field",field:o,alias_of:e,value:n[o],alias_of_value:n[e]};this.currentEntry&&(t.entry=this.currentEntry.entry_key),this.warning(t);continue e}s=Object.keys(Fs).find((t=>Fs[t].biblatex===e))||""}else s=Object.keys(Fs).find((e=>Fs[e].biblatex===o))||"";let c=js[this.currentEntry.bib_type];if(s.length)if(c.required.includes(s)||c.optional.includes(s)||c.eitheror.includes(s))t=i,a=Fs[s].type;else{if("entrysubtype"===s&&c["biblatex-subtype"]){a=Fs[s].type,t={};continue e}{const e={type:"unexpected_field",field_name:o};if(this.currentEntry&&(e.entry=this.currentEntry.entry_key),this.warning(e),!this.config.processUnexpected)continue e;this.currentEntry&&!this.currentEntry.unexpected_fields&&(this.currentEntry.unexpected_fields={}),t=this.currentEntry&&this.currentEntry.unexpected_fields?this.currentEntry.unexpected_fields:{},a=Fs[s].type}}else{const e={type:"unknown_field",field_name:o};if(this.currentEntry&&(e.entry=this.currentEntry.entry_key),this.warning(e),!this.config.processUnknown)continue e;this.currentEntry&&!this.currentEntry.unknown_fields&&(this.currentEntry.unknown_fields={}),t=this.currentEntry&&this.currentEntry.unknown_fields?this.currentEntry.unknown_fields:{},a=this.config.processUnknown&&"object"==typeof this.config.processUnknown&&this.config.processUnknown[o]?this.config.processUnknown[o]:"f_literal",s=o}let u,l=n[o];switch(a){case"f_date":u=ic(l),u.valid?t[s]=u.cleanedString:this.currentEntry&&this.error({type:"unknown_date",entry:this.currentEntry.entry_key,field_name:s,value:l});break;case"f_integer":t[s]=this._reformLiteral(l);break;case"f_key":u=this._reformKey(l,s),u.length&&(t[s]=u);break;case"f_literal":case"f_long_literal":t[s]=this._reformLiteral(l);break;case"l_range":t[s]=this._reformRange(l);break;case"f_title":t[s]=this._reformLiteral(l,r);break;case"f_uri":if(this.config.processInvalidURIs||this._checkURI(l))t[s]=this._reformURI(l);else{const e={type:"unknown_uri",field_name:s,value:l};this.currentEntry&&(e.entry=this.currentEntry.entry_key),this.error(e)}break;case"f_verbatim":t[s]=l;break;case"l_key":t[s]=tc(l).map((e=>this._reformKey(e,s)));break;case"l_tag":t[s]=l.split(/[,;]/).map((e=>e.trim()));break;case"l_literal":t[s]=tc(l).map((e=>this._reformLiteral(e.trim())));break;case"l_name":t[s]=this._reformNameList(l);break;default:console.warn(`Unrecognized type: ${a}!`)}}}_reformKey(e,t){let n=e.trim().toLowerCase(),i=Fs[t];if(Vs[t]&&Vs[t][n]&&(n=Vs[t][n]),"options"in i){if(!Array.isArray(i.options)){return Object.keys(i.options).find((e=>i.options[e].biblatex===n))||""}if(i.options.includes(n))return n}if("strict"in i&&i.strict){const n={type:"unknown_key",field_name:t,value:e};return this.currentEntry&&(n.entry=this.currentEntry.entry_key),this.warning(n),""}return this._reformLiteral(e)}_checkURI(e){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)}_reformURI(e){return e.replace(/\\/g,"")}_reformNameList(e){return tc(e).map((e=>new Qs(e).output||!1)).filter((e=>"object"==typeof e))}_reformRange(e){return e.split(",").map((e=>{let t=e.split("--");return t.length>1?[this._reformLiteral(t.shift().trim()),this._reformLiteral(t.join("--").trim())]:(t=e.split("-"),t.length>1?[this._reformLiteral(t.shift().trim()),this._reformLiteral(t.join("-").trim())]:[this._reformLiteral(e.trim())])}))}_reformLiteral(e,t=!1){return new Zs(e,t).output}bibType(){var e;let t=this.currentType,n=(null===(e=this.currentRawFields)||void 0===e?void 0:e.entrysubtype)||!1;if(t in Ws){const e=Ws[t];t=e[0],e.length>1&&(n=e[1])}let i=Object.keys(js).find((e=>js[e].biblatex===t&&(!n||js[e]["biblatex-subtype"]===n)));return void 0===i&&(this.warning({type:"unknown_type",type_name:t}),i="misc"),i}createNewEntry(){const e={bib_type:"",entry_key:this.key(!0),fields:{}};this.currentRawFields={},this.entries.push(e),e&&e.entry_key.length&&this.match(","),this.keyValueList(),this.endPosition=this.pos,e.bib_type=this.bibType(),this.config.includeLocation&&(e.location={start:this.startPosition,end:this.endPosition}),this.config.includeRawText&&(e.raw_text=this.input.substring(this.startPosition,this.endPosition+1)),this.currentEntry=e,this.processFields()}directive(){return this.match("@"),this.currentType=this.key(),this.currentType.length?(this.currentType=this.currentType.toLowerCase(),"@"+this.currentType):null}string(){const e=this.keyEqualsValue(!0);e&&(this.strings[e[0].toUpperCase()]=e[1])}preamble(){this.value()}replaceTeXChars(){let e=this.input,t=Hs.length;for(let n=0;n<t&&rc.test(e);n++){let t=Hs[n];e=e.replace(t.tex,t.unicode)}this.input=e.replace(/ +(?= )/g,"")}stepThroughBibtex(){for(;this.skipToNext();)this.parseNext()}stepThroughBibtexAsync(){return this.skipToNext()?new Promise((e=>e(this.parseNext()))).then((()=>this.stepThroughBibtexAsync())):Promise.resolve(null)}parseNext(){let e;this.startPosition=this.pos;let t=this.directive();t&&(this.tryMatch("{")?(this.match("{"),e="}"):this.tryMatch("(")?(this.match("("),e=")"):"@comment"===t?e=null:(this.match("{"),e="}"),"@string"==t?this.string():"@preamble"==t?this.preamble():"@comment"==t?this.parseComment(!e):this.createNewEntry(),e&&this.match(e))}parseComment(e){let t=this.pos,n=1;if(e)for(;this.input.length>this.pos&&"\n"!=this.input[this.pos];)this.pos++;else for(;this.input.length>this.pos&&n>0;){switch(this.input[this.pos]){case"{":n+=1;break;case"}":n-=1}this.pos++}if(e||0!==n)return;this.pos--;let i=this.input.substring(t,this.pos);if(this.groupParser.checkString(i),this.groupParser.groups.length)this.groups=this.groupParser.groups;else{i=i.trim();const e=i.match(/^jabref-meta: ([a-zA-Z]+):(.*);$/);e&&"groupsversion"!==e[1]?this.jabrefMeta[e[1]]=e[2].replace(/\\(.)/g,"$1"):i&&this.config.processComments&&this.comments.push(i)}}createBibDB(){this.entries.forEach(((e,t)=>{this.bibDB[t+1]=e}))}cleanDB(){this.bibDB=JSON.parse(JSON.stringify(this.bibDB).replace(/\u0871/,"\\\\").replace(/\u0870/,""))}get output(){return console.warn("BibLatexParser.output will be deprecated in biblatex-csl-converter 2.x. Use BibLatexParser.parse() instead."),this.replaceTeXChars(),this.stepThroughBibtex(),this.createBibDB(),this.cleanDB(),this.bibDB}_resolveCrossRef(e,t){var n;const i=this.entries.find((t=>t.entry_key===e)),r=this.entries.find((e=>e.entry_key===t)),{fields:a,bib_type:s}=i,{fields:c,bib_type:u}=r,l={},d=null!==(n=this.config.crossRefInheritance)&&void 0!==n?n:Ys;for(const o of d)if(o.source.includes(u)&&o.target.includes(s))for(const e of o.fields){const t=e.target,n=js[s];(n.required.includes(t)||n.optional.includes(t)||n.eitheror.includes(t))&&(l[t]=c[e.source])}const h=o(o(o({},c),l),a);i.fields=h}_resoveAllCrossRefs(){const e=new Set(Object.keys(this.crossrefs));for(;e.size>0;){const t=new Set([...e.values()].filter((t=>!e.has(this.crossrefs[t]))));if(0===t.size){const t=e.values().next().value;return void this.errors.push({type:"circular_crossref",entry:t})}const n=t.values().next().value,i=this.crossrefs[n];if(!this.entries.some((e=>e.entry_key===i)))return void this.errors.push({type:"unknown_crossref",entry:n,value:i});this._resolveCrossRef(n,i),t.delete(n),e.delete(n)}}parsed(){return this.createBibDB(),this._resoveAllCrossRefs(),this.cleanDB(),{entries:this.bibDB,errors:this.errors,warnings:this.warnings,comments:this.comments,strings:this.strings,jabref:{groups:this.groups,meta:this.jabrefMeta}}}parse(){return this.replaceTeXChars(),this.stepThroughBibtex(),this.parsed()}async parseAsync(){return this.replaceTeXChars(),await this.stepThroughBibtexAsync(),this.parsed()}}const ac=[[/\\/g,"\\textbackslash "],[/\{/g,"\\{ "],[/\}/g,"\\} "],[/&/g,"{\\&}"],[/%/g,"{\\%}"],[/\$/g,"{\\$}"],[/#/g,"{\\#}"],[/_/g,"{\\_}"],[/~/g,"{\\textasciitilde}"],[/\^/g,"{\\textasciicircum}"],[/ and /g," {and} "]],sc={strong:{open:"\\mkbibbold{",close:"}",verbatim:!1},em:{open:"\\mkbibitalic{",close:"}",verbatim:!1},smallcaps:{open:"\\textsc{",close:"}",verbatim:!1},enquote:{open:"\\enquote{",close:"}",verbatim:!1},nocase:{open:"{{",close:"}}",verbatim:!1},sub:{open:"_{",close:"}",verbatim:!1},sup:{open:"^{",close:"}",verbatim:!1},math:{open:"$",close:"$",verbatim:!1},url:{open:"\\url{",close:"}",verbatim:!0}},cc={strong:{open:"<b>",close:"</b>"},em:{open:"<i>",close:"</i>"},sub:{open:"<sub>",close:"</sub>"},sup:{open:"<sup>",close:"</sup>"},smallcaps:{open:'<span style="font-variant:small-caps;">',close:"</span>"},nocase:{open:'<span class="nocase">',close:"</span>"},enquote:{open:"",close:""},url:{open:"",close:""},undefined:{open:"[",close:"]"}};Ps.BibFieldTypes=Fs,Ps.BibLatexExporter=class{constructor(e,t=!1,n={}){this.bibDB=e,this.pks=t||Object.keys(e),this.config=n,this.warnings=[],this.bibtexArray=[],this.bibtexStr=""}get output(){return console.warn("BibLatexExporter.output will be deprecated in biblatex-csl-converter 2.x. Use BibLatexExporter.parse() instead."),this.parse()}parse(){return this.pks.forEach((e=>{let t=this.bibDB[e],n={type:js[t.bib_type].biblatex,key:t.entry_key.length?t.entry_key:"Undefined"},i={};js[t.bib_type]["biblatex-subtype"]&&(i.entrysubtype=js[t.bib_type]["biblatex-subtype"]);const r=this.config.exportUnexpectedFields?o(o({},t.fields),t.unexpected_fields):t.fields;for(let o in r){if(!(o in Fs))continue;let e=r[o],t=Fs[o].type,n=Fs[o].biblatex;switch(t){case"f_date":i[n]=e;break;case"f_integer":i[n]=this._reformText(e);break;case"f_key":i[n]=this._reformKey(e,o);break;case"f_literal":case"f_long_literal":i[n]=this._reformText(e);break;case"l_range":i[n]=this._reformRange(e);break;case"f_title":i[n]=this._reformText(e);break;case"f_uri":case"f_verbatim":i[n]=e.replace(/{|}/g,"");break;case"l_key":i[n]=this._escapeTeX(e.map((e=>this._reformKey(e,o))).join(" and "));break;case"l_literal":i[n]=e.map((e=>this._reformText(e))).join(" and ");break;case"l_name":i[n]=this._reformName(e);break;case"l_tag":i[n]=this._escapeTeX(e.join(", "));break;default:console.warn(`Unrecognized type: ${t}!`)}}n.values=i,this.bibtexArray[this.bibtexArray.length]=n})),this.bibtexStr=this._getBibtexString(this.bibtexArray),this.bibtexStr}_reformKey(e,t){var n,i;if("string"==typeof e){let r=Fs[t];return Array.isArray(r.options)?this._escapeTeX(e):this._escapeTeX(null!==(i=null===(n=r.options)||void 0===n?void 0:n[e].biblatex)&&void 0!==i?i:"")}return this._reformText(e)}_reformRange(e){return Array.isArray(e)?e.map((e=>this._reformInterval(e))).filter((e=>e.length)).join(","):(console.warn("Wrong format for reformRange",e),"")}_reformInterval(e){return Array.isArray(e)?e.map((e=>this._reformText(e))).join("--"):(console.warn("Wrong format for reformInterval",e),"")}_reformName(e){if(!Array.isArray(e))return console.warn("Wrong format for reformName",e),"";let t=[];return e.forEach((e=>{if(e.literal){let n=this._reformText(e.literal);n.length&&t.push(`{${n}}`)}else{let n=e.family?this._reformText(e.family):"",i=e.given?this._reformText(e.given):"",r=!!e.suffix&&this._reformText(e.suffix),o=!!e.prefix&&this._reformText(e.prefix),a=!!e.useprefix&&e.useprefix;if(this.config.traditionalNames)r&&o?t.push(`{${o} ${n}}, {${r}}, {${i}}`):r?t.push(`{${n}}, {${r}}, {${i}}`):o?t.push(`{${o} ${n}}, {${i}}`):t.push(`{${n}}, {${i}}`);else{let e=[];i.length&&e.push(this._protectNamePart(`given={${i}}`)),n.length&&e.push(this._protectNamePart(`family={${n}}`)),r&&e.push(this._protectNamePart(`suffix={${r}}`)),o&&(e.push(this._protectNamePart(`prefix={${o}}`)),e.push(`useprefix=${String(a)}`)),t.push(e.join(", "))}}})),t.join(" and ")}_protectNamePart(e){return e.includes(",")?`"${e}"`:e}_escapeTeX(e){if("string"!=typeof e)return console.warn("Wrong format for escapeTeX",e),"";let t=ac.length;for(let n=0;n<t;n++)e=e.replace(ac[n][0],ac[n][1]);return e}_reformText(e){let t="",n=[];return Array.isArray(e)?(e.concat({type:"text",text:""}).forEach((e=>{if("variable"===e.type)return t+=`} # ${e.attrs.variable} # {`,void this.warnings.push({type:"undefined_variable",variable:e.attrs.variable});let i=[];if(e.marks){let t=!1;e.marks.forEach((e=>{"sup"!==e.type&&"sub"!==e.type||t?"nocase"===e.type?i.unshift(e.type):i.push(e.type):(i.push("math"),i.push(e.type),t=!0)}))}let r=!1,o=[];n.forEach(((e,t)=>{if(e!=i[t]&&(r=!0),r){let t=sc[e].close;"nocase"!==n[0]&&"\\"===sc[e].open[0]&&(t+="}"),o.push(t)}})),o.reverse(),t+=o.join("");let a=!1,s=!1;i.forEach(((e,r)=>{e!=n[r]&&(a=!0),a&&("nocase"!==i[0]&&"\\"===sc[e].open[0]&&(t+="{"),t+=sc[e].open,sc[e].verbatim&&(s=!0))})),"text"in e&&(t+=s?e.text:this._escapeTeX(e.text)),n=i})),t):(console.warn("Wrong format for reformText",e),t)}_getBibtexString(e){const t=e.length;let n="";for(let i=0;i<t;i++){0<i&&(n+="\n\n");const t=e[i];n+=`@${t.type}{${t.key}`;for(let e in t.values)n+=`,\n${e} = ${`{${t.values[e]}}`.replace(/\{\} # /g,"").replace(/# \{\}/g,"")}`;n+="\n}"}return n}},Ps.BibLatexParser=oc,Ps.BibTypes=js,Ps.CSLExporter=class{constructor(e,t=!1,n={}){this.bibDB=e,this.pks=t||Object.keys(e),this.config=n,this.cslDB={},this.errors=[]}get output(){return console.warn("CSLExporter.output will be deprecated in biblatex-csl-converter 2.x. Use CSLExporter.parse() instead."),this.parse()}parse(){for(let e in this.bibDB)-1!==this.pks.indexOf(e)&&(this.cslDB[e]=this.getCSLEntry(e),this.cslDB[e].id=e);return this.cslDB}getCSLEntry(e){let t=this.bibDB[e],n={};if(!t.fields||!t.bib_type||!js[t.bib_type])return n;for(let i in t.fields)if(""!==t.fields[i]&&i in Fs&&"csl"in Fs[i]){let e,r=t.fields[i],o=Fs[i].type;const a=Fs[i].csl;let s;switch(e="string"==typeof a?a:a[t.bib_type]?a[t.bib_type]:a["*"],o){case"f_date":s=this._reformDate(r),s&&(n[e]=s);break;case"f_integer":n[e]=this._reformInteger(r);break;case"f_key":n[e]=this._reformKey(r,i);break;case"f_literal":case"f_long_literal":n[e]=this._reformText(r);break;case"l_range":n[e]=this._reformRange(r);break;case"f_title":n[e]=this._reformText(r);break;case"f_uri":case"f_verbatim":n[e]=r;break;case"l_key":n[e]=r.map((e=>this._reformKey(e,i))).join(" and ");break;case"l_literal":n[e]=r.map((e=>this._reformText(e))).join(", ");break;case"l_name":n[e]=this._reformName(r);break;case"l_tag":n[e]=r.join(", ");break;default:console.warn(`Unrecognized field type: ${o}!`)}}return n.type=js[t.bib_type].csl,n}_reformKey(e,t){if("string"==typeof e){let n=Fs[t];return Array.isArray(n.options)?e:n.options[e].csl}return this._reformText(e)}_reformRange(e){return Array.isArray(e)?e.map((e=>this._reformInterval(e))).filter((e=>e.length)).join(","):(console.warn("Wrong format for range",e),"")}_reformInterval(e){return Array.isArray(e)?e.map((e=>this._reformText(e))).join("-"):(console.warn("Wrong format for interval",e),"")}_reformInteger(e){let t=this._reformText(e),n=parseInt(t);return t!==String(n)?t:n}_escapeText(e){return"string"!=typeof e?(console.warn("Wrong format for escapeText",e),""):e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&apos;").replace(/"/g,"&quot;")}_reformText(e){let t="",n=[];return Array.isArray(e)?(e.forEach((e=>{if("variable"===e.type)return t+=`${cc.undefined.open}${e.attrs.variable}${cc.undefined.close}`,void this.errors.push({type:"undefined_variable",variable:e.attrs.variable});let i=e.marks?e.marks.map((e=>e.type)):[],r=!1,o=[];n.forEach(((e,t)=>{e!=i[t]&&(r=!0),r&&o.push(cc[e].close)})),o.reverse(),t+=o.join("");let a=!1;i.forEach(((e,i)=>{e!=n[i]&&(a=!0),a&&(t+=cc[e].open)})),"text"in e&&(t+=this.config.escapeText?this._escapeText(e.text):e.text),n=i})),n.slice().reverse().forEach((e=>{t+=cc[e].close})),t):(console.warn("Wrong format for reformText",e),t)}_reformDate(e){let t=ic(e);const n={};if(!t.valid)return!1;if(t.values.length>1&&Array.isArray(t.values[0])&&Array.isArray(t.values[1])){const e=t.values[0],i=t.values[1],r=[e.slice(0,3).map((e=>parseInt(e))),i.slice(0,3).map((e=>parseInt(e)))];n["date-parts"]=r}else{const e=t.values.slice(0,3).map((e=>parseInt(e)));n["date-parts"]=[e],"Interval"===t.type&&(n.circa=!0)}return(t.uncertain||t.approximate)&&(n.circa=!0),n}_reformName(e){return e.map((e=>{const t={};if(e.literal){let n=this._reformText(e.literal);if(!n.length)return!1;t.literal=n}else t.given=this._reformText(e.given),t.family=this._reformText(e.family),e.suffix&&(t.suffix=this._reformText(e.suffix)),e.prefix&&(e.useprefix?t["non-dropping-particle"]=this._reformText(e.prefix):t["dropping-particle"]=this._reformText(e.prefix)),t.family=this._reformText(e.family);return t})).filter((e=>e))}},Ps.edtfParse=ic,Ps.parse=function(e,t={}){return new oc(e,t).parse()},Ps.parseAsync=function(e,t={}){return new oc(e,t).parseAsync()},Ps.unescapeCSL=function(e){return e.replace(/&#38;amp;/g,"&amp;").replace(/&#38;lt;/g,"&lt;").replace(/&#38;gt;/g,"&gt;").replace(/&#38;apos;/g,"&apos;").replace(/&#38;quot;/g,"&quot;")};
/**!
 * Sortable 1.13.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function uc(e){return(uc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dc(){return(dc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function hc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){lc(e,t,n[t])}))}return e}function pc(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fc(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var mc=fc(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),gc=fc(/Edge/i),xc=fc(/firefox/i),vc=fc(/safari/i)&&!fc(/chrome/i)&&!fc(/android/i),bc=fc(/iP(ad|od|hone)/i),yc=fc(/chrome/i)&&fc(/android/i),wc={capture:!1,passive:!1};function kc(e,t,n){e.addEventListener(t,n,!mc&&wc)}function _c(e,t,n){e.removeEventListener(t,n,!mc&&wc)}function Cc(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function Sc(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Ec(e,t,n,i){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&Cc(e,t):Cc(e,t))||i&&e===n)return e;if(e===n)break}while(e=Sc(e))}return null}var Oc,Mc=/\s+/g;function Dc(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(Mc," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(Mc," ")}}function Tc(e,t,n){var i=e&&e.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in i||-1!==t.indexOf("webkit")||(t="-webkit-"+t),i[t]=n+("string"==typeof n?"":"px")}}function Ac(e,t){var n="";if("string"==typeof e)n=e;else do{var i=Tc(e,"transform");i&&"none"!==i&&(n=i+" "+n)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function Nc(e,t,n){if(e){var i=e.getElementsByTagName(t),r=0,o=i.length;if(n)for(;r<o;r++)n(i[r],r);return i}return[]}function zc(){var e=document.scrollingElement;return e||document.documentElement}function Rc(e,t,n,i,r){if(e.getBoundingClientRect||e===window){var o,a,s,c,u,l,d;if(e!==window&&e.parentNode&&e!==zc()?(a=(o=e.getBoundingClientRect()).top,s=o.left,c=o.bottom,u=o.right,l=o.height,d=o.width):(a=0,s=0,c=window.innerHeight,u=window.innerWidth,l=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(r=r||e.parentNode,!mc))do{if(r&&r.getBoundingClientRect&&("none"!==Tc(r,"transform")||n&&"static"!==Tc(r,"position"))){var h=r.getBoundingClientRect();a-=h.top+parseInt(Tc(r,"border-top-width")),s-=h.left+parseInt(Tc(r,"border-left-width")),c=a+o.height,u=s+o.width;break}}while(r=r.parentNode);if(i&&e!==window){var p=Ac(r||e),f=p&&p.a,m=p&&p.d;p&&(c=(a/=m)+(l/=m),u=(s/=f)+(d/=f))}return{top:a,left:s,bottom:c,right:u,width:d,height:l}}}function Ic(e,t,n){for(var i=Fc(e,!0),r=Rc(e)[t];i;){var o=Rc(i)[n];if(!("top"===n||"left"===n?r>=o:r<=o))return i;if(i===zc())break;i=Fc(i,!1)}return!1}function Bc(e,t,n){for(var i=0,r=0,o=e.children;r<o.length;){if("none"!==o[r].style.display&&o[r]!==$u.ghost&&o[r]!==$u.dragged&&Ec(o[r],n.draggable,e,!1)){if(i===t)return o[r];i++}r++}return null}function Lc(e,t){for(var n=e.lastElementChild;n&&(n===$u.ghost||"none"===Tc(n,"display")||t&&!Cc(n,t));)n=n.previousElementSibling;return n||null}function Pc(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===$u.clone||t&&!Cc(e,t)||n++;return n}function qc(e){var t=0,n=0,i=zc();if(e)do{var r=Ac(e),o=r.a,a=r.d;t+=e.scrollLeft*o,n+=e.scrollTop*a}while(e!==i&&(e=e.parentNode));return[t,n]}function Fc(e,t){if(!e||!e.getBoundingClientRect)return zc();var n=e,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=Tc(n);if(n.clientWidth<n.scrollWidth&&("auto"==r.overflowX||"scroll"==r.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==r.overflowY||"scroll"==r.overflowY)){if(!n.getBoundingClientRect||n===document.body)return zc();if(i||t)return n;i=!0}}}while(n=n.parentNode);return zc()}function jc(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function $c(e,t){return function(){if(!Oc){var n=arguments,i=this;1===n.length?e.call(i,n[0]):e.apply(i,n),Oc=setTimeout((function(){Oc=void 0}),t)}}}function Wc(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Uc(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var Vc="Sortable"+(new Date).getTime();function Hc(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==Tc(e,"display")&&e!==$u.ghost){t.push({target:e,rect:Rc(e)});var n=hc({},t[t.length-1].rect);if(e.thisAnimationDuration){var i=Ac(e,!0);i&&(n.top-=i.f,n.left-=i.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[n][i])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var i=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var r=!1,o=0;t.forEach((function(e){var t=0,n=e.target,a=n.fromRect,s=Rc(n),c=n.prevFromRect,u=n.prevToRect,l=e.rect,d=Ac(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&jc(c,s)&&!jc(a,s)&&(l.top-s.top)/(l.left-s.left)==(a.top-s.top)/(a.left-s.left)&&(t=function(e,t,n,i){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*i.animation}(l,c,u,i.options)),jc(s,a)||(n.prevFromRect=a,n.prevToRect=s,t||(t=i.options.animation),i.animate(n,l,s,t)),t&&(r=!0,o=Math.max(o,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),r?e=setTimeout((function(){"function"==typeof n&&n()}),o):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,i){if(i){Tc(e,"transition",""),Tc(e,"transform","");var r=Ac(this.el),o=r&&r.a,a=r&&r.d,s=(t.left-n.left)/(o||1),c=(t.top-n.top)/(a||1);e.animatingX=!!s,e.animatingY=!!c,Tc(e,"transform","translate3d("+s+"px,"+c+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),Tc(e,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),Tc(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){Tc(e,"transition",""),Tc(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),i)}}}}var Yc=[],Gc={initializeByDefault:!0},Kc={mount:function(e){for(var t in Gc)Gc.hasOwnProperty(t)&&!(t in e)&&(e[t]=Gc[t]);Yc.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),Yc.push(e)},pluginEvent:function(e,t,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var r=e+"Global";Yc.forEach((function(i){t[i.pluginName]&&(t[i.pluginName][r]&&t[i.pluginName][r](hc({sortable:t},n)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](hc({sortable:t},n)))}))},initializePlugins:function(e,t,n,i){for(var r in Yc.forEach((function(i){var r=i.pluginName;if(e.options[r]||i.initializeByDefault){var o=new i(e,t,e.options);o.sortable=e,o.options=e.options,e[r]=o,dc(n,o.defaults)}})),e.options)if(e.options.hasOwnProperty(r)){var o=this.modifyOption(e,r,e.options[r]);void 0!==o&&(e.options[r]=o)}},getEventProperties:function(e,t){var n={};return Yc.forEach((function(i){"function"==typeof i.eventProperties&&dc(n,i.eventProperties.call(t[i.pluginName],e))})),n},modifyOption:function(e,t,n){var i;return Yc.forEach((function(r){e[r.pluginName]&&r.optionListeners&&"function"==typeof r.optionListeners[t]&&(i=r.optionListeners[t].call(e[r.pluginName],n))})),i}};var Xc=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.evt,r=pc(n,["evt"]);Kc.pluginEvent.bind($u)(e,t,hc({dragEl:Zc,parentEl:Qc,ghostEl:eu,rootEl:tu,nextEl:nu,lastDownEl:iu,cloneEl:ru,cloneHidden:ou,dragStarted:vu,putSortable:du,activeSortable:$u.active,originalEvent:i,oldIndex:au,oldDraggableIndex:cu,newIndex:su,newDraggableIndex:uu,hideGhostForTarget:Pu,unhideGhostForTarget:qu,cloneNowHidden:function(){ou=!0},cloneNowShown:function(){ou=!1},dispatchSortableEvent:function(e){Jc({sortable:t,name:e,originalEvent:i})}},r))};function Jc(e){!function(e){var t=e.sortable,n=e.rootEl,i=e.name,r=e.targetEl,o=e.cloneEl,a=e.toEl,s=e.fromEl,c=e.oldIndex,u=e.newIndex,l=e.oldDraggableIndex,d=e.newDraggableIndex,h=e.originalEvent,p=e.putSortable,f=e.extraEventProperties;if(t=t||n&&n[Vc]){var m,g=t.options,x="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||mc||gc?(m=document.createEvent("Event")).initEvent(i,!0,!0):m=new CustomEvent(i,{bubbles:!0,cancelable:!0}),m.to=a||n,m.from=s||n,m.item=r||n,m.clone=o,m.oldIndex=c,m.newIndex=u,m.oldDraggableIndex=l,m.newDraggableIndex=d,m.originalEvent=h,m.pullMode=p?p.lastPutMode:void 0;var v=hc({},f,Kc.getEventProperties(i,t));for(var b in v)m[b]=v[b];n&&n.dispatchEvent(m),g[x]&&g[x].call(t,m)}}(hc({putSortable:du,cloneEl:ru,targetEl:Zc,rootEl:tu,oldIndex:au,oldDraggableIndex:cu,newIndex:su,newDraggableIndex:uu},e))}var Zc,Qc,eu,tu,nu,iu,ru,ou,au,su,cu,uu,lu,du,hu,pu,fu,mu,gu,xu,vu,bu,yu,wu,ku,_u=!1,Cu=!1,Su=[],Eu=!1,Ou=!1,Mu=[],Du=!1,Tu=[],Au="undefined"!=typeof document,Nu=bc,zu=gc||mc?"cssFloat":"float",Ru=Au&&!yc&&!bc&&"draggable"in document.createElement("div"),Iu=function(){if(Au){if(mc)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),Bu=function(e,t){var n=Tc(e),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),r=Bc(e,0,t),o=Bc(e,1,t),a=r&&Tc(r),s=o&&Tc(o),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Rc(r).width,u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Rc(o).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(r&&a.float&&"none"!==a.float){var l="left"===a.float?"left":"right";return!o||"both"!==s.clear&&s.clear!==l?"horizontal":"vertical"}return r&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||c>=i&&"none"===n[zu]||o&&"none"===n[zu]&&c+u>i)?"vertical":"horizontal"},Lu=function(e){function t(e,n){return function(i,r,o,a){var s=i.options.group.name&&r.options.group.name&&i.options.group.name===r.options.group.name;if(null==e&&(n||s))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(i,r,o,a),n)(i,r,o,a);var c=(n?i:r).options.group.name;return!0===e||"string"==typeof e&&e===c||e.join&&e.indexOf(c)>-1}}var n={},i=e.group;i&&"object"==uc(i)||(i={name:i}),n.name=i.name,n.checkPull=t(i.pull,!0),n.checkPut=t(i.put),n.revertClone=i.revertClone,e.group=n},Pu=function(){!Iu&&eu&&Tc(eu,"display","none")},qu=function(){!Iu&&eu&&Tc(eu,"display","")};Au&&document.addEventListener("click",(function(e){if(Cu)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Cu=!1,!1}),!0);var Fu=function(e){if(Zc){e=e.touches?e.touches[0]:e;var t=(r=e.clientX,o=e.clientY,Su.some((function(e){if(!Lc(e)){var t=Rc(e),n=e[Vc].options.emptyInsertThreshold,i=r>=t.left-n&&r<=t.right+n,s=o>=t.top-n&&o<=t.bottom+n;return n&&i&&s?a=e:void 0}})),a);if(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Vc]._onDragOver(n)}}var r,o,a},ju=function(e){Zc&&Zc.parentNode[Vc]._isOutsideThisEl(e.target)};function $u(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=dc({},t),e[Vc]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Bu(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==$u.supportPointer&&"PointerEvent"in window&&!vc,emptyInsertThreshold:5};for(var i in Kc.initializePlugins(this,e,n),n)!(i in t)&&(t[i]=n[i]);for(var r in Lu(t),this)"_"===r.charAt(0)&&"function"==typeof this[r]&&(this[r]=this[r].bind(this));this.nativeDraggable=!t.forceFallback&&Ru,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?kc(e,"pointerdown",this._onTapStart):(kc(e,"mousedown",this._onTapStart),kc(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(kc(e,"dragover",this),kc(e,"dragenter",this)),Su.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),dc(this,Hc())}function Wu(e,t,n,i,r,o,a,s){var c,u,l=e[Vc],d=l.options.onMove;return!window.CustomEvent||mc||gc?(c=document.createEvent("Event")).initEvent("move",!0,!0):c=new CustomEvent("move",{bubbles:!0,cancelable:!0}),c.to=t,c.from=e,c.dragged=n,c.draggedRect=i,c.related=r||t,c.relatedRect=o||Rc(t),c.willInsertAfter=s,c.originalEvent=a,e.dispatchEvent(c),d&&(u=d.call(l,c,a)),u}function Uu(e){e.draggable=!1}function Vu(){Du=!1}function Hu(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function Yu(e){return setTimeout(e,0)}function Gu(e){return clearTimeout(e)}$u.prototype={constructor:$u,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(bu=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,Zc):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,i=this.options,r=i.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,u=i.filter;if(function(e){Tu.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var i=t[n];i.checked&&Tu.push(i)}}(n),!Zc&&!(/mousedown|pointerdown/.test(o)&&0!==e.button||i.disabled)&&!c.isContentEditable&&(this.nativeDraggable||!vc||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=Ec(s,i.draggable,n,!1))&&s.animated||iu===s)){if(au=Pc(s),cu=Pc(s,i.draggable),"function"==typeof u){if(u.call(this,e,s,this))return Jc({sortable:t,rootEl:c,name:"filter",targetEl:s,toEl:n,fromEl:n}),Xc("filter",t,{evt:e}),void(r&&e.cancelable&&e.preventDefault())}else if(u&&(u=u.split(",").some((function(i){if(i=Ec(c,i.trim(),n,!1))return Jc({sortable:t,rootEl:i,name:"filter",targetEl:s,fromEl:n,toEl:n}),Xc("filter",t,{evt:e}),!0}))))return void(r&&e.cancelable&&e.preventDefault());i.handle&&!Ec(c,i.handle,n,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(e,t,n){var i,r=this,o=r.el,a=r.options,s=o.ownerDocument;if(n&&!Zc&&n.parentNode===o){var c=Rc(n);if(tu=o,Qc=(Zc=n).parentNode,nu=Zc.nextSibling,iu=n,lu=a.group,$u.dragged=Zc,hu={target:Zc,clientX:(t||e).clientX,clientY:(t||e).clientY},gu=hu.clientX-c.left,xu=hu.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,Zc.style["will-change"]="all",i=function(){Xc("delayEnded",r,{evt:e}),$u.eventCanceled?r._onDrop():(r._disableDelayedDragEvents(),!xc&&r.nativeDraggable&&(Zc.draggable=!0),r._triggerDragStart(e,t),Jc({sortable:r,name:"choose",originalEvent:e}),Dc(Zc,a.chosenClass,!0))},a.ignore.split(",").forEach((function(e){Nc(Zc,e.trim(),Uu)})),kc(s,"dragover",Fu),kc(s,"mousemove",Fu),kc(s,"touchmove",Fu),kc(s,"mouseup",r._onDrop),kc(s,"touchend",r._onDrop),kc(s,"touchcancel",r._onDrop),xc&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Zc.draggable=!0),Xc("delayStart",this,{evt:e}),!a.delay||a.delayOnTouchOnly&&!t||this.nativeDraggable&&(gc||mc))i();else{if($u.eventCanceled)return void this._onDrop();kc(s,"mouseup",r._disableDelayedDrag),kc(s,"touchend",r._disableDelayedDrag),kc(s,"touchcancel",r._disableDelayedDrag),kc(s,"mousemove",r._delayedDragTouchMoveHandler),kc(s,"touchmove",r._delayedDragTouchMoveHandler),a.supportPointer&&kc(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(i,a.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Zc&&Uu(Zc),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;_c(e,"mouseup",this._disableDelayedDrag),_c(e,"touchend",this._disableDelayedDrag),_c(e,"touchcancel",this._disableDelayedDrag),_c(e,"mousemove",this._delayedDragTouchMoveHandler),_c(e,"touchmove",this._delayedDragTouchMoveHandler),_c(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?kc(document,"pointermove",this._onTouchMove):kc(document,t?"touchmove":"mousemove",this._onTouchMove):(kc(Zc,"dragend",this),kc(tu,"dragstart",this._onDragStart));try{document.selection?Yu((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(_u=!1,tu&&Zc){Xc("dragStarted",this,{evt:t}),this.nativeDraggable&&kc(document,"dragover",ju);var n=this.options;!e&&Dc(Zc,n.dragClass,!1),Dc(Zc,n.ghostClass,!0),$u.active=this,e&&this._appendGhost(),Jc({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(pu){this._lastX=pu.clientX,this._lastY=pu.clientY,Pu();for(var e=document.elementFromPoint(pu.clientX,pu.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(pu.clientX,pu.clientY))!==t;)t=e;if(Zc.parentNode[Vc]._isOutsideThisEl(e),t)do{if(t[Vc]){if(t[Vc]._onDragOver({clientX:pu.clientX,clientY:pu.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);qu()}},_onTouchMove:function(e){if(hu){var t=this.options,n=t.fallbackTolerance,i=t.fallbackOffset,r=e.touches?e.touches[0]:e,o=eu&&Ac(eu,!0),a=eu&&o&&o.a,s=eu&&o&&o.d,c=Nu&&ku&&qc(ku),u=(r.clientX-hu.clientX+i.x)/(a||1)+(c?c[0]-Mu[0]:0)/(a||1),l=(r.clientY-hu.clientY+i.y)/(s||1)+(c?c[1]-Mu[1]:0)/(s||1);if(!$u.active&&!_u){if(n&&Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(eu){o?(o.e+=u-(fu||0),o.f+=l-(mu||0)):o={a:1,b:0,c:0,d:1,e:u,f:l};var d="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Tc(eu,"webkitTransform",d),Tc(eu,"mozTransform",d),Tc(eu,"msTransform",d),Tc(eu,"transform",d),fu=u,mu=l,pu=r}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!eu){var e=this.options.fallbackOnBody?document.body:tu,t=Rc(Zc,!0,Nu,!0,e),n=this.options;if(Nu){for(ku=e;"static"===Tc(ku,"position")&&"none"===Tc(ku,"transform")&&ku!==document;)ku=ku.parentNode;ku!==document.body&&ku!==document.documentElement?(ku===document&&(ku=zc()),t.top+=ku.scrollTop,t.left+=ku.scrollLeft):ku=zc(),Mu=qc(ku)}Dc(eu=Zc.cloneNode(!0),n.ghostClass,!1),Dc(eu,n.fallbackClass,!0),Dc(eu,n.dragClass,!0),Tc(eu,"transition",""),Tc(eu,"transform",""),Tc(eu,"box-sizing","border-box"),Tc(eu,"margin",0),Tc(eu,"top",t.top),Tc(eu,"left",t.left),Tc(eu,"width",t.width),Tc(eu,"height",t.height),Tc(eu,"opacity","0.8"),Tc(eu,"position",Nu?"absolute":"fixed"),Tc(eu,"zIndex","100000"),Tc(eu,"pointerEvents","none"),$u.ghost=eu,e.appendChild(eu),Tc(eu,"transform-origin",gu/parseInt(eu.style.width)*100+"% "+xu/parseInt(eu.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,i=e.dataTransfer,r=n.options;Xc("dragStart",this,{evt:e}),$u.eventCanceled?this._onDrop():(Xc("setupClone",this),$u.eventCanceled||((ru=Uc(Zc)).draggable=!1,ru.style["will-change"]="",this._hideClone(),Dc(ru,this.options.chosenClass,!1),$u.clone=ru),n.cloneId=Yu((function(){Xc("clone",n),$u.eventCanceled||(n.options.removeCloneOnHide||tu.insertBefore(ru,Zc),n._hideClone(),Jc({sortable:n,name:"clone"}))})),!t&&Dc(Zc,r.dragClass,!0),t?(Cu=!0,n._loopId=setInterval(n._emulateDragOver,50)):(_c(document,"mouseup",n._onDrop),_c(document,"touchend",n._onDrop),_c(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",r.setData&&r.setData.call(n,i,Zc)),kc(document,"drop",n),Tc(Zc,"transform","translateZ(0)")),_u=!0,n._dragStartId=Yu(n._dragStarted.bind(n,t,e)),kc(document,"selectstart",n),vu=!0,vc&&Tc(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,i,r,o=this.el,a=e.target,s=this.options,c=s.group,u=$u.active,l=lu===c,d=s.sort,h=du||u,p=this,f=!1;if(!Du){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),a=Ec(a,s.draggable,o,!0),M("dragOver"),$u.eventCanceled)return f;if(Zc.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return T(!1);if(Cu=!1,u&&!s.disabled&&(l?d||(i=!tu.contains(Zc)):du===this||(this.lastPutMode=lu.checkPull(this,u,Zc,e))&&c.checkPut(this,u,Zc,e))){if(r="vertical"===this._getDirection(e,a),t=Rc(Zc),M("dragOverValid"),$u.eventCanceled)return f;if(i)return Qc=tu,D(),this._hideClone(),M("revert"),$u.eventCanceled||(nu?tu.insertBefore(Zc,nu):tu.appendChild(Zc)),T(!0);var m=Lc(o,s.draggable);if(!m||function(e,t,n){var i=Rc(Lc(n.el,n.options.draggable)),r=10;return t?e.clientX>i.right+r||e.clientX<=i.right&&e.clientY>i.bottom&&e.clientX>=i.left:e.clientX>i.right&&e.clientY>i.top||e.clientX<=i.right&&e.clientY>i.bottom+r}(e,r,this)&&!m.animated){if(m===Zc)return T(!1);if(m&&o===e.target&&(a=m),a&&(n=Rc(a)),!1!==Wu(tu,o,Zc,t,a,n,e,!!a))return D(),o.appendChild(Zc),Qc=o,A(),T(!0)}else if(a.parentNode===o){n=Rc(a);var g,x,v,b=Zc.parentNode!==o,y=!function(e,t,n){var i=n?e.left:e.top,r=n?e.right:e.bottom,o=n?e.width:e.height,a=n?t.left:t.top,s=n?t.right:t.bottom,c=n?t.width:t.height;return i===a||r===s||i+o/2===a+c/2}(Zc.animated&&Zc.toRect||t,a.animated&&a.toRect||n,r),w=r?"top":"left",k=Ic(a,"top","top")||Ic(Zc,"top","top"),_=k?k.scrollTop:void 0;if(bu!==a&&(x=n[w],Eu=!1,Ou=!y&&s.invertSwap||b),0!==(g=function(e,t,n,i,r,o,a,s){var c=i?e.clientY:e.clientX,u=i?n.height:n.width,l=i?n.top:n.left,d=i?n.bottom:n.right,h=!1;if(!a)if(s&&wu<u*r){if(!Eu&&(1===yu?c>l+u*o/2:c<d-u*o/2)&&(Eu=!0),Eu)h=!0;else if(1===yu?c<l+wu:c>d-wu)return-yu}else if(c>l+u*(1-r)/2&&c<d-u*(1-r)/2)return function(e){return Pc(Zc)<Pc(e)?1:-1}(t);if((h=h||a)&&(c<l+u*o/2||c>d-u*o/2))return c>l+u/2?1:-1;return 0}(e,a,n,r,y?1:s.swapThreshold,null==s.invertedSwapThreshold?s.swapThreshold:s.invertedSwapThreshold,Ou,bu===a))){var C=Pc(Zc);do{C-=g,v=Qc.children[C]}while(v&&("none"===Tc(v,"display")||v===eu))}if(0===g||v===a)return T(!1);bu=a,yu=g;var S=a.nextElementSibling,E=!1,O=Wu(tu,o,Zc,t,a,n,e,E=1===g);if(!1!==O)return 1!==O&&-1!==O||(E=1===O),Du=!0,setTimeout(Vu,30),D(),E&&!S?o.appendChild(Zc):a.parentNode.insertBefore(Zc,E?S:a),k&&Wc(k,0,_-k.scrollTop),Qc=Zc.parentNode,void 0===x||Ou||(wu=Math.abs(x-Rc(a)[w])),A(),T(!0)}if(o.contains(Zc))return T(!1)}return!1}function M(s,c){Xc(s,p,hc({evt:e,isOwner:l,axis:r?"vertical":"horizontal",revert:i,dragRect:t,targetRect:n,canSort:d,fromSortable:h,target:a,completed:T,onMove:function(n,i){return Wu(tu,o,Zc,t,n,Rc(n),e,i)},changed:A},c))}function D(){M("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function T(t){return M("dragOverCompleted",{insertion:t}),t&&(l?u._hideClone():u._showClone(p),p!==h&&(Dc(Zc,du?du.options.ghostClass:u.options.ghostClass,!1),Dc(Zc,s.ghostClass,!0)),du!==p&&p!==$u.active?du=p:p===$u.active&&du&&(du=null),h===p&&(p._ignoreWhileAnimating=a),p.animateAll((function(){M("dragOverAnimationComplete"),p._ignoreWhileAnimating=null})),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(a===Zc&&!Zc.animated||a===o&&!a.animated)&&(bu=null),s.dragoverBubble||e.rootEl||a===document||(Zc.parentNode[Vc]._isOutsideThisEl(e.target),!t&&Fu(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),f=!0}function A(){su=Pc(Zc),uu=Pc(Zc,s.draggable),Jc({sortable:p,name:"change",toEl:o,newIndex:su,newDraggableIndex:uu,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){_c(document,"mousemove",this._onTouchMove),_c(document,"touchmove",this._onTouchMove),_c(document,"pointermove",this._onTouchMove),_c(document,"dragover",Fu),_c(document,"mousemove",Fu),_c(document,"touchmove",Fu)},_offUpEvents:function(){var e=this.el.ownerDocument;_c(e,"mouseup",this._onDrop),_c(e,"touchend",this._onDrop),_c(e,"pointerup",this._onDrop),_c(e,"touchcancel",this._onDrop),_c(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;su=Pc(Zc),uu=Pc(Zc,n.draggable),Xc("drop",this,{evt:e}),Qc=Zc&&Zc.parentNode,su=Pc(Zc),uu=Pc(Zc,n.draggable),$u.eventCanceled||(_u=!1,Ou=!1,Eu=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Gu(this.cloneId),Gu(this._dragStartId),this.nativeDraggable&&(_c(document,"drop",this),_c(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),vc&&Tc(document.body,"user-select",""),Tc(Zc,"transform",""),e&&(vu&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),eu&&eu.parentNode&&eu.parentNode.removeChild(eu),(tu===Qc||du&&"clone"!==du.lastPutMode)&&ru&&ru.parentNode&&ru.parentNode.removeChild(ru),Zc&&(this.nativeDraggable&&_c(Zc,"dragend",this),Uu(Zc),Zc.style["will-change"]="",vu&&!_u&&Dc(Zc,du?du.options.ghostClass:this.options.ghostClass,!1),Dc(Zc,this.options.chosenClass,!1),Jc({sortable:this,name:"unchoose",toEl:Qc,newIndex:null,newDraggableIndex:null,originalEvent:e}),tu!==Qc?(su>=0&&(Jc({rootEl:Qc,name:"add",toEl:Qc,fromEl:tu,originalEvent:e}),Jc({sortable:this,name:"remove",toEl:Qc,originalEvent:e}),Jc({rootEl:Qc,name:"sort",toEl:Qc,fromEl:tu,originalEvent:e}),Jc({sortable:this,name:"sort",toEl:Qc,originalEvent:e})),du&&du.save()):su!==au&&su>=0&&(Jc({sortable:this,name:"update",toEl:Qc,originalEvent:e}),Jc({sortable:this,name:"sort",toEl:Qc,originalEvent:e})),$u.active&&(null!=su&&-1!==su||(su=au,uu=cu),Jc({sortable:this,name:"end",toEl:Qc,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){Xc("nulling",this),tu=Zc=Qc=eu=nu=ru=iu=ou=hu=pu=vu=su=uu=au=cu=bu=yu=du=lu=$u.dragged=$u.ghost=$u.clone=$u.active=null,Tu.forEach((function(e){e.checked=!0})),Tu.length=fu=mu=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Zc&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,i=0,r=n.length,o=this.options;i<r;i++)Ec(e=n[i],o.draggable,this.el,!1)&&t.push(e.getAttribute(o.dataIdAttr)||Hu(e));return t},sort:function(e,t){var n={},i=this.el;this.toArray().forEach((function(e,t){var r=i.children[t];Ec(r,this.options.draggable,i,!1)&&(n[e]=r)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(i.removeChild(n[e]),i.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Ec(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var i=Kc.modifyOption(this,e,t);n[e]=void 0!==i?i:t,"group"===e&&Lu(n)},destroy:function(){Xc("destroy",this);var e=this.el;e[Vc]=null,_c(e,"mousedown",this._onTapStart),_c(e,"touchstart",this._onTapStart),_c(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(_c(e,"dragover",this),_c(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),Su.splice(Su.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ou){if(Xc("hideClone",this),$u.eventCanceled)return;Tc(ru,"display","none"),this.options.removeCloneOnHide&&ru.parentNode&&ru.parentNode.removeChild(ru),ou=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(ou){if(Xc("showClone",this),$u.eventCanceled)return;Zc.parentNode!=tu||this.options.group.revertClone?nu?tu.insertBefore(ru,nu):tu.appendChild(ru):tu.insertBefore(ru,Zc),this.options.group.revertClone&&this.animate(Zc,ru),Tc(ru,"display",""),ou=!1}}else this._hideClone()}},Au&&kc(document,"touchmove",(function(e){($u.active||_u)&&e.cancelable&&e.preventDefault()})),$u.utils={on:kc,off:_c,css:Tc,find:Nc,is:function(e,t){return!!Ec(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:$c,closest:Ec,toggleClass:Dc,clone:Uc,index:Pc,nextTick:Yu,cancelNextTick:Gu,detectDirection:Bu,getChild:Bc},$u.get=function(e){return e[Vc]},$u.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&($u.utils=hc({},$u.utils,e.utils)),Kc.mount(e)}))},$u.create=function(e,t){return new $u(e,t)},$u.version="1.13.0";var Ku,Xu,Ju,Zu,Qu,el,tl=[],nl=!1;function il(){tl.forEach((function(e){clearInterval(e.pid)})),tl=[]}function rl(){clearInterval(el)}var ol=$c((function(e,t,n,i){if(t.scroll){var r,o=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,c=t.scrollSpeed,u=zc(),l=!1;Xu!==n&&(Xu=n,il(),Ku=t.scroll,r=t.scrollFn,!0===Ku&&(Ku=Fc(n,!0)));var d=0,h=Ku;do{var p=h,f=Rc(p),m=f.top,g=f.bottom,x=f.left,v=f.right,b=f.width,y=f.height,w=void 0,k=void 0,_=p.scrollWidth,C=p.scrollHeight,S=Tc(p),E=p.scrollLeft,O=p.scrollTop;p===u?(w=b<_&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),k=y<C&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(w=b<_&&("auto"===S.overflowX||"scroll"===S.overflowX),k=y<C&&("auto"===S.overflowY||"scroll"===S.overflowY));var M=w&&(Math.abs(v-o)<=s&&E+b<_)-(Math.abs(x-o)<=s&&!!E),D=k&&(Math.abs(g-a)<=s&&O+y<C)-(Math.abs(m-a)<=s&&!!O);if(!tl[d])for(var T=0;T<=d;T++)tl[T]||(tl[T]={});tl[d].vx==M&&tl[d].vy==D&&tl[d].el===p||(tl[d].el=p,tl[d].vx=M,tl[d].vy=D,clearInterval(tl[d].pid),0==M&&0==D||(l=!0,tl[d].pid=setInterval(function(){i&&0===this.layer&&$u.active._onTouchMove(Qu);var t=tl[this.layer].vy?tl[this.layer].vy*c:0,n=tl[this.layer].vx?tl[this.layer].vx*c:0;"function"==typeof r&&"continue"!==r.call($u.dragged.parentNode[Vc],n,t,e,Qu,tl[this.layer].el)||Wc(tl[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==u&&(h=Fc(h,!1)));nl=l}}),30),al=function(e){var t=e.originalEvent,n=e.putSortable,i=e.dragEl,r=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var c=n||r;a();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,l=document.elementFromPoint(u.clientX,u.clientY);s(),c&&!c.el.contains(l)&&(o("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function sl(){}function cl(){}sl.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=Bc(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:al},dc(sl,{pluginName:"revertOnSpill"}),cl.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:al},dc(cl,{pluginName:"removeOnSpill"}),$u.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?kc(document,"dragover",this._handleAutoScroll):this.options.supportPointer?kc(document,"pointermove",this._handleFallbackAutoScroll):t.touches?kc(document,"touchmove",this._handleFallbackAutoScroll):kc(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?_c(document,"dragover",this._handleAutoScroll):(_c(document,"pointermove",this._handleFallbackAutoScroll),_c(document,"touchmove",this._handleFallbackAutoScroll),_c(document,"mousemove",this._handleFallbackAutoScroll)),rl(),il(),clearTimeout(Oc),Oc=void 0},nulling:function(){Qu=Xu=Ku=nl=el=Ju=Zu=null,tl.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,i=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,o=document.elementFromPoint(i,r);if(Qu=e,t||gc||mc||vc){ol(e,this.options,o,t);var a=Fc(o,!0);!nl||el&&i===Ju&&r===Zu||(el&&rl(),el=setInterval((function(){var o=Fc(document.elementFromPoint(i,r),!0);o!==a&&(a=o,il()),ol(e,n.options,o,t)}),10),Ju=i,Zu=r)}else{if(!this.options.bubbleScroll||Fc(o,!0)===zc())return void il();ol(e,this.options,Fc(o,!1),!1)}}},dc(e,{pluginName:"scroll",initializeByDefault:!0})}),$u.mount(cl,sl);
/*!
 * Cropper.js v1.5.11
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2021-02-17T11:53:27.572Z
 */
function ul(e){return(ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ll(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dl(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function hl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function fl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pl(Object(n),!0).forEach((function(t){hl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ml(e){return function(e){if(Array.isArray(e))return gl(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return gl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gl(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}!function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){return r(t[a][1][e]||e)}),l,l.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){(function(i){!function(e){"object"==typeof n&&void 0!==t?t.exports=e():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=e()}((function(){return function t(n,i,r){function o(s,c){if(!i[s]){if(!n[s]){var u="function"==typeof e&&e;if(!c&&u)return u(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var d=i[s]={exports:{}};n[s][0].call(d.exports,(function(e){return o(n[s][1][e]||e)}),d,d.exports,t,n,i,r)}return i[s].exports}for(var a="function"==typeof e&&e,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){(function(i){!function(e){"object"==typeof n&&void 0!==t?t.exports=e():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=e()}((function(){return function t(n,i,r){function o(s,c){if(!i[s]){if(!n[s]){var u="function"==typeof e&&e;if(!c&&u)return u(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var d=i[s]={exports:{}};n[s][0].call(d.exports,(function(e){return o(n[s][1][e]||e)}),d,d.exports,t,n,i,r)}return i[s].exports}for(var a="function"==typeof e&&e,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){(function(i){!function(e){"object"==typeof n&&void 0!==t?t.exports=e():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=e()}((function(){return function t(n,i,r){function o(s,c){if(!i[s]){if(!n[s]){var u="function"==typeof e&&e;if(!c&&u)return u(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var d=i[s]={exports:{}};n[s][0].call(d.exports,(function(e){return o(n[s][1][e]||e)}),d,d.exports,t,n,i,r)}return i[s].exports}for(var a="function"==typeof e&&e,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){(function(i){!function(e){"object"==typeof n&&void 0!==t?t.exports=e():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=e()}((function(){return function t(n,i,r){function o(s,c){if(!i[s]){if(!n[s]){var u="function"==typeof e&&e;if(!c&&u)return u(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var d=i[s]={exports:{}};n[s][0].call(d.exports,(function(e){return o(n[s][1][e]||e)}),d,d.exports,t,n,i,r)}return i[s].exports}for(var a="function"==typeof e&&e,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){(function(i){!function(e){"object"==typeof n&&void 0!==t?t.exports=e():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=e()}((function(){return function t(n,i,r){function o(s,c){if(!i[s]){if(!n[s]){var u="function"==typeof e&&e;if(!c&&u)return u(s,!0);if(a)return a(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var d=i[s]={exports:{}};n[s][0].call(d.exports,(function(e){return o(n[s][1][e]||e)}),d,d.exports,t,n,i,r)}return i[s].exports}for(var a="function"==typeof e&&e,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){var i=e("./utils"),r=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,r,a,s,c,u,l=[],d=0,h=e.length,p=h,f="string"!==i.getTypeOf(e);d<e.length;)p=h-d,r=f?(t=e[d++],n=d<h?e[d++]:0,d<h?e[d++]:0):(t=e.charCodeAt(d++),n=d<h?e.charCodeAt(d++):0,d<h?e.charCodeAt(d++):0),a=t>>2,s=(3&t)<<4|n>>4,c=1<p?(15&n)<<2|r>>6:64,u=2<p?63&r:64,l.push(o.charAt(a)+o.charAt(s)+o.charAt(c)+o.charAt(u));return l.join("")},n.decode=function(e){var t,n,i,a,s,c,u=0,l=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var d,h=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&h--,e.charAt(e.length-2)===o.charAt(64)&&h--,h%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=r.uint8array?new Uint8Array(0|h):new Array(0|h);u<e.length;)t=o.indexOf(e.charAt(u++))<<2|(a=o.indexOf(e.charAt(u++)))>>4,n=(15&a)<<4|(s=o.indexOf(e.charAt(u++)))>>2,i=(3&s)<<6|(c=o.indexOf(e.charAt(u++))),d[l++]=t,64!==s&&(d[l++]=n),64!==c&&(d[l++]=i);return d}},{"./support":30,"./utils":32}],2:[function(e,t,n){var i=e("./external"),r=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function s(e,t,n,i,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=i,this.compressedContent=r}s.prototype={getContentWorker:function(){var e=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,n){return e.pipe(new o).pipe(new a("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){var i=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(e){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){var i=e("./utils"),r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==i.getTypeOf(e)?function(e,t,n){var i=r,o=0+n;e^=-1;for(var a=0;a<o;a++)e=e>>>8^i[255&(e^t[a])];return-1^e}(0|t,e,e.length):function(e,t,n){var i=r,o=0+n;e^=-1;for(var a=0;a<o;a++)e=e>>>8^i[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){var i;i="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:i}},{lie:37}],7:[function(e,t,n){var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=e("pako"),o=e("./utils"),a=e("./stream/GenericWorker"),s=i?"uint8array":"array";function c(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",o.inherits(c,a),c.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,e.data),!1)},c.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new c("Deflate",e)},n.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){function i(e,t){var n,i="";for(n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i}function r(e,t,n,r,a,l){var d,h,p=e.file,f=e.compression,m=l!==s.utf8encode,g=o.transformTo("string",l(p.name)),x=o.transformTo("string",s.utf8encode(p.name)),v=p.comment,b=o.transformTo("string",l(v)),y=o.transformTo("string",s.utf8encode(v)),w=x.length!==p.name.length,k=y.length!==v.length,_="",C="",S="",E=p.dir,O=p.date,M={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(M.crc32=e.crc32,M.compressedSize=e.compressedSize,M.uncompressedSize=e.uncompressedSize);var D=0;t&&(D|=8),m||!w&&!k||(D|=2048);var T,A=0,N=0;E&&(A|=16),"UNIX"===a?(N=798,A|=((T=p.unixPermissions)||(T=E?16893:33204),(65535&T)<<16)):(N=20,A|=63&(p.dosPermissions||0)),d=O.getUTCHours(),d<<=6,d|=O.getUTCMinutes(),d<<=5,d|=O.getUTCSeconds()/2,h=O.getUTCFullYear()-1980,h<<=4,h|=O.getUTCMonth()+1,h<<=5,h|=O.getUTCDate(),w&&(_+="up"+i((C=i(1,1)+i(c(g),4)+x).length,2)+C),k&&(_+="uc"+i((S=i(1,1)+i(c(b),4)+y).length,2)+S);var z="";return z+="\n\0",z+=i(D,2),z+=f.magic,z+=i(d,2),z+=i(h,2),z+=i(M.crc32,4),z+=i(M.compressedSize,4),z+=i(M.uncompressedSize,4),z+=i(g.length,2),z+=i(_.length,2),{fileRecord:u.LOCAL_FILE_HEADER+z+g+_,dirRecord:u.CENTRAL_FILE_HEADER+i(N,2)+z+i(b.length,2)+"\0\0\0\0"+i(A,4)+i(r,4)+g+_+b}}var o=e("../utils"),a=e("../stream/GenericWorker"),s=e("../utf8"),c=e("../crc32"),u=e("../signature");function l(e,t,n,i){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(l,a),l.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-i-1))/n:100}}))},l.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=r(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},l.prototype.closedSource=function(e){this.accumulate=!1;var t,n=this.streamFiles&&!e.file.dir,o=r(e,n,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(o.dirRecord),n)this.push({data:(t=e,u.DATA_DESCRIPTOR+i(t.crc32,4)+i(t.compressedSize,4)+i(t.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:o.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},l.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n,r,a,s,c,l,d=this.bytesWritten-e,h=(n=this.dirRecords.length,r=d,a=e,s=this.zipComment,c=this.encodeFileName,l=o.transformTo("string",c(s)),u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(n,2)+i(n,2)+i(r,4)+i(a,4)+i(l.length,2)+l);this.push({data:h,meta:{percent:100}})},l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},l.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},l.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(i){}return!0},l.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=l},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){var i=e("../compressions"),r=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var o=new r(t.streamFiles,n,t.platform,t.encodeFileName),a=0;try{e.forEach((function(e,n){a++;var r=function(e,t){var n=e||t,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(n.options.compression,t.compression),s=n.options.compressionOptions||t.compressionOptions||{},c=n.dir,u=n.date;n._compressWorker(r,s).withStreamInfo("file",{name:e,dir:c,date:u,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=a}catch(s){o.error(s)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(i.prototype=e("./object")).loadAsync=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.version="3.5.0",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=e("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){var i=e("./utils"),r=e("./external"),o=e("./utf8"),a=e("./zipEntries"),s=e("./stream/Crc32Probe"),c=e("./nodejsUtils");function u(e){return new r.Promise((function(t,n){var i=e.decompressed.getContentWorker().pipe(new s);i.on("error",(function(e){n(e)})).on("end",(function(){i.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=i.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(e)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new a(t);return n.load(e),n})).then((function(e){var n=[r.Promise.resolve(e)],i=e.files;if(t.checkCRC32)for(var o=0;o<i.length;o++)n.push(u(i[o]));return r.Promise.all(n)})).then((function(e){for(var i=e.shift(),r=i.files,o=0;o<r.length;o++){var a=r[o];n.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){var i=e("../utils"),r=e("../stream/GenericWorker");function o(e,t){r.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}i.inherits(o,r),o.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){var i=e("readable-stream").Readable;function r(e,t,n){i.call(this,t),this._helper=e;var r=this;e.on("data",(function(e,t){r.push(e)||r._helper.pause(),n&&n(t)})).on("error",(function(e){r.emit("error",e)})).on("end",(function(){r.push(null)}))}e("../utils").inherits(r,i),r.prototype._read=function(){this._helper.resume()},t.exports=r},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){function i(e,t,n){var i,o=a.getTypeOf(t),c=a.extend(n||{},u);c.date=c.date||new Date,null!==c.compression&&(c.compression=c.compression.toUpperCase()),"string"==typeof c.unixPermissions&&(c.unixPermissions=parseInt(c.unixPermissions,8)),c.unixPermissions&&16384&c.unixPermissions&&(c.dir=!0),c.dosPermissions&&16&c.dosPermissions&&(c.dir=!0),c.dir&&(e=r(e)),c.createFolders&&(i=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""}(e))&&m.call(this,i,!0);var h,g="string"===o&&!1===c.binary&&!1===c.base64;n&&void 0!==n.binary||(c.binary=!g),(t instanceof l&&0===t.uncompressedSize||c.dir||!t||0===t.length)&&(c.base64=!1,c.binary=!0,t="",c.compression="STORE",o="string"),h=t instanceof l||t instanceof s?t:p.isNode&&p.isStream(t)?new f(e,t):a.prepareContent(e,t,c.binary,c.optimizedBinaryString,c.base64);var x=new d(e,h,c);this.files[e]=x}function r(e){return"/"!==e.slice(-1)&&(e+="/"),e}var o=e("./utf8"),a=e("./utils"),s=e("./stream/GenericWorker"),c=e("./stream/StreamHelper"),u=e("./defaults"),l=e("./compressedObject"),d=e("./zipObject"),h=e("./generate"),p=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),m=function(e,t){return t=void 0!==t?t:u.createFolders,e=r(e),this.files[e]||i.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function g(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,i;for(t in this.files)this.files.hasOwnProperty(t)&&(i=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,i))},filter:function(e){var t=[];return this.forEach((function(n,i){e(n,i)&&t.push(i)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,i.call(this,e,t,n),this;if(g(e)){var r=e;return this.filter((function(e,t){return!t.dir&&r.test(e)}))}var o=this.files[this.root+e];return o&&!o.dir?o:null},folder:function(e){if(!e)return this;if(g(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=m.call(this,t),i=this.clone();return i.root=n.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=a.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");a.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var i=n.comment||this.comment||"";t=h.generateWorker(this,n,i)}catch(r){(t=new s("error")).error(r)}return new c(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){var i=e("./DataReader");function r(e){i.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data[this.zero+e]},r.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===r)return o-this.zero;return-1},r.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&i===o[2]&&r===o[3]},r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){var i=e("../utils");function r(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=r},{"../utils":32}],19:[function(e,t,n){var i=e("./Uint8ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){var i=e("./DataReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},r.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},r.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){var i=e("./ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){var i=e("../utils"),r=e("../support"),o=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),c=e("./Uint8ArrayReader");t.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new s(e):r.uint8array?new c(i.transformTo("uint8array",e)):new o(i.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,n){var i=e("./GenericWorker"),r=e("../utils");function o(e){i.call(this,"ConvertWorker to "+e),this.destType=e}r.inherits(o,i),o.prototype.processChunk=function(e){this.push({data:r.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){var i=e("./GenericWorker"),r=e("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,i),o.prototype.processChunk=function(e){this.streamInfo.crc32=r(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){var i=e("../utils"),r=e("./GenericWorker");function o(e){r.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}i.inherits(o,r),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}r.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){var i=e("../utils"),r=e("./GenericWorker");function o(e){r.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=i.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}i.inherits(o,r),o.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=i},{}],29:[function(e,t,n){var i=e("../utils"),r=e("./ConvertWorker"),o=e("./GenericWorker"),a=e("../base64"),s=e("../support"),c=e("../external"),u=null;if(s.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch(d){}function l(e,t,n){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=n,i.checkSupport(a),this._worker=e.pipe(new r(a)),e.lock()}catch(s){this._worker=new o("error"),this._worker.error(s)}}l.prototype={accumulate:function(e){return t=this,n=e,new c.Promise((function(e,r){var o=[],s=t._internalType,c=t._outputType,u=t._mimeType;t.on("data",(function(e,t){o.push(e),n&&n(t)})).on("error",(function(e){o=[],r(e)})).on("end",(function(){try{var t=function(e,t,n){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),n);case"base64":return a.encode(t);default:return i.transformTo(e,t)}}(c,function(e,t){var n,i=0,r=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(r=new Uint8Array(o),n=0;n<t.length;n++)r.set(t[n],i),i+=t[n].length;return r;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,o),u);e(t)}catch(n){r(n)}o=[]})).resume()}));var t,n},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){i.delay(t,arguments,n)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=l},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(o){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),n.blob=0===r.getBlob("application/zip").size}catch(a){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(o){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){for(var i=e("./utils"),r=e("./support"),o=e("./nodejsUtils"),a=e("./stream/GenericWorker"),s=new Array(256),c=0;c<256;c++)s[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function u(){a.call(this,"utf-8 decode"),this.leftOver=null}function l(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,n.utf8encode=function(e){return r.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,i,o,a,s=e.length,c=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=r.uint8array?new Uint8Array(c):new Array(c),o=a=0;a<c;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t}(e)},n.utf8decode=function(e){return r.nodebuffer?i.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,r,o,a=e.length,c=new Array(2*a);for(t=n=0;t<a;)if((r=e[t++])<128)c[n++]=r;else if(4<(o=s[r]))c[n++]=65533,t+=o-1;else{for(r&=2===o?31:3===o?15:7;1<o&&t<a;)r=r<<6|63&e[t++],o--;1<o?c[n++]=65533:r<65536?c[n++]=r:(r-=65536,c[n++]=55296|r>>10&1023,c[n++]=56320|1023&r)}return c.length!==n&&(c.subarray?c=c.subarray(0,n):c.length=n),i.applyFromCharCode(c)}(e=i.transformTo(r.uint8array?"uint8array":"array",e))},i.inherits(u,a),u.prototype.processChunk=function(e){var t=i.transformTo(r.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}(t),c=t;a!==t.length&&(r.uint8array?(c=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(c=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:n.utf8decode(c),meta:e.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=u,i.inherits(l,a),l.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=l},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){var i=e("./support"),r=e("./base64"),o=e("./nodejsUtils"),a=e("set-immediate-shim"),s=e("./external");function c(e){return e}function u(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(r){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(t)}catch(o){throw new Error("Bug : can't construct the Blob.")}}};var l={stringifyByChunk:function(e,t,n){var i=[],r=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;r<o;)"array"===t||"nodebuffer"===t?i.push(String.fromCharCode.apply(null,e.slice(r,Math.min(r+n,o)))):i.push(String.fromCharCode.apply(null,e.subarray(r,Math.min(r+n,o)))),r+=n;return i.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function d(e){var t=65536,i=n.getTypeOf(e),r=!0;if("uint8array"===i?r=l.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=l.applyCanBeUsed.nodebuffer),r)for(;1<t;)try{return l.stringifyByChunk(e,i,t)}catch(o){t=Math.floor(t/2)}return l.stringifyByChar(e)}function h(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=d;var p={};p.string={string:c,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return p.string.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:function(e){return u(e,o.allocBuffer(e.length))}},p.array={string:d,array:c,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},p.arraybuffer={string:function(e){return d(new Uint8Array(e))},array:function(e){return h(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:c,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},p.uint8array={string:d,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:c,nodebuffer:function(e){return o.newBufferFrom(e)}},p.nodebuffer={string:d,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return p.nodebuffer.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:c},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var i=n.getTypeOf(t);return p[i][e](t)},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":i.nodebuffer&&o.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!i[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)i+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return i},n.delay=function(e,t,n){a((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,o,a,c){return s.Promise.resolve(t).then((function(e){return i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise((function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e.target.error)},i.readAsArrayBuffer(e)})):e})).then((function(t){var l,d=n.getTypeOf(t);return d?("arraybuffer"===d?t=n.transformTo("uint8array",t):"string"===d&&(c?t=r.decode(t):o&&!0!==a&&(t=u(l=t,i.uint8array?new Uint8Array(l.length):new Array(l.length)))),t):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,n){var i=e("./reader/readerFor"),r=e("./utils"),o=e("./signature"),a=e("./zipEntry"),s=(e("./utf8"),e("./support"));function c(e){this.files=[],this.loadOptions=e}c.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(t)+", expected "+r.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4)===t;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=s.uint8array?"uint8array":"array",n=r.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=t-n;if(0<i)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){this.reader=i(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){var i=e("./reader/readerFor"),r=e("./utils"),o=e("./compressedObject"),a=e("./crc32"),s=e("./utf8"),c=e("./compressions"),u=e("./support");function l(e,t){this.options=e,this.loadOptions=t}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in c)if(c.hasOwnProperty(t)&&c[t].magic===e)return c[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,i,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<r;)t=e.readInt(2),n=e.readInt(2),i=e.readData(n),this.extraFields[t]={id:t,length:n,value:i};e.setIndex(r)},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=r.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var o=r.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=i(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=i(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){function i(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var r=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),a=e("./utf8"),s=e("./compressedObject"),c=e("./stream/GenericWorker");i.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var i="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!i&&(t=t.pipe(new a.Utf8EncodeWorker)),!o&&i&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(s){(t=new c("error")).error(s)}return new r(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<u.length;d++)i.prototype[u[d]]=l;t.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){var n,i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var o=0,a=new r(l),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var c=new e.MessageChannel;c.port1.onmessage=l,n=function(){c.port2.postMessage(0)}}var u=[];function l(){var e,t;i=!0;for(var n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}i=!1}t.exports=function(e){1!==u.push(e)||i||n()}}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){var i=e("immediate");function r(){}var o={},a=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==r&&p(this,e)}function l(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function d(e,t,n){i((function(){var i;try{i=t(n)}catch(r){return o.reject(e,r)}i===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,i)}))}function h(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function i(t){n||(n=!0,o.reject(e,t))}function r(t){n||(n=!0,o.resolve(e,t))}var a=f((function(){t(r,i)}));"error"===a.status&&i(a.value)}function f(e,t){var n={};try{n.value=e(t),n.status="success"}catch(i){n.status="error",n.value=i}return n}(t.exports=u).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var n=new this.constructor(r);return this.state!==c?d(n,this.state===s?e:t,this.outcome):this.queue.push(new l(n,e,t)),n},l.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){d(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){o.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){d(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=f(h,t);if("error"===n.status)return o.reject(e,n.value);var i=n.value;if(i)p(e,i);else{e.state=s,e.outcome=t;for(var r=-1,a=e.queue.length;++r<a;)e.queue[r].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:o.resolve(new this(r),e)},u.reject=function(e){var t=new this(r);return o.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var a=new Array(n),s=0,c=-1,u=new this(r);++c<n;)l(e[c],c);return u;function l(e,r){t.resolve(e).then((function(e){a[r]=e,++s!==n||i||(i=!0,o.resolve(u,a))}),(function(e){i||(i=!0,o.reject(u,e))}))}},u.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var i,a=-1,s=new this(r);++a<t;)i=e[a],this.resolve(i).then((function(e){n||(n=!0,o.resolve(s,e))}),(function(e){n||(n=!0,o.reject(s,e))}));return s}},{immediate:36}],38:[function(e,t,n){var i={};(0,e("./lib/utils/common").assign)(i,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){var i=e("./zlib/deflate"),r=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),c=Object.prototype.toString,u=0,l=-1,d=0,h=8;function p(e){if(!(this instanceof p))return new p(e);this.options=r.assign({level:l,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==u)throw new Error(a[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var f;if(f="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=i.deflateSetDictionary(this.strm,f))!==u)throw new Error(a[n]);this._dict_set=!0}}function f(e,t){var n=new p(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}p.prototype.push=function(e,t){var n,a,s=this.strm,l=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===c.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(l),s.next_out=0,s.avail_out=l),1!==(n=i.deflate(s,a))&&n!==u)return this.onEnd(n),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(r.shrinkBuf(s.output,s.next_out))):this.onData(r.shrinkBuf(s.output,s.next_out)))}while((0<s.avail_in||0===s.avail_out)&&1!==n);return 4===a?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u):2!==a||(this.onEnd(u),!(s.avail_out=0))},p.prototype.onData=function(e){this.chunks.push(e)},p.prototype.onEnd=function(e){e===u&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=p,n.deflate=f,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,f(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){var i=e("./zlib/inflate"),r=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),c=e("./zlib/zstream"),u=e("./zlib/gzheader"),l=Object.prototype.toString;function d(e){if(!(this instanceof d))return new d(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);this.header=new u,i.inflateGetHeader(this.strm,this.header)}function h(e,t){var n=new d(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}d.prototype.push=function(e,t){var n,s,c,u,d,h,p=this.strm,f=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?p.input=o.binstring2buf(e):"[object ArrayBuffer]"===l.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new r.Buf8(f),p.next_out=0,p.avail_out=f),(n=i.inflate(p,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&m&&(h="string"==typeof m?o.string2buf(m):"[object ArrayBuffer]"===l.call(m)?new Uint8Array(m):m,n=i.inflateSetDictionary(this.strm,h)),n===a.Z_BUF_ERROR&&!0===g&&(n=a.Z_OK,g=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),!(this.ended=!0);p.next_out&&(0!==p.avail_out&&n!==a.Z_STREAM_END&&(0!==p.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(c=o.utf8border(p.output,p.next_out),u=p.next_out-c,d=o.buf2string(p.output,c),p.next_out=u,p.avail_out=f-u,u&&r.arraySet(p.output,p.output,c,u,0),this.onData(d)):this.onData(r.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(g=!0)}while((0<p.avail_in||0===p.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(p.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=d,n.inflate=h,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},n.ungzip=h},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){var t,n,i,r,o,a;for(t=i=0,n=e.length;t<n;t++)i+=e[t].length;for(a=new Uint8Array(i),t=r=0,n=e.length;t<n;t++)o=e[t],a.set(o,r),r+=o.length;return a}},o={arraySet:function(e,t,n,i,r){for(var o=0;o<i;o++)e[r+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],42:[function(e,t,n){var i=e("./common"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(u){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(u){o=!1}for(var a=new i.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function c(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,n.string2buf=function(e){var t,n,r,o,a,s=e.length,c=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(c),o=a=0;a<c;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[a++]=n:(n<2048?t[a++]=192|n>>>6:(n<65536?t[a++]=224|n>>>12:(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63),t[a++]=128|n>>>6&63),t[a++]=128|63&n);return t},n.buf2binstring=function(e){return c(e,e.length)},n.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,i,r,o,s=t||e.length,u=new Array(2*s);for(n=i=0;n<s;)if((r=e[n++])<128)u[i++]=r;else if(4<(o=a[r]))u[i++]=65533,n+=o-1;else{for(r&=2===o?31:3===o?15:7;1<o&&n<s;)r=r<<6|63&e[n++],o--;1<o?u[i++]=65533:r<65536?u[i++]=r:(r-=65536,u[i++]=55296|r>>10&1023,u[i++]=56320|1023&r)}return c(u,i)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){t.exports=function(e,t,n,i){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){for(n-=a=2e3<n?2e3:n;o=o+(r=r+t[i++]|0)|0,--a;);r%=65521,o%=65521}return r|o<<16|0}},{}],44:[function(e,t,n){t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,r){var o=i,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,n){var i,r=e("../utils/common"),o=e("./trees"),a=e("./adler32"),s=e("./crc32"),c=e("./messages"),u=0,l=0,d=-2,h=2,p=8,f=286,m=30,g=19,x=2*f+1,v=15,b=3,y=258,w=y+b+1,k=42,_=113;function C(e,t){return e.msg=c[t],t}function S(e){return(e<<1)-(4<e?9:0)}function E(e){for(var t=e.length;0<=--t;)e[t]=0}function O(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function M(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,O(e.strm)}function D(e,t){e.pending_buf[e.pending++]=t}function T(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function A(e,t){var n,i,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-w?e.strstart-(e.w_size-w):0,u=e.window,l=e.w_mask,d=e.prev,h=e.strstart+y,p=u[o+a-1],f=u[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(u[(n=t)+a]===f&&u[n+a-1]===p&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<h);if(i=y-(h-o),o=h-y,a<i){if(e.match_start=t,s<=(a=i))break;p=u[o+a-1],f=u[o+a]}}}while((t=d[t&l])>c&&0!=--r);return a<=e.lookahead?a:e.lookahead}function N(e){var t,n,i,o,c,u,l,d,h,p,f=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=f+(f-w)){for(r.arraySet(e.window,e.window,f,f,0),e.match_start-=f,e.strstart-=f,e.block_start-=f,t=n=e.hash_size;i=e.head[--t],e.head[t]=f<=i?i-f:0,--n;);for(t=n=f;i=e.prev[--t],e.prev[t]=f<=i?i-f:0,--n;);o+=f}if(0===e.strm.avail_in)break;if(u=e.strm,l=e.window,d=e.strstart+e.lookahead,p=void 0,(h=o)<(p=u.avail_in)&&(p=h),n=0===p?0:(u.avail_in-=p,r.arraySet(l,u.input,u.next_in,p,d),1===u.state.wrap?u.adler=a(u.adler,l,p,d):2===u.state.wrap&&(u.adler=s(u.adler,l,p,d)),u.next_in+=p,u.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=b)for(c=e.strstart-e.insert,e.ins_h=e.window[c],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+b-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<b)););}while(e.lookahead<w&&0!==e.strm.avail_in)}function z(e,t){for(var n,i;;){if(e.lookahead<w){if(N(e),e.lookahead<w&&t===u)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=b&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+b-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-w&&(e.match_length=A(e,n)),e.match_length>=b)if(i=o._tr_tally(e,e.strstart-e.match_start,e.match_length-b),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=b){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+b-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(M(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<b-1?e.strstart:b-1,4===t?(M(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?1:2}function R(e,t){for(var n,i,r;;){if(e.lookahead<w){if(N(e),e.lookahead<w&&t===u)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=b&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+b-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=b-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-w&&(e.match_length=A(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===b&&4096<e.strstart-e.match_start)&&(e.match_length=b-1)),e.prev_length>=b&&e.match_length<=e.prev_length){for(r=e.strstart+e.lookahead-b,i=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-b),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+b-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=b-1,e.strstart++,i&&(M(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=o._tr_tally(e,0,e.window[e.strstart-1]))&&M(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<b-1?e.strstart:b-1,4===t?(M(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?1:2}function I(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function B(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=p,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(2*x),this.dyn_dtree=new r.Buf16(2*(2*m+1)),this.bl_tree=new r.Buf16(2*(2*g+1)),E(this.dyn_ltree),E(this.dyn_dtree),E(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(v+1),this.heap=new r.Buf16(2*f+1),E(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(2*f+1),E(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function L(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=h,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?k:_,e.adler=2===t.wrap?0:1,t.last_flush=u,o._tr_init(t),l):C(e,d)}function P(e){var t,n=L(e);return n===l&&((t=e.state).window_size=2*t.w_size,E(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=b-1,t.match_available=0,t.ins_h=0),n}function q(e,t,n,i,o,a){if(!e)return d;var s=1;if(-1===t&&(t=6),i<0?(s=0,i=-i):15<i&&(s=2,i-=16),o<1||9<o||n!==p||i<8||15<i||t<0||9<t||a<0||4<a)return C(e,d);8===i&&(i=9);var c=new B;return(e.state=c).strm=e,c.wrap=s,c.gzhead=null,c.w_bits=i,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+b-1)/b),c.window=new r.Buf8(2*c.w_size),c.head=new r.Buf16(c.hash_size),c.prev=new r.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new r.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=a,c.method=n,P(e)}i=[new I(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(N(e),0===e.lookahead&&t===u)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,M(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-w&&(M(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(M(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(M(e,!1),e.strm.avail_out),1)})),new I(4,4,8,4,z),new I(4,5,16,8,z),new I(4,6,32,32,z),new I(4,4,16,16,R),new I(8,16,32,32,R),new I(8,16,128,128,R),new I(8,32,128,256,R),new I(32,128,258,1024,R),new I(32,258,258,4096,R)],n.deflateInit=function(e,t){return q(e,t,p,15,8,0)},n.deflateInit2=q,n.deflateReset=P,n.deflateResetKeep=L,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?d:(e.state.gzhead=t,l):d},n.deflate=function(e,t){var n,r,a,c;if(!e||!e.state||5<t||t<0)return e?C(e,d):d;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||666===r.status&&4!==t)return C(e,0===e.avail_out?-5:d);if(r.strm=e,n=r.last_flush,r.last_flush=t,r.status===k)if(2===r.wrap)e.adler=0,D(r,31),D(r,139),D(r,8),r.gzhead?(D(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),D(r,255&r.gzhead.time),D(r,r.gzhead.time>>8&255),D(r,r.gzhead.time>>16&255),D(r,r.gzhead.time>>24&255),D(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),D(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(D(r,255&r.gzhead.extra.length),D(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(D(r,0),D(r,0),D(r,0),D(r,0),D(r,0),D(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),D(r,3),r.status=_);else{var h=p+(r.w_bits-8<<4)<<8;h|=(2<=r.strategy||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(h|=32),h+=31-h%31,r.status=_,T(r,h),0!==r.strstart&&(T(r,e.adler>>>16),T(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),O(e),a=r.pending,r.pending!==r.pending_buf_size));)D(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),O(e),a=r.pending,r.pending===r.pending_buf_size)){c=1;break}c=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,D(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===c&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),O(e),a=r.pending,r.pending===r.pending_buf_size)){c=1;break}c=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,D(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===c&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&O(e),r.pending+2<=r.pending_buf_size&&(D(r,255&e.adler),D(r,e.adler>>8&255),e.adler=0,r.status=_)):r.status=_),0!==r.pending){if(O(e),0===e.avail_out)return r.last_flush=-1,l}else if(0===e.avail_in&&S(t)<=S(n)&&4!==t)return C(e,-5);if(666===r.status&&0!==e.avail_in)return C(e,-5);if(0!==e.avail_in||0!==r.lookahead||t!==u&&666!==r.status){var f=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(N(e),0===e.lookahead)){if(t===u)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(M(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(M(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?1:2}(r,t):3===r.strategy?function(e,t){for(var n,i,r,a,s=e.window;;){if(e.lookahead<=y){if(N(e),e.lookahead<=y&&t===u)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=b&&0<e.strstart&&(i=s[r=e.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){a=e.strstart+y;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<a);e.match_length=y-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=b?(n=o._tr_tally(e,1,e.match_length-b),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(M(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(M(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(M(e,!1),0===e.strm.avail_out)?1:2}(r,t):i[r.level].func(r,t);if(3!==f&&4!==f||(r.status=666),1===f||3===f)return 0===e.avail_out&&(r.last_flush=-1),l;if(2===f&&(1===t?o._tr_align(r):5!==t&&(o._tr_stored_block(r,0,0,!1),3===t&&(E(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),O(e),0===e.avail_out))return r.last_flush=-1,l}return 4!==t?l:r.wrap<=0?1:(2===r.wrap?(D(r,255&e.adler),D(r,e.adler>>8&255),D(r,e.adler>>16&255),D(r,e.adler>>24&255),D(r,255&e.total_in),D(r,e.total_in>>8&255),D(r,e.total_in>>16&255),D(r,e.total_in>>24&255)):(T(r,e.adler>>>16),T(r,65535&e.adler)),O(e),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?l:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==k&&69!==t&&73!==t&&91!==t&&103!==t&&t!==_&&666!==t?C(e,d):(e.state=null,t===_?C(e,-3):l):d},n.deflateSetDictionary=function(e,t){var n,i,o,s,c,u,h,p,f=t.length;if(!e||!e.state)return d;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==k||n.lookahead)return d;for(1===s&&(e.adler=a(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===s&&(E(n.head),n.strstart=0,n.block_start=0,n.insert=0),p=new r.Buf8(n.w_size),r.arraySet(p,t,f-n.w_size,n.w_size,0),t=p,f=n.w_size),c=e.avail_in,u=e.next_in,h=e.input,e.avail_in=f,e.next_in=0,e.input=t,N(n);n.lookahead>=b;){for(i=n.strstart,o=n.lookahead-(b-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+b-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--o;);n.strstart=i,n.lookahead=b-1,N(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=b-1,n.match_available=0,e.next_in=u,e.input=h,e.avail_in=c,n.wrap=s,l},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){t.exports=function(e,t){var n,i,r,o,a,s,c,u,l,d,h,p,f,m,g,x,v,b,y,w,k,_,C,S,E;n=e.state,i=e.next_in,S=e.input,r=i+(e.avail_in-5),o=e.next_out,E=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),c=n.dmax,u=n.wsize,l=n.whave,d=n.wnext,h=n.window,p=n.hold,f=n.bits,m=n.lencode,g=n.distcode,x=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{f<15&&(p+=S[i++]<<f,f+=8,p+=S[i++]<<f,f+=8),b=m[p&x];t:for(;;){if(p>>>=y=b>>>24,f-=y,0==(y=b>>>16&255))E[o++]=65535&b;else{if(!(16&y)){if(0==(64&y)){b=m[(65535&b)+(p&(1<<y)-1)];continue t}if(32&y){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&b,(y&=15)&&(f<y&&(p+=S[i++]<<f,f+=8),w+=p&(1<<y)-1,p>>>=y,f-=y),f<15&&(p+=S[i++]<<f,f+=8,p+=S[i++]<<f,f+=8),b=g[p&v];n:for(;;){if(p>>>=y=b>>>24,f-=y,!(16&(y=b>>>16&255))){if(0==(64&y)){b=g[(65535&b)+(p&(1<<y)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(k=65535&b,f<(y&=15)&&(p+=S[i++]<<f,(f+=8)<y&&(p+=S[i++]<<f,f+=8)),c<(k+=p&(1<<y)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=y,f-=y,(y=o-a)<k){if(l<(y=k-y)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(C=h,(_=0)===d){if(_+=u-y,y<w){for(w-=y;E[o++]=h[_++],--y;);_=o-k,C=E}}else if(d<y){if(_+=u+d-y,(y-=d)<w){for(w-=y;E[o++]=h[_++],--y;);if(_=0,d<w){for(w-=y=d;E[o++]=h[_++],--y;);_=o-k,C=E}}}else if(_+=d-y,y<w){for(w-=y;E[o++]=h[_++],--y;);_=o-k,C=E}for(;2<w;)E[o++]=C[_++],E[o++]=C[_++],E[o++]=C[_++],w-=3;w&&(E[o++]=C[_++],1<w&&(E[o++]=C[_++]))}else{for(_=o-k;E[o++]=E[_++],E[o++]=E[_++],E[o++]=E[_++],2<(w-=3););w&&(E[o++]=E[_++],1<w&&(E[o++]=E[_++]))}break}}break}}while(i<r&&o<s);i-=w=f>>3,p&=(1<<(f-=w<<3))-1,e.next_in=i,e.next_out=o,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=p,n.bits=f}},{}],49:[function(e,t,n){var i=e("../utils/common"),r=e("./adler32"),o=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),c=1,u=2,l=0,d=-2,h=1,p=852,f=592;function m(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=h,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(p),t.distcode=t.distdyn=new i.Buf32(f),t.sane=1,t.back=-1,l):d}function v(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,x(e)):d}function b(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?d:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,v(e))):d}function y(e,t){var n,i;return e?(i=new g,(e.state=i).window=null,(n=b(e,t))!==l&&(e.state=null),n):d}var w,k,_=!0;function C(e){if(_){var t;for(w=new i.Buf32(512),k=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(c,e.lens,0,288,w,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(u,e.lens,0,32,k,0,e.work,{bits:5}),_=!1}e.lencode=w,e.lenbits=9,e.distcode=k,e.distbits=5}function S(e,t,n,r){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new i.Buf8(a.wsize)),r>=a.wsize?(i.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(r<(o=a.wsize-a.wnext)&&(o=r),i.arraySet(a.window,t,n-r,o,a.wnext),(r-=o)?(i.arraySet(a.window,t,n-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}n.inflateReset=v,n.inflateReset2=b,n.inflateResetKeep=x,n.inflateInit=function(e){return y(e,15)},n.inflateInit2=y,n.inflate=function(e,t){var n,p,f,g,x,v,b,y,w,k,_,E,O,M,D,T,A,N,z,R,I,B,L,P,q=0,F=new i.Buf8(4),j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return d;12===(n=e.state).mode&&(n.mode=13),x=e.next_out,f=e.output,b=e.avail_out,g=e.next_in,p=e.input,v=e.avail_in,y=n.hold,w=n.bits,k=v,_=b,B=l;e:for(;;)switch(n.mode){case h:if(0===n.wrap){n.mode=13;break}for(;w<16;){if(0===v)break e;v--,y+=p[g++]<<w,w+=8}if(2&n.wrap&&35615===y){F[n.check=0]=255&y,F[1]=y>>>8&255,n.check=o(n.check,F,2,0),w=y=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&y)<<8)+(y>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&y)){e.msg="unknown compression method",n.mode=30;break}if(w-=4,I=8+(15&(y>>>=4)),0===n.wbits)n.wbits=I;else if(I>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<I,e.adler=n.check=1,n.mode=512&y?10:12,w=y=0;break;case 2:for(;w<16;){if(0===v)break e;v--,y+=p[g++]<<w,w+=8}if(n.flags=y,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=y>>8&1),512&n.flags&&(F[0]=255&y,F[1]=y>>>8&255,n.check=o(n.check,F,2,0)),w=y=0,n.mode=3;case 3:for(;w<32;){if(0===v)break e;v--,y+=p[g++]<<w,w+=8}n.head&&(n.head.time=y),512&n.flags&&(F[0]=255&y,F[1]=y>>>8&255,F[2]=y>>>16&255,F[3]=y>>>24&255,n.check=o(n.check,F,4,0)),w=y=0,n.mode=4;case 4:for(;w<16;){if(0===v)break e;v--,y+=p[g++]<<w,w+=8}n.head&&(n.head.xflags=255&y,n.head.os=y>>8),512&n.flags&&(F[0]=255&y,F[1]=y>>>8&255,n.check=o(n.check,F,2,0)),w=y=0,n.mode=5;case 5:if(1024&n.flags){for(;w<16;){if(0===v)break e;v--,y+=p[g++]<<w,w+=8}n.length=y,n.head&&(n.head.extra_len=y),512&n.flags&&(F[0]=255&y,F[1]=y>>>8&255,n.check=o(n.check,F,2,0)),w=y=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(v<(E=n.length)&&(E=v),E&&(n.head&&(I=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,p,g,E,I)),512&n.flags&&(n.check=o(n.check,p,E,g)),v-=E,g+=E,n.length-=E),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===v)break e;for(E=0;I=p[g+E++],n.head&&I&&n.length<65536&&(n.head.name+=String.fromCharCode(I)),I&&E<v;);if(512&n.flags&&(n.check=o(n.check,p,E,g)),v-=E,g+=E,I)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===v)break e;for(E=0;I=p[g+E++],n.head&&I&&n.length<65536&&(n.head.comment+=String.fromCharCode(I)),I&&E<v;);if(512&n.flags&&(n.check=o(n.check,p,E,g)),v-=E,g+=E,I)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;w<16;){if(0===v)break e;v--,y+=p[g++]<<w,w+=8}if(y!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}w=y=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;w<32;){if(0===v)break e;v--,y+=p[g++]<<w,w+=8}e.adler=n.check=m(y),w=y=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=x,e.avail_out=b,e.next_in=g,e.avail_in=v,n.hold=y,n.bits=w,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){y>>>=7&w,w-=7&w,n.mode=27;break}for(;w<3;){if(0===v)break e;v--,y+=p[g++]<<w,w+=8}switch(n.last=1&y,w-=1,3&(y>>>=1)){case 0:n.mode=14;break;case 1:if(C(n),n.mode=20,6!==t)break;y>>>=2,w-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}y>>>=2,w-=2;break;case 14:for(y>>>=7&w,w-=7&w;w<32;){if(0===v)break e;v--,y+=p[g++]<<w,w+=8}if((65535&y)!=(y>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&y,w=y=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(E=n.length){if(v<E&&(E=v),b<E&&(E=b),0===E)break e;i.arraySet(f,p,g,E,x),v-=E,g+=E,b-=E,x+=E,n.length-=E;break}n.mode=12;break;case 17:for(;w<14;){if(0===v)break e;v--,y+=p[g++]<<w,w+=8}if(n.nlen=257+(31&y),y>>>=5,w-=5,n.ndist=1+(31&y),y>>>=5,w-=5,n.ncode=4+(15&y),y>>>=4,w-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;w<3;){if(0===v)break e;v--,y+=p[g++]<<w,w+=8}n.lens[j[n.have++]]=7&y,y>>>=3,w-=3}for(;n.have<19;)n.lens[j[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,L={bits:n.lenbits},B=s(0,n.lens,0,19,n.lencode,0,n.work,L),n.lenbits=L.bits,B){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;T=(q=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,A=65535&q,!((D=q>>>24)<=w);){if(0===v)break e;v--,y+=p[g++]<<w,w+=8}if(A<16)y>>>=D,w-=D,n.lens[n.have++]=A;else{if(16===A){for(P=D+2;w<P;){if(0===v)break e;v--,y+=p[g++]<<w,w+=8}if(y>>>=D,w-=D,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}I=n.lens[n.have-1],E=3+(3&y),y>>>=2,w-=2}else if(17===A){for(P=D+3;w<P;){if(0===v)break e;v--,y+=p[g++]<<w,w+=8}w-=D,I=0,E=3+(7&(y>>>=D)),y>>>=3,w-=3}else{for(P=D+7;w<P;){if(0===v)break e;v--,y+=p[g++]<<w,w+=8}w-=D,I=0,E=11+(127&(y>>>=D)),y>>>=7,w-=7}if(n.have+E>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;E--;)n.lens[n.have++]=I}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,L={bits:n.lenbits},B=s(c,n.lens,0,n.nlen,n.lencode,0,n.work,L),n.lenbits=L.bits,B){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,L={bits:n.distbits},B=s(u,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,L),n.distbits=L.bits,B){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=v&&258<=b){e.next_out=x,e.avail_out=b,e.next_in=g,e.avail_in=v,n.hold=y,n.bits=w,a(e,_),x=e.next_out,f=e.output,b=e.avail_out,g=e.next_in,p=e.input,v=e.avail_in,y=n.hold,w=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;T=(q=n.lencode[y&(1<<n.lenbits)-1])>>>16&255,A=65535&q,!((D=q>>>24)<=w);){if(0===v)break e;v--,y+=p[g++]<<w,w+=8}if(T&&0==(240&T)){for(N=D,z=T,R=A;T=(q=n.lencode[R+((y&(1<<N+z)-1)>>N)])>>>16&255,A=65535&q,!(N+(D=q>>>24)<=w);){if(0===v)break e;v--,y+=p[g++]<<w,w+=8}y>>>=N,w-=N,n.back+=N}if(y>>>=D,w-=D,n.back+=D,n.length=A,0===T){n.mode=26;break}if(32&T){n.back=-1,n.mode=12;break}if(64&T){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&T,n.mode=22;case 22:if(n.extra){for(P=n.extra;w<P;){if(0===v)break e;v--,y+=p[g++]<<w,w+=8}n.length+=y&(1<<n.extra)-1,y>>>=n.extra,w-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;T=(q=n.distcode[y&(1<<n.distbits)-1])>>>16&255,A=65535&q,!((D=q>>>24)<=w);){if(0===v)break e;v--,y+=p[g++]<<w,w+=8}if(0==(240&T)){for(N=D,z=T,R=A;T=(q=n.distcode[R+((y&(1<<N+z)-1)>>N)])>>>16&255,A=65535&q,!(N+(D=q>>>24)<=w);){if(0===v)break e;v--,y+=p[g++]<<w,w+=8}y>>>=N,w-=N,n.back+=N}if(y>>>=D,w-=D,n.back+=D,64&T){e.msg="invalid distance code",n.mode=30;break}n.offset=A,n.extra=15&T,n.mode=24;case 24:if(n.extra){for(P=n.extra;w<P;){if(0===v)break e;v--,y+=p[g++]<<w,w+=8}n.offset+=y&(1<<n.extra)-1,y>>>=n.extra,w-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===b)break e;if(E=_-b,n.offset>E){if((E=n.offset-E)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}O=E>n.wnext?(E-=n.wnext,n.wsize-E):n.wnext-E,E>n.length&&(E=n.length),M=n.window}else M=f,O=x-n.offset,E=n.length;for(b<E&&(E=b),b-=E,n.length-=E;f[x++]=M[O++],--E;);0===n.length&&(n.mode=21);break;case 26:if(0===b)break e;f[x++]=n.length,b--,n.mode=21;break;case 27:if(n.wrap){for(;w<32;){if(0===v)break e;v--,y|=p[g++]<<w,w+=8}if(_-=b,e.total_out+=_,n.total+=_,_&&(e.adler=n.check=n.flags?o(n.check,f,_,x-_):r(n.check,f,_,x-_)),_=b,(n.flags?y:m(y))!==n.check){e.msg="incorrect data check",n.mode=30;break}w=y=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;w<32;){if(0===v)break e;v--,y+=p[g++]<<w,w+=8}if(y!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}w=y=0}n.mode=29;case 29:B=1;break e;case 30:B=-3;break e;case 31:return-4;case 32:default:return d}return e.next_out=x,e.avail_out=b,e.next_in=g,e.avail_in=v,n.hold=y,n.bits=w,(n.wsize||_!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&S(e,e.output,e.next_out,_-e.avail_out)?(n.mode=31,-4):(k-=e.avail_in,_-=e.avail_out,e.total_in+=k,e.total_out+=_,n.total+=_,n.wrap&&_&&(e.adler=n.check=n.flags?o(n.check,f,_,e.next_out-_):r(n.check,f,_,e.next_out-_)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==k&&0===_||4===t)&&B===l&&(B=-5),B)},n.inflateEnd=function(e){if(!e||!e.state)return d;var t=e.state;return t.window&&(t.window=null),e.state=null,l},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?d:((n.head=t).done=!1,l):d},n.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?d:11===n.mode&&r(1,t,i,0)!==n.check?-3:S(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,l):d},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){var i=e("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,c,u,l,d,h){var p,f,m,g,x,v,b,y,w,k=h.bits,_=0,C=0,S=0,E=0,O=0,M=0,D=0,T=0,A=0,N=0,z=null,R=0,I=new i.Buf16(16),B=new i.Buf16(16),L=null,P=0;for(_=0;_<=15;_++)I[_]=0;for(C=0;C<c;C++)I[t[n+C]]++;for(O=k,E=15;1<=E&&0===I[E];E--);if(E<O&&(O=E),0===E)return u[l++]=20971520,u[l++]=20971520,h.bits=1,0;for(S=1;S<E&&0===I[S];S++);for(O<S&&(O=S),_=T=1;_<=15;_++)if(T<<=1,(T-=I[_])<0)return-1;if(0<T&&(0===e||1!==E))return-1;for(B[1]=0,_=1;_<15;_++)B[_+1]=B[_]+I[_];for(C=0;C<c;C++)0!==t[n+C]&&(d[B[t[n+C]]++]=C);if(v=0===e?(z=L=d,19):1===e?(z=r,R-=257,L=o,P-=257,256):(z=a,L=s,-1),_=S,x=l,D=C=N=0,m=-1,g=(A=1<<(M=O))-1,1===e&&852<A||2===e&&592<A)return 1;for(;;){for(b=_-D,w=d[C]<v?(y=0,d[C]):d[C]>v?(y=L[P+d[C]],z[R+d[C]]):(y=96,0),p=1<<_-D,S=f=1<<M;u[x+(N>>D)+(f-=p)]=b<<24|y<<16|w|0,0!==f;);for(p=1<<_-1;N&p;)p>>=1;if(0!==p?(N&=p-1,N+=p):N=0,C++,0==--I[_]){if(_===E)break;_=t[n+d[C]]}if(O<_&&(N&g)!==m){for(0===D&&(D=O),x+=S,T=1<<(M=_-D);M+D<E&&!((T-=I[M+D])<=0);)M++,T<<=1;if(A+=1<<M,1===e&&852<A||2===e&&592<A)return 1;u[m=N&g]=O<<24|M<<16|x-l|0}}return 0!==N&&(u[x+N]=_-D<<24|64<<16|0),h.bits=O,0}},{"../utils/common":41}],51:[function(e,t,n){t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){var i=e("../utils/common");function r(e){for(var t=e.length;0<=--t;)e[t]=0}var o=15,a=16,s=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],c=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],l=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],d=new Array(576);r(d);var h=new Array(60);r(h);var p=new Array(512);r(p);var f=new Array(256);r(f);var m=new Array(29);r(m);var g,x,v,b=new Array(30);function y(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function w(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function k(e){return e<256?p[e]:p[256+(e>>>7)]}function _(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function C(e,t,n){e.bi_valid>a-n?(e.bi_buf|=t<<e.bi_valid&65535,_(e,e.bi_buf),e.bi_buf=t>>a-e.bi_valid,e.bi_valid+=n-a):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function S(e,t,n){C(e,n[2*t],n[2*t+1])}function E(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function O(e,t,n){var i,r,a=new Array(o+1),s=0;for(i=1;i<=o;i++)a[i]=s=s+n[i-1]<<1;for(r=0;r<=t;r++){var c=e[2*r+1];0!==c&&(e[2*r]=E(a[c]++,c))}}function M(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function D(e){8<e.bi_valid?_(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function T(e,t,n,i){var r=2*t,o=2*n;return e[r]<e[o]||e[r]===e[o]&&i[t]<=i[n]}function A(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&T(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!T(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function N(e,t,n){var i,r,o,a,u=0;if(0!==e.last_lit)for(;i=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],r=e.pending_buf[e.l_buf+u],u++,0===i?S(e,r,t):(S(e,(o=f[r])+256+1,t),0!==(a=s[o])&&C(e,r-=m[o],a),S(e,o=k(--i),n),0!==(a=c[o])&&C(e,i-=b[o],a)),u<e.last_lit;);S(e,256,t)}function z(e,t){var n,i,r,a=t.dyn_tree,s=t.stat_desc.static_tree,c=t.stat_desc.has_stree,u=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<u;n++)0!==a[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(r=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[r]=0,e.opt_len--,c&&(e.static_len-=s[2*r+1]);for(t.max_code=l,n=e.heap_len>>1;1<=n;n--)A(e,a,n);for(r=u;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],A(e,a,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,a[2*r]=a[2*n]+a[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,a[2*n+1]=a[2*i+1]=r,e.heap[1]=r++,A(e,a,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,a,s,c,u=t.dyn_tree,l=t.max_code,d=t.stat_desc.static_tree,h=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,m=t.stat_desc.max_length,g=0;for(a=0;a<=o;a++)e.bl_count[a]=0;for(u[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)m<(a=u[2*u[2*(i=e.heap[n])+1]+1]+1)&&(a=m,g++),u[2*i+1]=a,l<i||(e.bl_count[a]++,s=0,f<=i&&(s=p[i-f]),c=u[2*i],e.opt_len+=c*(a+s),h&&(e.static_len+=c*(d[2*i+1]+s)));if(0!==g){do{for(a=m-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[m]--,g-=2}while(0<g);for(a=m;0!==a;a--)for(i=e.bl_count[a];0!==i;)l<(r=e.heap[--n])||(u[2*r+1]!==a&&(e.opt_len+=(a-u[2*r+1])*u[2*r],u[2*r+1]=a),i--)}}(e,t),O(a,l,e.bl_count)}function R(e,t,n){var i,r,o=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=a,a=t[2*(i+1)+1],++s<c&&r===a||(s<u?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=r,u=(s=0)===a?(c=138,3):r===a?(c=6,3):(c=7,4))}function I(e,t,n){var i,r,o=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),i=0;i<=n;i++)if(r=a,a=t[2*(i+1)+1],!(++s<c&&r===a)){if(s<u)for(;S(e,r,e.bl_tree),0!=--s;);else 0!==r?(r!==o&&(S(e,r,e.bl_tree),s--),S(e,16,e.bl_tree),C(e,s-3,2)):s<=10?(S(e,17,e.bl_tree),C(e,s-3,3)):(S(e,18,e.bl_tree),C(e,s-11,7));o=r,u=(s=0)===a?(c=138,3):r===a?(c=6,3):(c=7,4)}}r(b);var B=!1;function L(e,t,n,r){var o,a,s;C(e,0+(r?1:0),3),a=t,s=n,D(o=e),_(o,s),_(o,~s),i.arraySet(o.pending_buf,o.window,a,s,o.pending),o.pending+=s}n._tr_init=function(e){B||(function(){var e,t,n,i,r,a=new Array(o+1);for(i=n=0;i<28;i++)for(m[i]=n,e=0;e<1<<s[i];e++)f[n++]=i;for(f[n-1]=i,i=r=0;i<16;i++)for(b[i]=r,e=0;e<1<<c[i];e++)p[r++]=i;for(r>>=7;i<30;i++)for(b[i]=r<<7,e=0;e<1<<c[i]-7;e++)p[256+r++]=i;for(t=0;t<=o;t++)a[t]=0;for(e=0;e<=143;)d[2*e+1]=8,e++,a[8]++;for(;e<=255;)d[2*e+1]=9,e++,a[9]++;for(;e<=279;)d[2*e+1]=7,e++,a[7]++;for(;e<=287;)d[2*e+1]=8,e++,a[8]++;for(O(d,287,a),e=0;e<30;e++)h[2*e+1]=5,h[2*e]=E(e,5);g=new y(d,s,257,286,o),x=new y(h,c,0,30,o),v=new y(new Array(0),u,0,19,7)}(),B=!0),e.l_desc=new w(e.dyn_ltree,g),e.d_desc=new w(e.dyn_dtree,x),e.bl_desc=new w(e.bl_tree,v),e.bi_buf=0,e.bi_valid=0,M(e)},n._tr_stored_block=L,n._tr_flush_block=function(e,t,n,i){var r,o,a=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),z(e,e.l_desc),z(e,e.d_desc),a=function(e){var t;for(R(e,e.dyn_ltree,e.l_desc.max_code),R(e,e.dyn_dtree,e.d_desc.max_code),z(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*l[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),r=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=r&&(r=o)):r=o=n+5,n+4<=r&&-1!==t?L(e,t,n,i):4===e.strategy||o===r?(C(e,2+(i?1:0),3),N(e,d,h)):(C(e,4+(i?1:0),3),function(e,t,n,i){var r;for(C(e,t-257,5),C(e,n-1,5),C(e,i-4,4),r=0;r<i;r++)C(e,e.bl_tree[2*l[r]+1],3);I(e,e.dyn_ltree,t-1),I(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),N(e,e.dyn_ltree,e.dyn_dtree)),M(e),i&&D(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(f[n]+256+1)]++,e.dyn_dtree[2*k(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){var t;C(e,2,3),S(e,256,d),16===(t=e).bi_valid?(_(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":41}],53:[function(e,t,n){t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){t.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)}))}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}))}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}))}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}))}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}))}).call(this,void 0!==Ls?Ls:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1);var xl="undefined"!=typeof window&&void 0!==window.document,vl=xl?window:{},bl=!(!xl||!vl.document.documentElement)&&"ontouchstart"in vl.document.documentElement,yl=!!xl&&"PointerEvent"in vl,wl="".concat("cropper","-crop"),kl="".concat("cropper","-disabled"),_l="".concat("cropper","-hidden"),Cl="".concat("cropper","-hide"),Sl="".concat("cropper","-invisible"),El="".concat("cropper","-modal"),Ol="".concat("cropper","-move"),Ml="".concat("cropper","Action"),Dl="".concat("cropper","Preview"),Tl=yl?"pointerdown":bl?"touchstart":"mousedown",Al=yl?"pointermove":bl?"touchmove":"mousemove",Nl=yl?"pointerup pointercancel":bl?"touchend touchcancel":"mouseup",zl=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Rl=/^data:/,Il=/^data:image\/jpeg;base64,/,Bl=/^img|canvas$/i,Ll={viewMode:0,dragMode:"crop",initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:200,minContainerHeight:100,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Pl=Number.isNaN||vl.isNaN;function ql(e){return"number"==typeof e&&!Pl(e)}var Fl=function(e){return e>0&&e<1/0};function jl(e){return void 0===e}function $l(e){return"object"===ul(e)&&null!==e}var Wl=Object.prototype.hasOwnProperty;function Ul(e){if(!$l(e))return!1;try{var t=e.constructor,n=t.prototype;return t&&n&&Wl.call(n,"isPrototypeOf")}catch(i){return!1}}function Vl(e){return"function"==typeof e}var Hl=Array.prototype.slice;function Yl(e){return Array.from?Array.from(e):Hl.call(e)}function Gl(e,t){return e&&Vl(t)&&(Array.isArray(e)||ql(e.length)?Yl(e).forEach((function(n,i){t.call(e,n,i,e)})):$l(e)&&Object.keys(e).forEach((function(n){t.call(e,e[n],n,e)}))),e}var Kl=Object.assign||function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return $l(e)&&n.length>0&&n.forEach((function(t){$l(t)&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e},Xl=/\.\d*(?:0|9){12}\d*$/;function Jl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return Xl.test(e)?Math.round(e*t)/t:e}var Zl=/^width|height|left|top|marginLeft|marginTop$/;function Ql(e,t){var n=e.style;Gl(t,(function(e,t){Zl.test(t)&&ql(e)&&(e="".concat(e,"px")),n[t]=e}))}function ed(e,t){if(t)if(ql(e.length))Gl(e,(function(e){ed(e,t)}));else if(e.classList)e.classList.add(t);else{var n=e.className.trim();n?n.indexOf(t)<0&&(e.className="".concat(n," ").concat(t)):e.className=t}}function td(e,t){t&&(ql(e.length)?Gl(e,(function(e){td(e,t)})):e.classList?e.classList.remove(t):e.className.indexOf(t)>=0&&(e.className=e.className.replace(t,"")))}function nd(e,t,n){t&&(ql(e.length)?Gl(e,(function(e){nd(e,t,n)})):n?ed(e,t):td(e,t))}var id=/([a-z\d])([A-Z])/g;function rd(e){return e.replace(id,"$1-$2").toLowerCase()}function od(e,t){return $l(e[t])?e[t]:e.dataset?e.dataset[t]:e.getAttribute("data-".concat(rd(t)))}function ad(e,t,n){$l(n)?e[t]=n:e.dataset?e.dataset[t]=n:e.setAttribute("data-".concat(rd(t)),n)}var sd=/\s\s*/,cd=function(){var e=!1;if(xl){var t=!1,n=function(){},i=Object.defineProperty({},"once",{get:function(){return e=!0,t},set:function(e){t=e}});vl.addEventListener("test",n,i),vl.removeEventListener("test",n,i)}return e}();function ud(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=n;t.trim().split(sd).forEach((function(t){if(!cd){var o=e.listeners;o&&o[t]&&o[t][n]&&(r=o[t][n],delete o[t][n],0===Object.keys(o[t]).length&&delete o[t],0===Object.keys(o).length&&delete e.listeners)}e.removeEventListener(t,r,i)}))}function ld(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=n;t.trim().split(sd).forEach((function(t){if(i.once&&!cd){var o=e.listeners,a=void 0===o?{}:o;r=function(){delete a[t][n],e.removeEventListener(t,r,i);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];n.apply(e,s)},a[t]||(a[t]={}),a[t][n]&&e.removeEventListener(t,a[t][n],i),a[t][n]=r,e.listeners=a}e.addEventListener(t,r,i)}))}function dd(e,t,n){var i;return Vl(Event)&&Vl(CustomEvent)?i=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0}):(i=document.createEvent("CustomEvent")).initCustomEvent(t,!0,!0,n),e.dispatchEvent(i)}function hd(e){var t=e.getBoundingClientRect();return{left:t.left+(window.pageXOffset-document.documentElement.clientLeft),top:t.top+(window.pageYOffset-document.documentElement.clientTop)}}var pd=vl.location,fd=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function md(e){var t=e.match(fd);return null!==t&&(t[1]!==pd.protocol||t[2]!==pd.hostname||t[3]!==pd.port)}function gd(e){var t="timestamp=".concat((new Date).getTime());return e+(-1===e.indexOf("?")?"?":"&")+t}function xd(e){var t=e.rotate,n=e.scaleX,i=e.scaleY,r=e.translateX,o=e.translateY,a=[];ql(r)&&0!==r&&a.push("translateX(".concat(r,"px)")),ql(o)&&0!==o&&a.push("translateY(".concat(o,"px)")),ql(t)&&0!==t&&a.push("rotate(".concat(t,"deg)")),ql(n)&&1!==n&&a.push("scaleX(".concat(n,")")),ql(i)&&1!==i&&a.push("scaleY(".concat(i,")"));var s=a.length?a.join(" "):"none";return{WebkitTransform:s,msTransform:s,transform:s}}function vd(e,t){var n=e.pageX,i=e.pageY,r={endX:n,endY:i};return t?r:fl({startX:n,startY:i},r)}function bd(e){var t=e.aspectRatio,n=e.height,i=e.width,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"contain",o=Fl(i),a=Fl(n);if(o&&a){var s=n*t;"contain"===r&&s>i||"cover"===r&&s<i?n=i/t:i=n*t}else o?n=i/t:a&&(i=n*t);return{width:i,height:n}}function yd(e,t,n,i){var r=t.aspectRatio,o=t.naturalWidth,a=t.naturalHeight,s=t.rotate,c=void 0===s?0:s,u=t.scaleX,l=void 0===u?1:u,d=t.scaleY,h=void 0===d?1:d,p=n.aspectRatio,f=n.naturalWidth,m=n.naturalHeight,g=i.fillColor,x=void 0===g?"transparent":g,v=i.imageSmoothingEnabled,b=void 0===v||v,y=i.imageSmoothingQuality,w=void 0===y?"low":y,k=i.maxWidth,_=void 0===k?1/0:k,C=i.maxHeight,S=void 0===C?1/0:C,E=i.minWidth,O=void 0===E?0:E,M=i.minHeight,D=void 0===M?0:M,T=document.createElement("canvas"),A=T.getContext("2d"),N=bd({aspectRatio:p,width:_,height:S}),z=bd({aspectRatio:p,width:O,height:D},"cover"),R=Math.min(N.width,Math.max(z.width,f)),I=Math.min(N.height,Math.max(z.height,m)),B=bd({aspectRatio:r,width:_,height:S}),L=bd({aspectRatio:r,width:O,height:D},"cover"),P=Math.min(B.width,Math.max(L.width,o)),q=Math.min(B.height,Math.max(L.height,a)),F=[-P/2,-q/2,P,q];return T.width=Jl(R),T.height=Jl(I),A.fillStyle=x,A.fillRect(0,0,R,I),A.save(),A.translate(R/2,I/2),A.rotate(c*Math.PI/180),A.scale(l,h),A.imageSmoothingEnabled=b,A.imageSmoothingQuality=w,A.drawImage.apply(A,[e].concat(ml(F.map((function(e){return Math.floor(Jl(e))}))))),A.restore(),T}var wd=String.fromCharCode;var kd=/^data:.*,/;function _d(e){var t,n=new DataView(e);try{var i,r,o;if(255===n.getUint8(0)&&216===n.getUint8(1))for(var a=n.byteLength,s=2;s+1<a;){if(255===n.getUint8(s)&&225===n.getUint8(s+1)){r=s;break}s+=1}if(r){var c=r+10;if("Exif"===function(e,t,n){var i="";n+=t;for(var r=t;r<n;r+=1)i+=wd(e.getUint8(r));return i}(n,r+4,4)){var u=n.getUint16(c);if(((i=18761===u)||19789===u)&&42===n.getUint16(c+2,i)){var l=n.getUint32(c+4,i);l>=8&&(o=c+l)}}}if(o){var d,h,p=n.getUint16(o,i);for(h=0;h<p;h+=1)if(d=o+12*h+2,274===n.getUint16(d,i)){d+=8,t=n.getUint16(d,i),n.setUint16(d,1,i);break}}}catch(f){t=1}return t}var Cd={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,n=this.container,i=this.cropper,r=Number(t.minContainerWidth),o=Number(t.minContainerHeight);ed(i,_l),td(e,_l);var a={width:Math.max(n.offsetWidth,r>=0?r:200),height:Math.max(n.offsetHeight,o>=0?o:100)};this.containerData=a,Ql(i,{width:a.width,height:a.height}),ed(e,_l),td(i,_l)},initCanvas:function(){var e=this.containerData,t=this.imageData,n=this.options.viewMode,i=Math.abs(t.rotate)%180==90,r=i?t.naturalHeight:t.naturalWidth,o=i?t.naturalWidth:t.naturalHeight,a=r/o,s=e.width,c=e.height;e.height*a>e.width?3===n?s=e.height*a:c=e.width/a:3===n?c=e.width/a:s=e.height*a;var u={aspectRatio:a,naturalWidth:r,naturalHeight:o,width:s,height:c};this.canvasData=u,this.limited=1===n||2===n,this.limitCanvas(!0,!0),u.width=Math.min(Math.max(u.width,u.minWidth),u.maxWidth),u.height=Math.min(Math.max(u.height,u.minHeight),u.maxHeight),u.left=(e.width-u.width)/2,u.top=(e.height-u.height)/2,u.oldLeft=u.left,u.oldTop=u.top,this.initialCanvasData=Kl({},u)},limitCanvas:function(e,t){var n=this.options,i=this.containerData,r=this.canvasData,o=this.cropBoxData,a=n.viewMode,s=r.aspectRatio,c=this.cropped&&o;if(e){var u=Number(n.minCanvasWidth)||0,l=Number(n.minCanvasHeight)||0;a>1?(u=Math.max(u,i.width),l=Math.max(l,i.height),3===a&&(l*s>u?u=l*s:l=u/s)):a>0&&(u?u=Math.max(u,c?o.width:0):l?l=Math.max(l,c?o.height:0):c&&(u=o.width,(l=o.height)*s>u?u=l*s:l=u/s));var d=bd({aspectRatio:s,width:u,height:l});u=d.width,l=d.height,r.minWidth=u,r.minHeight=l,r.maxWidth=1/0,r.maxHeight=1/0}if(t)if(a>(c?0:1)){var h=i.width-r.width,p=i.height-r.height;r.minLeft=Math.min(0,h),r.minTop=Math.min(0,p),r.maxLeft=Math.max(0,h),r.maxTop=Math.max(0,p),c&&this.limited&&(r.minLeft=Math.min(o.left,o.left+(o.width-r.width)),r.minTop=Math.min(o.top,o.top+(o.height-r.height)),r.maxLeft=o.left,r.maxTop=o.top,2===a&&(r.width>=i.width&&(r.minLeft=Math.min(0,h),r.maxLeft=Math.max(0,h)),r.height>=i.height&&(r.minTop=Math.min(0,p),r.maxTop=Math.max(0,p))))}else r.minLeft=-r.width,r.minTop=-r.height,r.maxLeft=i.width,r.maxTop=i.height},renderCanvas:function(e,t){var n=this.canvasData,i=this.imageData;if(t){var r=function(e){var t=e.width,n=e.height,i=e.degree;if(90==(i=Math.abs(i)%180))return{width:n,height:t};var r=i%90*Math.PI/180,o=Math.sin(r),a=Math.cos(r),s=t*a+n*o,c=t*o+n*a;return i>90?{width:c,height:s}:{width:s,height:c}}({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),o=r.width,a=r.height,s=n.width*(o/n.naturalWidth),c=n.height*(a/n.naturalHeight);n.left-=(s-n.width)/2,n.top-=(c-n.height)/2,n.width=s,n.height=c,n.aspectRatio=o/a,n.naturalWidth=o,n.naturalHeight=a,this.limitCanvas(!0,!1)}(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCanvas(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,Ql(this.canvas,Kl({width:n.width,height:n.height},xd({translateX:n.left,translateY:n.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,n=this.imageData,i=n.naturalWidth*(t.width/t.naturalWidth),r=n.naturalHeight*(t.height/t.naturalHeight);Kl(n,{width:i,height:r,left:(t.width-i)/2,top:(t.height-r)/2}),Ql(this.image,Kl({width:n.width,height:n.height},xd(Kl({translateX:n.left,translateY:n.top},n)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,n=e.aspectRatio||e.initialAspectRatio,i=Number(e.autoCropArea)||.8,r={width:t.width,height:t.height};n&&(t.height*n>t.width?r.height=r.width/n:r.width=r.height*n),this.cropBoxData=r,this.limitCropBox(!0,!0),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),r.width=Math.max(r.minWidth,r.width*i),r.height=Math.max(r.minHeight,r.height*i),r.left=t.left+(t.width-r.width)/2,r.top=t.top+(t.height-r.height)/2,r.oldLeft=r.left,r.oldTop=r.top,this.initialCropBoxData=Kl({},r)},limitCropBox:function(e,t){var n=this.options,i=this.containerData,r=this.canvasData,o=this.cropBoxData,a=this.limited,s=n.aspectRatio;if(e){var c=Number(n.minCropBoxWidth)||0,u=Number(n.minCropBoxHeight)||0,l=a?Math.min(i.width,r.width,r.width+r.left,i.width-r.left):i.width,d=a?Math.min(i.height,r.height,r.height+r.top,i.height-r.top):i.height;c=Math.min(c,i.width),u=Math.min(u,i.height),s&&(c&&u?u*s>c?u=c/s:c=u*s:c?u=c/s:u&&(c=u*s),d*s>l?d=l/s:l=d*s),o.minWidth=Math.min(c,l),o.minHeight=Math.min(u,d),o.maxWidth=l,o.maxHeight=d}t&&(a?(o.minLeft=Math.max(0,r.left),o.minTop=Math.max(0,r.top),o.maxLeft=Math.min(i.width,r.left+r.width)-o.width,o.maxTop=Math.min(i.height,r.top+r.height)-o.height):(o.minLeft=0,o.minTop=0,o.maxLeft=i.width-o.width,o.maxTop=i.height-o.height))},renderCropBox:function(){var e=this.options,t=this.containerData,n=this.cropBoxData;(n.width>n.maxWidth||n.width<n.minWidth)&&(n.left=n.oldLeft),(n.height>n.maxHeight||n.height<n.minHeight)&&(n.top=n.oldTop),n.width=Math.min(Math.max(n.width,n.minWidth),n.maxWidth),n.height=Math.min(Math.max(n.height,n.minHeight),n.maxHeight),this.limitCropBox(!1,!0),n.left=Math.min(Math.max(n.left,n.minLeft),n.maxLeft),n.top=Math.min(Math.max(n.top,n.minTop),n.maxTop),n.oldLeft=n.left,n.oldTop=n.top,e.movable&&e.cropBoxMovable&&ad(this.face,Ml,n.width>=t.width&&n.height>=t.height?"move":"all"),Ql(this.cropBox,Kl({width:n.width,height:n.height},xd({translateX:n.left,translateY:n.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),dd(this.element,"crop",this.getData())}},Sd={initPreview:function(){var e=this.element,t=this.crossOrigin,n=this.options.preview,i=t?this.crossOriginUrl:this.url,r=e.alt||"The image to preview",o=document.createElement("img");if(t&&(o.crossOrigin=t),o.src=i,o.alt=r,this.viewBox.appendChild(o),this.viewBoxImage=o,n){var a=n;"string"==typeof n?a=e.ownerDocument.querySelectorAll(n):n.querySelector&&(a=[n]),this.previews=a,Gl(a,(function(e){var n=document.createElement("img");ad(e,Dl,{width:e.offsetWidth,height:e.offsetHeight,html:e.innerHTML}),t&&(n.crossOrigin=t),n.src=i,n.alt=r,n.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',e.innerHTML="",e.appendChild(n)}))}},resetPreview:function(){Gl(this.previews,(function(e){var t=od(e,Dl);Ql(e,{width:t.width,height:t.height}),e.innerHTML=t.html,function(e,t){if($l(e[t]))try{delete e[t]}catch(n){e[t]=void 0}else if(e.dataset)try{delete e.dataset[t]}catch(n){e.dataset[t]=void 0}else e.removeAttribute("data-".concat(rd(t)))}(e,Dl)}))},preview:function(){var e=this.imageData,t=this.canvasData,n=this.cropBoxData,i=n.width,r=n.height,o=e.width,a=e.height,s=n.left-t.left-e.left,c=n.top-t.top-e.top;this.cropped&&!this.disabled&&(Ql(this.viewBoxImage,Kl({width:o,height:a},xd(Kl({translateX:-s,translateY:-c},e)))),Gl(this.previews,(function(t){var n=od(t,Dl),u=n.width,l=n.height,d=u,h=l,p=1;i&&(h=r*(p=u/i)),r&&h>l&&(d=i*(p=l/r),h=l),Ql(t,{width:d,height:h}),Ql(t.getElementsByTagName("img")[0],Kl({width:o*p,height:a*p},xd(Kl({translateX:-s*p,translateY:-c*p},e))))})))}},Ed={bind:function(){var e=this.element,t=this.options,n=this.cropper;Vl(t.cropstart)&&ld(e,"cropstart",t.cropstart),Vl(t.cropmove)&&ld(e,"cropmove",t.cropmove),Vl(t.cropend)&&ld(e,"cropend",t.cropend),Vl(t.crop)&&ld(e,"crop",t.crop),Vl(t.zoom)&&ld(e,"zoom",t.zoom),ld(n,Tl,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&ld(n,"wheel",this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&ld(n,"dblclick",this.onDblclick=this.dblclick.bind(this)),ld(e.ownerDocument,Al,this.onCropMove=this.cropMove.bind(this)),ld(e.ownerDocument,Nl,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&ld(window,"resize",this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,n=this.cropper;Vl(t.cropstart)&&ud(e,"cropstart",t.cropstart),Vl(t.cropmove)&&ud(e,"cropmove",t.cropmove),Vl(t.cropend)&&ud(e,"cropend",t.cropend),Vl(t.crop)&&ud(e,"crop",t.crop),Vl(t.zoom)&&ud(e,"zoom",t.zoom),ud(n,Tl,this.onCropStart),t.zoomable&&t.zoomOnWheel&&ud(n,"wheel",this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&ud(n,"dblclick",this.onDblclick),ud(e.ownerDocument,Al,this.onCropMove),ud(e.ownerDocument,Nl,this.onCropEnd),t.responsive&&ud(window,"resize",this.onResize)}},Od={resize:function(){if(!this.disabled){var e,t,n=this.options,i=this.container,r=this.containerData,o=i.offsetWidth/r.width;if(1!==o||i.offsetHeight!==r.height)n.restore&&(e=this.getCanvasData(),t=this.getCropBoxData()),this.render(),n.restore&&(this.setCanvasData(Gl(e,(function(t,n){e[n]=t*o}))),this.setCropBoxData(Gl(t,(function(e,n){t[n]=e*o}))))}},dblclick:function(){var e,t;this.disabled||"none"===this.options.dragMode||this.setDragMode((e=this.dragBox,t=wl,(e.classList?e.classList.contains(t):e.className.indexOf(t)>-1)?"move":"crop"))},wheel:function(e){var t=this,n=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(e.preventDefault(),this.wheeling||(this.wheeling=!0,setTimeout((function(){t.wheeling=!1}),50),e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*n,e)))},cropStart:function(e){var t=e.buttons,n=e.button;if(!(this.disabled||("mousedown"===e.type||"pointerdown"===e.type&&"mouse"===e.pointerType)&&(ql(t)&&1!==t||ql(n)&&0!==n||e.ctrlKey))){var i,r=this.options,o=this.pointers;e.changedTouches?Gl(e.changedTouches,(function(e){o[e.identifier]=vd(e)})):o[e.pointerId||0]=vd(e),i=Object.keys(o).length>1&&r.zoomable&&r.zoomOnTouch?"zoom":od(e.target,Ml),zl.test(i)&&!1!==dd(this.element,"cropstart",{originalEvent:e,action:i})&&(e.preventDefault(),this.action=i,this.cropping=!1,"crop"===i&&(this.cropping=!0,ed(this.dragBox,El)))}},cropMove:function(e){var t=this.action;if(!this.disabled&&t){var n=this.pointers;e.preventDefault(),!1!==dd(this.element,"cropmove",{originalEvent:e,action:t})&&(e.changedTouches?Gl(e.changedTouches,(function(e){Kl(n[e.identifier]||{},vd(e,!0))})):Kl(n[e.pointerId||0]||{},vd(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,n=this.pointers;e.changedTouches?Gl(e.changedTouches,(function(e){delete n[e.identifier]})):delete n[e.pointerId||0],t&&(e.preventDefault(),Object.keys(n).length||(this.action=""),this.cropping&&(this.cropping=!1,nd(this.dragBox,El,this.cropped&&this.options.modal)),dd(this.element,"cropend",{originalEvent:e,action:t}))}}},Md={change:function(e){var t,n=this.options,i=this.canvasData,r=this.containerData,o=this.cropBoxData,a=this.pointers,s=this.action,c=n.aspectRatio,u=o.left,l=o.top,d=o.width,h=o.height,p=u+d,f=l+h,m=0,g=0,x=r.width,v=r.height,b=!0;!c&&e.shiftKey&&(c=d&&h?d/h:1),this.limited&&(m=o.minLeft,g=o.minTop,x=m+Math.min(r.width,i.width,i.left+i.width),v=g+Math.min(r.height,i.height,i.top+i.height));var y=a[Object.keys(a)[0]],w={x:y.endX-y.startX,y:y.endY-y.startY},k=function(e){switch(e){case"e":p+w.x>x&&(w.x=x-p);break;case"w":u+w.x<m&&(w.x=m-u);break;case"n":l+w.y<g&&(w.y=g-l);break;case"s":f+w.y>v&&(w.y=v-f)}};switch(s){case"all":u+=w.x,l+=w.y;break;case"e":if(w.x>=0&&(p>=x||c&&(l<=g||f>=v))){b=!1;break}k("e"),(d+=w.x)<0&&(s="w",u-=d=-d),c&&(h=d/c,l+=(o.height-h)/2);break;case"n":if(w.y<=0&&(l<=g||c&&(u<=m||p>=x))){b=!1;break}k("n"),h-=w.y,l+=w.y,h<0&&(s="s",l-=h=-h),c&&(d=h*c,u+=(o.width-d)/2);break;case"w":if(w.x<=0&&(u<=m||c&&(l<=g||f>=v))){b=!1;break}k("w"),d-=w.x,u+=w.x,d<0&&(s="e",u-=d=-d),c&&(h=d/c,l+=(o.height-h)/2);break;case"s":if(w.y>=0&&(f>=v||c&&(u<=m||p>=x))){b=!1;break}k("s"),(h+=w.y)<0&&(s="n",l-=h=-h),c&&(d=h*c,u+=(o.width-d)/2);break;case"ne":if(c){if(w.y<=0&&(l<=g||p>=x)){b=!1;break}k("n"),h-=w.y,l+=w.y,d=h*c}else k("n"),k("e"),w.x>=0?p<x?d+=w.x:w.y<=0&&l<=g&&(b=!1):d+=w.x,w.y<=0?l>g&&(h-=w.y,l+=w.y):(h-=w.y,l+=w.y);d<0&&h<0?(s="sw",l-=h=-h,u-=d=-d):d<0?(s="nw",u-=d=-d):h<0&&(s="se",l-=h=-h);break;case"nw":if(c){if(w.y<=0&&(l<=g||u<=m)){b=!1;break}k("n"),h-=w.y,l+=w.y,d=h*c,u+=o.width-d}else k("n"),k("w"),w.x<=0?u>m?(d-=w.x,u+=w.x):w.y<=0&&l<=g&&(b=!1):(d-=w.x,u+=w.x),w.y<=0?l>g&&(h-=w.y,l+=w.y):(h-=w.y,l+=w.y);d<0&&h<0?(s="se",l-=h=-h,u-=d=-d):d<0?(s="ne",u-=d=-d):h<0&&(s="sw",l-=h=-h);break;case"sw":if(c){if(w.x<=0&&(u<=m||f>=v)){b=!1;break}k("w"),d-=w.x,u+=w.x,h=d/c}else k("s"),k("w"),w.x<=0?u>m?(d-=w.x,u+=w.x):w.y>=0&&f>=v&&(b=!1):(d-=w.x,u+=w.x),w.y>=0?f<v&&(h+=w.y):h+=w.y;d<0&&h<0?(s="ne",l-=h=-h,u-=d=-d):d<0?(s="se",u-=d=-d):h<0&&(s="nw",l-=h=-h);break;case"se":if(c){if(w.x>=0&&(p>=x||f>=v)){b=!1;break}k("e"),h=(d+=w.x)/c}else k("s"),k("e"),w.x>=0?p<x?d+=w.x:w.y>=0&&f>=v&&(b=!1):d+=w.x,w.y>=0?f<v&&(h+=w.y):h+=w.y;d<0&&h<0?(s="nw",l-=h=-h,u-=d=-d):d<0?(s="sw",u-=d=-d):h<0&&(s="ne",l-=h=-h);break;case"move":this.move(w.x,w.y),b=!1;break;case"zoom":this.zoom(function(e){var t=fl({},e),n=0;return Gl(e,(function(e,i){delete t[i],Gl(t,(function(t){var i=Math.abs(e.startX-t.startX),r=Math.abs(e.startY-t.startY),o=Math.abs(e.endX-t.endX),a=Math.abs(e.endY-t.endY),s=Math.sqrt(i*i+r*r),c=(Math.sqrt(o*o+a*a)-s)/s;Math.abs(c)>Math.abs(n)&&(n=c)}))})),n}(a),e),b=!1;break;case"crop":if(!w.x||!w.y){b=!1;break}t=hd(this.cropper),u=y.startX-t.left,l=y.startY-t.top,d=o.minWidth,h=o.minHeight,w.x>0?s=w.y>0?"se":"ne":w.x<0&&(u-=d,s=w.y>0?"sw":"nw"),w.y<0&&(l-=h),this.cropped||(td(this.cropBox,_l),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0))}b&&(o.width=d,o.height=h,o.left=u,o.top=l,this.action=s,this.renderCropBox()),Gl(a,(function(e){e.startX=e.endX,e.startY=e.endY}))}},Dd={crop:function(){return!this.ready||this.cropped||this.disabled||(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&ed(this.dragBox,El),td(this.cropBox,_l),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Kl({},this.initialImageData),this.canvasData=Kl({},this.initialCanvasData),this.cropBoxData=Kl({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Kl(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),td(this.dragBox,El),ed(this.cropBox,_l)),this},replace:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,Gl(this.previews,(function(t){t.getElementsByTagName("img")[0].src=e})))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,td(this.cropper,kl)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,ed(this.cropper,kl)),this},destroy:function(){var e=this.element;return e.cropper?(e.cropper=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,i=n.left,r=n.top;return this.moveTo(jl(e)?e:i+Number(e),jl(t)?t:r+Number(t))},moveTo:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.canvasData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(ql(e)&&(n.left=e,i=!0),ql(t)&&(n.top=t,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(e,t){var n=this.canvasData;return e=(e=Number(e))<0?1/(1-e):1+e,this.zoomTo(n.width*e/n.naturalWidth,null,t)},zoomTo:function(e,t,n){var i=this.options,r=this.canvasData,o=r.width,a=r.height,s=r.naturalWidth,c=r.naturalHeight;if((e=Number(e))>=0&&this.ready&&!this.disabled&&i.zoomable){var u=s*e,l=c*e;if(!1===dd(this.element,"zoom",{ratio:e,oldRatio:o/s,originalEvent:n}))return this;if(n){var d=this.pointers,h=hd(this.cropper),p=d&&Object.keys(d).length?function(e){var t=0,n=0,i=0;return Gl(e,(function(e){var r=e.startX,o=e.startY;t+=r,n+=o,i+=1})),{pageX:t/=i,pageY:n/=i}}(d):{pageX:n.pageX,pageY:n.pageY};r.left-=(u-o)*((p.pageX-h.left-r.left)/o),r.top-=(l-a)*((p.pageY-h.top-r.top)/a)}else Ul(t)&&ql(t.x)&&ql(t.y)?(r.left-=(u-o)*((t.x-r.left)/o),r.top-=(l-a)*((t.y-r.top)/a)):(r.left-=(u-o)/2,r.top-=(l-a)/2);r.width=u,r.height=l,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return ql(e=Number(e))&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,ql(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(ql(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=this.imageData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(ql(e)&&(n.scaleX=e,i=!0),ql(t)&&(n.scaleY=t,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.options,i=this.imageData,r=this.canvasData,o=this.cropBoxData;if(this.ready&&this.cropped){e={x:o.left-r.left,y:o.top-r.top,width:o.width,height:o.height};var a=i.width/i.naturalWidth;if(Gl(e,(function(t,n){e[n]=t/a})),t){var s=Math.round(e.y+e.height),c=Math.round(e.x+e.width);e.x=Math.round(e.x),e.y=Math.round(e.y),e.width=c-e.x,e.height=s-e.y}}else e={x:0,y:0,width:0,height:0};return n.rotatable&&(e.rotate=i.rotate||0),n.scalable&&(e.scaleX=i.scaleX||1,e.scaleY=i.scaleY||1),e},setData:function(e){var t=this.options,n=this.imageData,i=this.canvasData,r={};if(this.ready&&!this.disabled&&Ul(e)){var o=!1;t.rotatable&&ql(e.rotate)&&e.rotate!==n.rotate&&(n.rotate=e.rotate,o=!0),t.scalable&&(ql(e.scaleX)&&e.scaleX!==n.scaleX&&(n.scaleX=e.scaleX,o=!0),ql(e.scaleY)&&e.scaleY!==n.scaleY&&(n.scaleY=e.scaleY,o=!0)),o&&this.renderCanvas(!0,!0);var a=n.width/n.naturalWidth;ql(e.x)&&(r.left=e.x*a+i.left),ql(e.y)&&(r.top=e.y*a+i.top),ql(e.width)&&(r.width=e.width*a),ql(e.height)&&(r.height=e.height*a),this.setCropBoxData(r)}return this},getContainerData:function(){return this.ready?Kl({},this.containerData):{}},getImageData:function(){return this.sized?Kl({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&Gl(["left","top","width","height","naturalWidth","naturalHeight"],(function(n){t[n]=e[n]})),t},setCanvasData:function(e){var t=this.canvasData,n=t.aspectRatio;return this.ready&&!this.disabled&&Ul(e)&&(ql(e.left)&&(t.left=e.left),ql(e.top)&&(t.top=e.top),ql(e.width)?(t.width=e.width,t.height=e.width/n):ql(e.height)&&(t.height=e.height,t.width=e.height*n),this.renderCanvas(!0)),this},getCropBoxData:function(){var e,t=this.cropBoxData;return this.ready&&this.cropped&&(e={left:t.left,top:t.top,width:t.width,height:t.height}),e||{}},setCropBoxData:function(e){var t,n,i=this.cropBoxData,r=this.options.aspectRatio;return this.ready&&this.cropped&&!this.disabled&&Ul(e)&&(ql(e.left)&&(i.left=e.left),ql(e.top)&&(i.top=e.top),ql(e.width)&&e.width!==i.width&&(t=!0,i.width=e.width),ql(e.height)&&e.height!==i.height&&(n=!0,i.height=e.height),r&&(t?i.height=i.width/r:n&&(i.width=i.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,n=yd(this.image,this.imageData,t,e);if(!this.cropped)return n;var i=this.getData(),r=i.x,o=i.y,a=i.width,s=i.height,c=n.width/Math.floor(t.naturalWidth);1!==c&&(r*=c,o*=c,a*=c,s*=c);var u=a/s,l=bd({aspectRatio:u,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),d=bd({aspectRatio:u,width:e.minWidth||0,height:e.minHeight||0},"cover"),h=bd({aspectRatio:u,width:e.width||(1!==c?n.width:a),height:e.height||(1!==c?n.height:s)}),p=h.width,f=h.height;p=Math.min(l.width,Math.max(d.width,p)),f=Math.min(l.height,Math.max(d.height,f));var m=document.createElement("canvas"),g=m.getContext("2d");m.width=Jl(p),m.height=Jl(f),g.fillStyle=e.fillColor||"transparent",g.fillRect(0,0,p,f);var x=e.imageSmoothingEnabled,v=void 0===x||x,b=e.imageSmoothingQuality;g.imageSmoothingEnabled=v,b&&(g.imageSmoothingQuality=b);var y,w,k,_,C,S,E=n.width,O=n.height,M=r,D=o;M<=-a||M>E?(M=0,y=0,k=0,C=0):M<=0?(k=-M,M=0,C=y=Math.min(E,a+M)):M<=E&&(k=0,C=y=Math.min(a,E-M)),y<=0||D<=-s||D>O?(D=0,w=0,_=0,S=0):D<=0?(_=-D,D=0,S=w=Math.min(O,s+D)):D<=O&&(_=0,S=w=Math.min(s,O-D));var T=[M,D,y,w];if(C>0&&S>0){var A=p/a;T.push(k*A,_*A,C*A,S*A)}return g.drawImage.apply(g,[n].concat(ml(T.map((function(e){return Math.floor(Jl(e))}))))),m},setAspectRatio:function(e){var t=this.options;return this.disabled||jl(e)||(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,n=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var r="crop"===e,o=t.movable&&"move"===e;e=r||o?e:"none",t.dragMode=e,ad(n,Ml,e),nd(n,wl,r),nd(n,Ol,o),t.cropBoxMovable||(ad(i,Ml,e),nd(i,wl,r),nd(i,Ol,o))}return this}},Td=vl.Cropper,Ad=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ll(this,e),!t||!Bl.test(t.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=t,this.options=Kl({},Ll,Ul(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}var t,n,i;return t=e,i=[{key:"noConflict",value:function(){return window.Cropper=Td,e}},{key:"setDefaults",value:function(e){Kl(Ll,Ul(e)&&e)}}],(n=[{key:"init",value:function(){var e,t=this.element,n=t.tagName.toLowerCase();if(!t.cropper){if(t.cropper=this,"img"===n){if(this.isImg=!0,e=t.getAttribute("src")||"",this.originalUrl=e,!e)return;e=t.src}else"canvas"===n&&window.HTMLCanvasElement&&(e=t.toDataURL());this.load(e)}}},{key:"load",value:function(e){var t=this;if(e){this.url=e,this.imageData={};var n=this.element,i=this.options;if(i.rotatable||i.scalable||(i.checkOrientation=!1),i.checkOrientation&&window.ArrayBuffer)if(Rl.test(e))Il.test(e)?this.read((r=e.replace(kd,""),o=atob(r),a=new ArrayBuffer(o.length),Gl(s=new Uint8Array(a),(function(e,t){s[t]=o.charCodeAt(t)})),a)):this.clone();else{var r,o,a,s,c=new XMLHttpRequest,u=this.clone.bind(this);this.reloading=!0,this.xhr=c,c.onabort=u,c.onerror=u,c.ontimeout=u,c.onprogress=function(){"image/jpeg"!==c.getResponseHeader("content-type")&&c.abort()},c.onload=function(){t.read(c.response)},c.onloadend=function(){t.reloading=!1,t.xhr=null},i.checkCrossOrigin&&md(e)&&n.crossOrigin&&(e=gd(e)),c.open("GET",e,!0),c.responseType="arraybuffer",c.withCredentials="use-credentials"===n.crossOrigin,c.send()}else this.clone()}}},{key:"read",value:function(e){var t=this.options,n=this.imageData,i=_d(e),r=0,o=1,a=1;if(i>1){this.url=function(e,t){for(var n=[],i=new Uint8Array(e);i.length>0;)n.push(wd.apply(null,Yl(i.subarray(0,8192)))),i=i.subarray(8192);return"data:".concat(t,";base64,").concat(btoa(n.join("")))}(e,"image/jpeg");var s=function(e){var t=0,n=1,i=1;switch(e){case 2:n=-1;break;case 3:t=-180;break;case 4:i=-1;break;case 5:t=90,i=-1;break;case 6:t=90;break;case 7:t=90,n=-1;break;case 8:t=-90}return{rotate:t,scaleX:n,scaleY:i}}(i);r=s.rotate,o=s.scaleX,a=s.scaleY}t.rotatable&&(n.rotate=r),t.scalable&&(n.scaleX=o,n.scaleY=a),this.clone()}},{key:"clone",value:function(){var e=this.element,t=this.url,n=e.crossOrigin,i=t;this.options.checkCrossOrigin&&md(t)&&(n||(n="anonymous"),i=gd(t)),this.crossOrigin=n,this.crossOriginUrl=i;var r=document.createElement("img");n&&(r.crossOrigin=n),r.src=i||t,r.alt=e.alt||"The image to crop",this.image=r,r.onload=this.start.bind(this),r.onerror=this.stop.bind(this),ed(r,Cl),e.parentNode.insertBefore(r,e.nextSibling)}},{key:"start",value:function(){var e=this,t=this.image;t.onload=null,t.onerror=null,this.sizing=!0;var n=vl.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(vl.navigator.userAgent),i=function(t,n){Kl(e.imageData,{naturalWidth:t,naturalHeight:n,aspectRatio:t/n}),e.initialImageData=Kl({},e.imageData),e.sizing=!1,e.sized=!0,e.build()};if(!t.naturalWidth||n){var r=document.createElement("img"),o=document.body||document.documentElement;this.sizingImage=r,r.onload=function(){i(r.width,r.height),n||o.removeChild(r)},r.src=t.src,n||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",o.appendChild(r))}else i(t.naturalWidth,t.naturalHeight)}},{key:"stop",value:function(){var e=this.image;e.onload=null,e.onerror=null,e.parentNode.removeChild(e),this.image=null}},{key:"build",value:function(){if(this.sized&&!this.ready){var e=this.element,t=this.options,n=this.image,i=e.parentNode,r=document.createElement("div");r.innerHTML='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>';var o=r.querySelector(".".concat("cropper","-container")),a=o.querySelector(".".concat("cropper","-canvas")),s=o.querySelector(".".concat("cropper","-drag-box")),c=o.querySelector(".".concat("cropper","-crop-box")),u=c.querySelector(".".concat("cropper","-face"));this.container=i,this.cropper=o,this.canvas=a,this.dragBox=s,this.cropBox=c,this.viewBox=o.querySelector(".".concat("cropper","-view-box")),this.face=u,a.appendChild(n),ed(e,_l),i.insertBefore(o,e.nextSibling),this.isImg||td(n,Cl),this.initPreview(),this.bind(),t.initialAspectRatio=Math.max(0,t.initialAspectRatio)||NaN,t.aspectRatio=Math.max(0,t.aspectRatio)||NaN,t.viewMode=Math.max(0,Math.min(3,Math.round(t.viewMode)))||0,ed(c,_l),t.guides||ed(c.getElementsByClassName("".concat("cropper","-dashed")),_l),t.center||ed(c.getElementsByClassName("".concat("cropper","-center")),_l),t.background&&ed(o,"".concat("cropper","-bg")),t.highlight||ed(u,Sl),t.cropBoxMovable&&(ed(u,Ol),ad(u,Ml,"all")),t.cropBoxResizable||(ed(c.getElementsByClassName("".concat("cropper","-line")),_l),ed(c.getElementsByClassName("".concat("cropper","-point")),_l)),this.render(),this.ready=!0,this.setDragMode(t.dragMode),t.autoCrop&&this.crop(),this.setData(t.data),Vl(t.ready)&&ld(e,"ready",t.ready,{once:!0}),dd(e,"ready")}}},{key:"unbuild",value:function(){this.ready&&(this.ready=!1,this.unbind(),this.resetPreview(),this.cropper.parentNode.removeChild(this.cropper),td(this.element,_l))}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}])&&dl(t.prototype,n),i&&dl(t,i),e}();Kl(Ad.prototype,Cd,Sd,Ed,Od,Md,Dd);export{Is as A,sr as B,ir as C,ue as D,Mt as E,ct as F,Xe as G,x as H,Ct as I,ba as J,Be as K,Oe as L,Qo as M,P as N,Ge as O,At as P,Ke as Q,Ie as R,se as S,dt as T,ls as U,Gr as V,$a as W,Ua as X,vr as Y,Po as Z,ye as a,No as b,Ls as c,go as d,Rr as e,Pa as f,fa as g,ra as h,bs as i,xo as j,ys as k,ks as l,zr as m,Dr as n,s as o,Cs as p,Ss as q,mo as r,bo as s,Qa as t,fo as u,Os as v,Ts as w,Ds as x,Rs as y,zs as z};
